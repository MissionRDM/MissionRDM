(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Oe={},Ns=[],rn=()=>{},Xp=()=>!1,go=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wl=t=>t.startsWith("onUpdate:"),at=Object.assign,El=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Zp=Object.prototype.hasOwnProperty,ke=(t,e)=>Zp.call(t,e),ae=Array.isArray,Ps=t=>oi(t)==="[object Map]",_o=t=>oi(t)==="[object Set]",Dc=t=>oi(t)==="[object Date]",de=t=>typeof t=="function",Ye=t=>typeof t=="string",Yt=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",mh=t=>(Pe(t)||de(t))&&de(t.then)&&de(t.catch),ph=Object.prototype.toString,oi=t=>ph.call(t),eg=t=>oi(t).slice(8,-1),gh=t=>oi(t)==="[object Object]",Sl=t=>Ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yr=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},tg=/-(\w)/g,Ft=vo(t=>t.replace(tg,(e,n)=>n?n.toUpperCase():"")),ng=/\B([A-Z])/g,ps=vo(t=>t.replace(ng,"-$1").toLowerCase()),yo=vo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xo=vo(t=>t?`on${yo(t)}`:""),$n=(t,e)=>!Object.is(t,e),Li=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_h=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Hi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},sg=t=>{const e=Ye(t)?Number(t):NaN;return isNaN(e)?t:e};let $c;const bo=()=>$c||($c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Co(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ye(s)?ag(s):Co(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ye(t)||Pe(t))return t}const rg=/;(?![^(]*\))/g,ig=/:([^]+)/,og=/\/\*[^]*?\*\//g;function ag(t){const e={};return t.replace(og,"").split(rg).forEach(n=>{if(n){const s=n.split(ig);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function qe(t){let e="";if(Ye(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const s=qe(t[n]);s&&(e+=s+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const lg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cg=Cl(lg);function vh(t){return!!t||t===""}function ug(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=wo(t[s],e[s]);return n}function wo(t,e){if(t===e)return!0;let n=Dc(t),s=Dc(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Yt(t),s=Yt(e),n||s)return t===e;if(n=ae(t),s=ae(e),n||s)return n&&s?ug(t,e):!1;if(n=Pe(t),s=Pe(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!wo(t[o],e[o]))return!1}}return String(t)===String(e)}function dg(t,e){return t.findIndex(n=>wo(n,e))}const yh=t=>!!(t&&t.__v_isRef===!0),j=t=>Ye(t)?t:t==null?"":ae(t)||Pe(t)&&(t.toString===ph||!de(t.toString))?yh(t)?j(t.value):JSON.stringify(t,bh,2):String(t),bh=(t,e)=>yh(e)?bh(t,e.value):Ps(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Zo(s,i)+" =>"]=r,n),{})}:_o(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Zo(n))}:Yt(e)?Zo(e):Pe(e)&&!ae(e)&&!gh(e)?String(e):e,Zo=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mt;class Ch{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mt,!e&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=mt;try{return mt=this,e()}finally{mt=n}}}on(){++this._on===1&&(this.prevScope=mt,mt=this)}off(){this._on>0&&--this._on===0&&(mt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Il(t){return new Ch(t)}function wh(){return mt}function hg(t,e=!1){mt&&mt.cleanups.push(t)}let De;const ea=new WeakSet;class Eh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mt&&mt.active&&mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ea.has(this)&&(ea.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ih(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fc(this),xh(this);const e=De,n=Vt;De=this,Vt=!0;try{return this.fn()}finally{Th(this),De=e,Vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)kl(e);this.deps=this.depsTail=void 0,Fc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ea.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Aa(this)&&this.run()}get dirty(){return Aa(this)}}let Sh=0,br,Cr;function Ih(t,e=!1){if(t.flags|=8,e){t.next=Cr,Cr=t;return}t.next=br,br=t}function xl(){Sh++}function Tl(){if(--Sh>0)return;if(Cr){let e=Cr;for(Cr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;br;){let e=br;for(br=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function xh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Th(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),kl(s),fg(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Aa(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(kh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function kh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Or)||(t.globalVersion=Or,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Aa(t))))return;t.flags|=2;const e=t.dep,n=De,s=Vt;De=t,Vt=!0;try{xh(t);const r=t.fn(t._value);(e.version===0||$n(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{De=n,Vt=s,Th(t),t.flags&=-3}}function kl(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)kl(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function fg(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vt=!0;const Ah=[];function wn(){Ah.push(Vt),Vt=!1}function En(){const t=Ah.pop();Vt=t===void 0?!0:t}function Fc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let Or=0;class mg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Al{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!De||!Vt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new mg(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,Rh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=s)}return n}trigger(e){this.version++,Or++,this.notify(e)}notify(e){xl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Tl()}}}function Rh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Rh(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const qi=new WeakMap,cs=Symbol(""),Ra=Symbol(""),Mr=Symbol("");function pt(t,e,n){if(Vt&&De){let s=qi.get(t);s||qi.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Al),r.map=s,r.key=n),r.track()}}function pn(t,e,n,s,r,i){const o=qi.get(t);if(!o){Or++;return}const a=l=>{l&&l.trigger()};if(xl(),e==="clear")o.forEach(a);else{const l=ae(t),c=l&&Sl(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,h)=>{(h==="length"||h===Mr||!Yt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Mr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(cs)),Ps(t)&&a(o.get(Ra)));break;case"delete":l||(a(o.get(cs)),Ps(t)&&a(o.get(Ra)));break;case"set":Ps(t)&&a(o.get(cs));break}}Tl()}function pg(t,e){const n=qi.get(t);return n&&n.get(e)}function ws(t){const e=ye(t);return e===t?e:(pt(e,"iterate",Mr),$t(t)?e:e.map(ut))}function Eo(t){return pt(t=ye(t),"iterate",Mr),t}const gg={__proto__:null,[Symbol.iterator](){return ta(this,Symbol.iterator,ut)},concat(...t){return ws(this).concat(...t.map(e=>ae(e)?ws(e):e))},entries(){return ta(this,"entries",t=>(t[1]=ut(t[1]),t))},every(t,e){return un(this,"every",t,e,void 0,arguments)},filter(t,e){return un(this,"filter",t,e,n=>n.map(ut),arguments)},find(t,e){return un(this,"find",t,e,ut,arguments)},findIndex(t,e){return un(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return un(this,"findLast",t,e,ut,arguments)},findLastIndex(t,e){return un(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return un(this,"forEach",t,e,void 0,arguments)},includes(...t){return na(this,"includes",t)},indexOf(...t){return na(this,"indexOf",t)},join(t){return ws(this).join(t)},lastIndexOf(...t){return na(this,"lastIndexOf",t)},map(t,e){return un(this,"map",t,e,void 0,arguments)},pop(){return ur(this,"pop")},push(...t){return ur(this,"push",t)},reduce(t,...e){return zc(this,"reduce",t,e)},reduceRight(t,...e){return zc(this,"reduceRight",t,e)},shift(){return ur(this,"shift")},some(t,e){return un(this,"some",t,e,void 0,arguments)},splice(...t){return ur(this,"splice",t)},toReversed(){return ws(this).toReversed()},toSorted(t){return ws(this).toSorted(t)},toSpliced(...t){return ws(this).toSpliced(...t)},unshift(...t){return ur(this,"unshift",t)},values(){return ta(this,"values",ut)}};function ta(t,e,n){const s=Eo(t),r=s[e]();return s!==t&&!$t(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const _g=Array.prototype;function un(t,e,n,s,r,i){const o=Eo(t),a=o!==t&&!$t(t),l=o[e];if(l!==_g[e]){const d=l.apply(t,i);return a?ut(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,ut(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,s);return a&&r?r(u):u}function zc(t,e,n,s){const r=Eo(t);let i=n;return r!==t&&($t(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,ut(a),l,t)}),r[e](i,...s)}function na(t,e,n){const s=ye(t);pt(s,"iterate",Mr);const r=s[e](...n);return(r===-1||r===!1)&&Pl(n[0])?(n[0]=ye(n[0]),s[e](...n)):r}function ur(t,e,n=[]){wn(),xl();const s=ye(t)[e].apply(t,n);return Tl(),En(),s}const vg=Cl("__proto__,__v_isRef,__isVue"),Nh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function yg(t){Yt(t)||(t=String(t));const e=ye(this);return pt(e,"has",t),e.hasOwnProperty(t)}class Ph{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Ag:Dh:i?Mh:Oh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ae(e);if(!r){let l;if(o&&(l=gg[n]))return l;if(n==="hasOwnProperty")return yg}const a=Reflect.get(e,n,He(e)?e:s);return(Yt(n)?Nh.has(n):vg(n))||(r||pt(e,"get",n),i)?a:He(a)?o&&Sl(n)?a:a.value:Pe(a)?r?Fh(a):ai(a):a}}class Lh extends Ph{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=jn(i);if(!$t(s)&&!jn(s)&&(i=ye(i),s=ye(s)),!ae(e)&&He(i)&&!He(s))return l?!1:(i.value=s,!0)}const o=ae(e)&&Sl(n)?Number(n)<e.length:ke(e,n),a=Reflect.set(e,n,s,He(e)?e:r);return e===ye(r)&&(o?$n(s,i)&&pn(e,"set",n,s):pn(e,"add",n,s)),a}deleteProperty(e,n){const s=ke(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&pn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Yt(n)||!Nh.has(n))&&pt(e,"has",n),s}ownKeys(e){return pt(e,"iterate",ae(e)?"length":cs),Reflect.ownKeys(e)}}class bg extends Ph{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Cg=new Lh,wg=new bg,Eg=new Lh(!0);const Na=t=>t,Ei=t=>Reflect.getPrototypeOf(t);function Sg(t,e,n){return function(...s){const r=this.__v_raw,i=ye(r),o=Ps(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Na:e?ji:ut;return!e&&pt(i,"iterate",l?Ra:cs),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Si(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ig(t,e){const n={get(r){const i=this.__v_raw,o=ye(i),a=ye(r);t||($n(r,a)&&pt(o,"get",r),pt(o,"get",a));const{has:l}=Ei(o),c=e?Na:t?ji:ut;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&pt(ye(r),"iterate",cs),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ye(i),a=ye(r);return t||($n(r,a)&&pt(o,"has",r),pt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ye(a),c=e?Na:t?ji:ut;return!t&&pt(l,"iterate",cs),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return at(n,t?{add:Si("add"),set:Si("set"),delete:Si("delete"),clear:Si("clear")}:{add(r){!e&&!$t(r)&&!jn(r)&&(r=ye(r));const i=ye(this);return Ei(i).has.call(i,r)||(i.add(r),pn(i,"add",r,r)),this},set(r,i){!e&&!$t(i)&&!jn(i)&&(i=ye(i));const o=ye(this),{has:a,get:l}=Ei(o);let c=a.call(o,r);c||(r=ye(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?$n(i,u)&&pn(o,"set",r,i):pn(o,"add",r,i),this},delete(r){const i=ye(this),{has:o,get:a}=Ei(i);let l=o.call(i,r);l||(r=ye(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&pn(i,"delete",r,void 0),c},clear(){const r=ye(this),i=r.size!==0,o=r.clear();return i&&pn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Sg(r,t,e)}),n}function Rl(t,e){const n=Ig(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ke(n,r)&&r in s?n:s,r,i)}const xg={get:Rl(!1,!1)},Tg={get:Rl(!1,!0)},kg={get:Rl(!0,!1)};const Oh=new WeakMap,Mh=new WeakMap,Dh=new WeakMap,Ag=new WeakMap;function Rg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ng(t){return t.__v_skip||!Object.isExtensible(t)?0:Rg(eg(t))}function ai(t){return jn(t)?t:Nl(t,!1,Cg,xg,Oh)}function $h(t){return Nl(t,!1,Eg,Tg,Mh)}function Fh(t){return Nl(t,!0,wg,kg,Dh)}function Nl(t,e,n,s,r){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Ng(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function bn(t){return jn(t)?bn(t.__v_raw):!!(t&&t.__v_isReactive)}function jn(t){return!!(t&&t.__v_isReadonly)}function $t(t){return!!(t&&t.__v_isShallow)}function Pl(t){return t?!!t.__v_raw:!1}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function Ll(t){return!ke(t,"__v_skip")&&Object.isExtensible(t)&&_h(t,"__v_skip",!0),t}const ut=t=>Pe(t)?ai(t):t,ji=t=>Pe(t)?Fh(t):t;function He(t){return t?t.__v_isRef===!0:!1}function oe(t){return Hh(t,!1)}function zh(t){return Hh(t,!0)}function Hh(t,e){return He(t)?t:new Pg(t,e)}class Pg{constructor(e,n){this.dep=new Al,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ye(e),this._value=n?e:ut(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||$t(e)||jn(e);e=s?e:ye(e),$n(e,n)&&(this._rawValue=e,this._value=s?e:ut(e),this.dep.trigger())}}function C(t){return He(t)?t.value:t}const Lg={get:(t,e,n)=>e==="__v_raw"?t:C(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function qh(t){return bn(t)?t:new Proxy(t,Lg)}function Og(t){const e=ae(t)?new Array(t.length):{};for(const n in t)e[n]=jh(t,n);return e}class Mg{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return pg(ye(this._object),this._key)}}class Dg{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $g(t,e,n){return He(t)?t:de(t)?new Dg(t):Pe(t)&&arguments.length>1?jh(t,e,n):oe(t)}function jh(t,e,n){const s=t[e];return He(s)?s:new Mg(t,e,n)}class Fg{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Al(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Or-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return Ih(this,!0),!0}get value(){const e=this.dep.track();return kh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function zg(t,e,n=!1){let s,r;return de(t)?s=t:(s=t.get,r=t.set),new Fg(s,r,n)}const Ii={},Ui=new WeakMap;let ns;function Hg(t,e=!1,n=ns){if(n){let s=Ui.get(n);s||Ui.set(n,s=[]),s.push(t)}}function qg(t,e,n=Oe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=I=>r?I:$t(I)||r===!1||r===0?gn(I,1):gn(I);let u,d,h,f,y=!1,m=!1;if(He(t)?(d=()=>t.value,y=$t(t)):bn(t)?(d=()=>c(t),y=!0):ae(t)?(m=!0,y=t.some(I=>bn(I)||$t(I)),d=()=>t.map(I=>{if(He(I))return I.value;if(bn(I))return c(I);if(de(I))return l?l(I,2):I()})):de(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){wn();try{h()}finally{En()}}const I=ns;ns=u;try{return l?l(t,3,[f]):t(f)}finally{ns=I}}:d=rn,e&&r){const I=d,N=r===!0?1/0:r;d=()=>gn(I(),N)}const g=wh(),p=()=>{u.stop(),g&&g.active&&El(g.effects,u)};if(i&&e){const I=e;e=(...N)=>{I(...N),p()}}let E=m?new Array(t.length).fill(Ii):Ii;const x=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(e){const N=u.run();if(r||y||(m?N.some(($,R)=>$n($,E[R])):$n(N,E))){h&&h();const $=ns;ns=u;try{const R=[N,E===Ii?void 0:m&&E[0]===Ii?[]:E,f];E=N,l?l(e,3,R):e(...R)}finally{ns=$}}}else u.run()};return a&&a(x),u=new Eh(d),u.scheduler=o?()=>o(x,!1):x,f=I=>Hg(I,!1,u),h=u.onStop=()=>{const I=Ui.get(u);if(I){if(l)l(I,4);else for(const N of I)N();Ui.delete(u)}},e?s?x(!0):E=u.run():o?o(x.bind(null,!0),!0):u.run(),p.pause=u.pause.bind(u),p.resume=u.resume.bind(u),p.stop=p,p}function gn(t,e=1/0,n){if(e<=0||!Pe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,He(t))gn(t.value,e,n);else if(ae(t))for(let s=0;s<t.length;s++)gn(t[s],e,n);else if(_o(t)||Ps(t))t.forEach(s=>{gn(s,e,n)});else if(gh(t)){for(const s in t)gn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&gn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function li(t,e,n,s){try{return s?t(...s):t()}catch(r){So(r,e,n)}}function Kt(t,e,n,s){if(de(t)){const r=li(t,e,n,s);return r&&mh(r)&&r.catch(i=>{So(i,e,n)}),r}if(ae(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Kt(t[i],e,n,s));return r}}function So(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Oe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){wn(),li(i,null,10,[t,l,c]),En();return}}jg(t,n,r,s,o)}function jg(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ct=[];let nn=-1;const Ls=[];let Pn=null,Ts=0;const Uh=Promise.resolve();let Bi=null;function Io(t){const e=Bi||Uh;return t?e.then(this?t.bind(this):t):e}function Ug(t){let e=nn+1,n=Ct.length;for(;e<n;){const s=e+n>>>1,r=Ct[s],i=Dr(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Ol(t){if(!(t.flags&1)){const e=Dr(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=Dr(n)?Ct.push(t):Ct.splice(Ug(e),0,t),t.flags|=1,Bh()}}function Bh(){Bi||(Bi=Uh.then(Wh))}function Bg(t){ae(t)?Ls.push(...t):Pn&&t.id===-1?Pn.splice(Ts+1,0,t):t.flags&1||(Ls.push(t),t.flags|=1),Bh()}function Hc(t,e,n=nn+1){for(;n<Ct.length;n++){const s=Ct[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ct.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Vh(t){if(Ls.length){const e=[...new Set(Ls)].sort((n,s)=>Dr(n)-Dr(s));if(Ls.length=0,Pn){Pn.push(...e);return}for(Pn=e,Ts=0;Ts<Pn.length;Ts++){const n=Pn[Ts];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Pn=null,Ts=0}}const Dr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Wh(t){try{for(nn=0;nn<Ct.length;nn++){const e=Ct[nn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),li(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nn<Ct.length;nn++){const e=Ct[nn];e&&(e.flags&=-2)}nn=-1,Ct.length=0,Vh(),Bi=null,(Ct.length||Ls.length)&&Wh()}}let Ze=null,Gh=null;function Vi(t){const e=Ze;return Ze=t,Gh=t&&t.type.__scopeId||null,e}function et(t,e=Ze,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Jc(-1);const i=Vi(e);let o;try{o=t(...r)}finally{Vi(i),s._d&&Jc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function us(t,e){if(Ze===null)return t;const n=No(Ze),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Oe]=e[r];i&&(de(i)&&(i={mounted:i,updated:i}),i.deep&&gn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Xn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(wn(),Kt(l,n,8,[t.el,a,t,e]),En())}}const Vg=Symbol("_vte"),Yh=t=>t.__isTeleport,Ln=Symbol("_leaveCb"),xi=Symbol("_enterCb");function Wg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return It(()=>{t.isMounted=!0}),nf(()=>{t.isUnmounting=!0}),t}const Ot=[Function,Array],Kh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},Qh=t=>{const e=t.subTree;return e.component?Qh(e.component):e},Gg={name:"BaseTransition",props:Kh,setup(t,{slots:e}){const n=Hs(),s=Wg();return()=>{const r=e.default&&Zh(e.default(),!0);if(!r||!r.length)return;const i=Jh(r),o=ye(t),{mode:a}=o;if(s.isLeaving)return sa(i);const l=qc(i);if(!l)return sa(i);let c=Pa(l,o,s,n,d=>c=d);l.type!==gt&&$r(l,c);let u=n.subTree&&qc(n.subTree);if(u&&u.type!==gt&&!is(l,u)&&Qh(n).type!==gt){let d=Pa(u,o,s,n);if($r(u,d),a==="out-in"&&l.type!==gt)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},sa(i);a==="in-out"&&l.type!==gt?d.delayLeave=(h,f,y)=>{const m=Xh(s,u);m[String(u.key)]=u,h[Ln]=()=>{f(),h[Ln]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Jh(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==gt){e=n;break}}return e}const Yg=Gg;function Xh(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Pa(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:g,onAppear:p,onAfterAppear:E,onAppearCancelled:x}=e,I=String(t.key),N=Xh(n,t),$=(M,V)=>{M&&Kt(M,s,9,V)},R=(M,V)=>{const Y=V[1];$(M,V),ae(M)?M.every(B=>B.length<=1)&&Y():M.length<=1&&Y()},W={mode:o,persisted:a,beforeEnter(M){let V=l;if(!n.isMounted)if(i)V=g||l;else return;M[Ln]&&M[Ln](!0);const Y=N[I];Y&&is(t,Y)&&Y.el[Ln]&&Y.el[Ln](),$(V,[M])},enter(M){let V=c,Y=u,B=d;if(!n.isMounted)if(i)V=p||c,Y=E||u,B=x||d;else return;let ee=!1;const ne=M[xi]=Ue=>{ee||(ee=!0,Ue?$(B,[M]):$(Y,[M]),W.delayedLeave&&W.delayedLeave(),M[xi]=void 0)};V?R(V,[M,ne]):ne()},leave(M,V){const Y=String(t.key);if(M[xi]&&M[xi](!0),n.isUnmounting)return V();$(h,[M]);let B=!1;const ee=M[Ln]=ne=>{B||(B=!0,V(),ne?$(m,[M]):$(y,[M]),M[Ln]=void 0,N[Y]===t&&delete N[Y])};N[Y]=t,f?R(f,[M,ee]):ee()},clone(M){const V=Pa(M,e,n,s,r);return r&&r(V),V}};return W}function sa(t){if(xo(t))return t=Un(t),t.children=null,t}function qc(t){if(!xo(t))return Yh(t.type)&&t.children?Jh(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&de(n.default))return n.default()}}function $r(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$r(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zh(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===be?(o.patchFlag&128&&r++,s=s.concat(Zh(o.children,e,a))):(e||o.type!==gt)&&s.push(a!=null?Un(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ci(t,e){return de(t)?at({name:t.name},e,{setup:t}):t}function ef(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Wi(t,e,n,s,r=!1){if(ae(t)){t.forEach((y,m)=>Wi(y,e&&(ae(e)?e[m]:e),n,s,r));return}if(Os(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Wi(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?No(s.component):s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Oe?a.refs={}:a.refs,d=a.setupState,h=ye(d),f=d===Oe?()=>!1:y=>ke(h,y);if(c!=null&&c!==l&&(Ye(c)?(u[c]=null,f(c)&&(d[c]=null)):He(c)&&(c.value=null)),de(l))li(l,a,12,[o,u]);else{const y=Ye(l),m=He(l);if(y||m){const g=()=>{if(t.f){const p=y?f(l)?d[l]:u[l]:l.value;r?ae(p)&&El(p,i):ae(p)?p.includes(i)||p.push(i):y?(u[l]=[i],f(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else y?(u[l]=o,f(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,Rt(g,n)):g()}}}bo().requestIdleCallback;bo().cancelIdleCallback;const Os=t=>!!t.type.__asyncLoader,xo=t=>t.type.__isKeepAlive;function Kg(t,e){tf(t,"a",e)}function Qg(t,e){tf(t,"da",e)}function tf(t,e,n=ot){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(To(e,s,n),n){let r=n.parent;for(;r&&r.parent;)xo(r.parent.vnode)&&Jg(s,e,n,r),r=r.parent}}function Jg(t,e,n,s){const r=To(e,t,s,!0);ko(()=>{El(s[e],r)},n)}function To(t,e,n=ot,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{wn();const a=di(n),l=Kt(e,n,t,o);return a(),En(),l});return s?r.unshift(i):r.push(i),i}}const xn=t=>(e,n=ot)=>{(!Hr||t==="sp")&&To(t,(...s)=>e(...s),n)},Xg=xn("bm"),It=xn("m"),Zg=xn("bu"),e_=xn("u"),nf=xn("bum"),ko=xn("um"),t_=xn("sp"),n_=xn("rtg"),s_=xn("rtc");function r_(t,e=ot){To("ec",t,e)}const i_="components";function o_(t,e){return l_(i_,t,!0,e)||t}const a_=Symbol.for("v-ndc");function l_(t,e,n=!0,s=!1){const r=Ze||ot;if(r){const i=r.type;{const a=Q_(i,!1);if(a&&(a===e||a===Ft(e)||a===yo(Ft(e))))return i}const o=jc(r[t]||i[t],e)||jc(r.appContext[t],e);return!o&&s?i:o}}function jc(t,e){return t&&(t[e]||t[Ft(e)]||t[yo(Ft(e))])}function zt(t,e,n,s){let r;const i=n,o=ae(t);if(o||Ye(t)){const a=o&&bn(t);let l=!1,c=!1;a&&(l=!$t(t),c=jn(t),t=Eo(t)),r=new Array(t.length);for(let u=0,d=t.length;u<d;u++)r[u]=e(l?c?ji(ut(t[u])):ut(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(Pe(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function La(t,e,n={},s,r){if(Ze.ce||Ze.parent&&Os(Ze.parent)&&Ze.parent.ce)return e!=="default"&&(n.name=e),O(),Re(be,null,[J("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),O();const o=i&&sf(i(n)),a=n.key||o&&o.key,l=Re(be,{key:(a&&!Yt(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function sf(t){return t.some(e=>zr(e)?!(e.type===gt||e.type===be&&!sf(e.children)):!0)?t:null}const Oa=t=>t?Sf(t)?No(t):Oa(t.parent):null,wr=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Oa(t.parent),$root:t=>Oa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>of(t),$forceUpdate:t=>t.f||(t.f=()=>{Ol(t.update)}),$nextTick:t=>t.n||(t.n=Io.bind(t.proxy)),$watch:t=>R_.bind(t)}),ra=(t,e)=>t!==Oe&&!t.__isScriptSetup&&ke(t,e),c_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ra(s,e))return o[e]=1,s[e];if(r!==Oe&&ke(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ke(c,e))return o[e]=3,i[e];if(n!==Oe&&ke(n,e))return o[e]=4,n[e];Ma&&(o[e]=0)}}const u=wr[e];let d,h;if(u)return e==="$attrs"&&pt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Oe&&ke(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,ke(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ra(r,e)?(r[e]=n,!0):s!==Oe&&ke(s,e)?(s[e]=n,!0):ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Oe&&ke(t,o)||ra(e,o)||(a=i[0])&&ke(a,o)||ke(s,o)||ke(wr,o)||ke(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Uc(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ma=!0;function u_(t){const e=of(t),n=t.proxy,s=t.ctx;Ma=!1,e.beforeCreate&&Bc(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:y,activated:m,deactivated:g,beforeDestroy:p,beforeUnmount:E,destroyed:x,unmounted:I,render:N,renderTracked:$,renderTriggered:R,errorCaptured:W,serverPrefetch:M,expose:V,inheritAttrs:Y,components:B,directives:ee,filters:ne}=e;if(c&&d_(c,s,null),o)for(const ue in o){const ve=o[ue];de(ve)&&(s[ue]=ve.bind(n))}if(r){const ue=r.call(n,n);Pe(ue)&&(t.data=ai(ue))}if(Ma=!0,i)for(const ue in i){const ve=i[ue],Qe=de(ve)?ve.bind(n,n):de(ve.get)?ve.get.bind(n,n):rn,kt=!de(ve)&&de(ve.set)?ve.set.bind(n):rn,vt=K({get:Qe,set:kt});Object.defineProperty(s,ue,{enumerable:!0,configurable:!0,get:()=>vt.value,set:nt=>vt.value=nt})}if(a)for(const ue in a)rf(a[ue],s,n,ue);if(l){const ue=de(l)?l.call(n):l;Reflect.ownKeys(ue).forEach(ve=>{Wt(ve,ue[ve])})}u&&Bc(u,t,"c");function Ce(ue,ve){ae(ve)?ve.forEach(Qe=>ue(Qe.bind(n))):ve&&ue(ve.bind(n))}if(Ce(Xg,d),Ce(It,h),Ce(Zg,f),Ce(e_,y),Ce(Kg,m),Ce(Qg,g),Ce(r_,W),Ce(s_,$),Ce(n_,R),Ce(nf,E),Ce(ko,I),Ce(t_,M),ae(V))if(V.length){const ue=t.exposed||(t.exposed={});V.forEach(ve=>{Object.defineProperty(ue,ve,{get:()=>n[ve],set:Qe=>n[ve]=Qe})})}else t.exposed||(t.exposed={});N&&t.render===rn&&(t.render=N),Y!=null&&(t.inheritAttrs=Y),B&&(t.components=B),ee&&(t.directives=ee),M&&ef(t)}function d_(t,e,n=rn){ae(t)&&(t=Da(t));for(const s in t){const r=t[s];let i;Pe(r)?"default"in r?i=Et(r.from||s,r.default,!0):i=Et(r.from||s):i=Et(r),He(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Bc(t,e,n){Kt(ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function rf(t,e,n,s){let r=s.includes(".")?yf(n,s):()=>n[s];if(Ye(t)){const i=e[t];de(i)&&on(r,i)}else if(de(t))on(r,t.bind(n));else if(Pe(t))if(ae(t))t.forEach(i=>rf(i,e,n,s));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&on(r,i,t)}}function of(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Gi(l,c,o,!0)),Gi(l,e,o)),Pe(e)&&i.set(e,l),l}function Gi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Gi(t,i,n,!0),r&&r.forEach(o=>Gi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=h_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const h_={data:Vc,props:Wc,emits:Wc,methods:vr,computed:vr,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:vr,directives:vr,watch:m_,provide:Vc,inject:f_};function Vc(t,e){return e?t?function(){return at(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function f_(t,e){return vr(Da(t),Da(e))}function Da(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function yt(t,e){return t?[...new Set([].concat(t,e))]:e}function vr(t,e){return t?at(Object.create(null),t,e):e}function Wc(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:at(Object.create(null),Uc(t),Uc(e??{})):e}function m_(t,e){if(!t)return e;if(!e)return t;const n=at(Object.create(null),t);for(const s in e)n[s]=yt(t[s],e[s]);return n}function af(){return{app:null,config:{isNativeTag:Xp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let p_=0;function g_(t,e){return function(s,r=null){de(s)||(s=at({},s)),r!=null&&!Pe(r)&&(r=null);const i=af(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:p_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:X_,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&de(u.install)?(o.add(u),u.install(c,...d)):de(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||J(s,r);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,No(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Kt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=ds;ds=c;try{return u()}finally{ds=d}}};return c}}let ds=null;function Wt(t,e){if(ot){let n=ot.provides;const s=ot.parent&&ot.parent.provides;s===n&&(n=ot.provides=Object.create(s)),n[t]=e}}function Et(t,e,n=!1){const s=ot||Ze;if(s||ds){let r=ds?ds._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&de(e)?e.call(s&&s.proxy):e}}function __(){return!!(ot||Ze||ds)}const lf={},cf=()=>Object.create(lf),uf=t=>Object.getPrototypeOf(t)===lf;function v_(t,e,n,s=!1){const r={},i=cf();t.propsDefaults=Object.create(null),df(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:$h(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function y_(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ye(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Ao(t.emitsOptions,h))continue;const f=e[h];if(l)if(ke(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const y=Ft(h);r[y]=$a(l,a,y,f,t,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{df(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!ke(e,d)&&((u=ps(d))===d||!ke(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=$a(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!ke(e,d))&&(delete i[d],c=!0)}c&&pn(t.attrs,"set","")}function df(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yr(l))continue;const c=e[l];let u;r&&ke(r,u=Ft(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ao(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ye(n),c=a||Oe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=$a(r,l,d,c[d],t,!ke(c,d))}}return o}function $a(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ke(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&de(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=di(r);s=c[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===ps(n))&&(s=!0))}return s}const b_=new WeakMap;function hf(t,e,n=!1){const s=n?b_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!de(t)){const u=d=>{l=!0;const[h,f]=hf(d,e,!0);at(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Pe(t)&&s.set(t,Ns),Ns;if(ae(i))for(let u=0;u<i.length;u++){const d=Ft(i[u]);Gc(d)&&(o[d]=Oe)}else if(i)for(const u in i){const d=Ft(u);if(Gc(d)){const h=i[u],f=o[d]=ae(h)||de(h)?{type:h}:at({},h),y=f.type;let m=!1,g=!0;if(ae(y))for(let p=0;p<y.length;++p){const E=y[p],x=de(E)&&E.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(g=!1)}else m=de(y)&&y.name==="Boolean";f[0]=m,f[1]=g,(m||ke(f,"default"))&&a.push(d)}}const c=[o,a];return Pe(t)&&s.set(t,c),c}function Gc(t){return t[0]!=="$"&&!yr(t)}const Ml=t=>t[0]==="_"||t==="$stable",Dl=t=>ae(t)?t.map(sn):[sn(t)],C_=(t,e,n)=>{if(e._n)return e;const s=et((...r)=>Dl(e(...r)),n);return s._c=!1,s},ff=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ml(r))continue;const i=t[r];if(de(i))e[r]=C_(r,i,s);else if(i!=null){const o=Dl(i);e[r]=()=>o}}},mf=(t,e)=>{const n=Dl(e);t.slots.default=()=>n},pf=(t,e,n)=>{for(const s in e)(n||!Ml(s))&&(t[s]=e[s])},w_=(t,e,n)=>{const s=t.slots=cf();if(t.vnode.shapeFlag&32){const r=e._;r?(pf(s,e,n),n&&_h(s,"_",r,!0)):ff(e,s)}else e&&mf(t,e)},E_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Oe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:pf(r,e,n):(i=!e.$stable,ff(e,r)),o=e}else e&&(mf(t,e),o={default:1});if(i)for(const a in r)!Ml(a)&&o[a]==null&&delete r[a]},Rt=$_;function S_(t){return I_(t)}function I_(t,e){const n=bo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=rn,insertStaticContent:y}=t,m=(w,S,A,D=null,H=null,z=null,v=void 0,b=null,k=!!S.dynamicChildren)=>{if(w===S)return;w&&!is(w,S)&&(D=F(w),nt(w,H,z,!0),w=null),S.patchFlag===-2&&(k=!1,S.dynamicChildren=null);const{type:P,ref:X,shapeFlag:q}=S;switch(P){case ui:g(w,S,A,D);break;case gt:p(w,S,A,D);break;case Oi:w==null&&E(S,A,D,v);break;case be:B(w,S,A,D,H,z,v,b,k);break;default:q&1?N(w,S,A,D,H,z,v,b,k):q&6?ee(w,S,A,D,H,z,v,b,k):(q&64||q&128)&&P.process(w,S,A,D,H,z,v,b,k,ie)}X!=null&&H&&Wi(X,w&&w.ref,z,S||w,!S)},g=(w,S,A,D)=>{if(w==null)s(S.el=a(S.children),A,D);else{const H=S.el=w.el;S.children!==w.children&&c(H,S.children)}},p=(w,S,A,D)=>{w==null?s(S.el=l(S.children||""),A,D):S.el=w.el},E=(w,S,A,D)=>{[w.el,w.anchor]=y(w.children,S,A,D,w.el,w.anchor)},x=({el:w,anchor:S},A,D)=>{let H;for(;w&&w!==S;)H=h(w),s(w,A,D),w=H;s(S,A,D)},I=({el:w,anchor:S})=>{let A;for(;w&&w!==S;)A=h(w),r(w),w=A;r(S)},N=(w,S,A,D,H,z,v,b,k)=>{S.type==="svg"?v="svg":S.type==="math"&&(v="mathml"),w==null?$(S,A,D,H,z,v,b,k):M(w,S,H,z,v,b,k)},$=(w,S,A,D,H,z,v,b)=>{let k,P;const{props:X,shapeFlag:q,transition:T,dirs:L}=w;if(k=w.el=o(w.type,z,X&&X.is,X),q&8?u(k,w.children):q&16&&W(w.children,k,null,D,H,ia(w,z),v,b),L&&Xn(w,null,D,"created"),R(k,w,w.scopeId,v,D),X){for(const ce in X)ce!=="value"&&!yr(ce)&&i(k,ce,null,X[ce],z,D);"value"in X&&i(k,"value",null,X.value,z),(P=X.onVnodeBeforeMount)&&en(P,D,w)}L&&Xn(w,null,D,"beforeMount");const re=x_(H,T);re&&T.beforeEnter(k),s(k,S,A),((P=X&&X.onVnodeMounted)||re||L)&&Rt(()=>{P&&en(P,D,w),re&&T.enter(k),L&&Xn(w,null,D,"mounted")},H)},R=(w,S,A,D,H)=>{if(A&&f(w,A),D)for(let z=0;z<D.length;z++)f(w,D[z]);if(H){let z=H.subTree;if(S===z||Cf(z.type)&&(z.ssContent===S||z.ssFallback===S)){const v=H.vnode;R(w,v,v.scopeId,v.slotScopeIds,H.parent)}}},W=(w,S,A,D,H,z,v,b,k=0)=>{for(let P=k;P<w.length;P++){const X=w[P]=b?On(w[P]):sn(w[P]);m(null,X,S,A,D,H,z,v,b)}},M=(w,S,A,D,H,z,v)=>{const b=S.el=w.el;let{patchFlag:k,dynamicChildren:P,dirs:X}=S;k|=w.patchFlag&16;const q=w.props||Oe,T=S.props||Oe;let L;if(A&&Zn(A,!1),(L=T.onVnodeBeforeUpdate)&&en(L,A,S,w),X&&Xn(S,w,A,"beforeUpdate"),A&&Zn(A,!0),(q.innerHTML&&T.innerHTML==null||q.textContent&&T.textContent==null)&&u(b,""),P?V(w.dynamicChildren,P,b,A,D,ia(S,H),z):v||ve(w,S,b,null,A,D,ia(S,H),z,!1),k>0){if(k&16)Y(b,q,T,A,H);else if(k&2&&q.class!==T.class&&i(b,"class",null,T.class,H),k&4&&i(b,"style",q.style,T.style,H),k&8){const re=S.dynamicProps;for(let ce=0;ce<re.length;ce++){const fe=re[ce],st=q[fe],Ge=T[fe];(Ge!==st||fe==="value")&&i(b,fe,st,Ge,H,A)}}k&1&&w.children!==S.children&&u(b,S.children)}else!v&&P==null&&Y(b,q,T,A,H);((L=T.onVnodeUpdated)||X)&&Rt(()=>{L&&en(L,A,S,w),X&&Xn(S,w,A,"updated")},D)},V=(w,S,A,D,H,z,v)=>{for(let b=0;b<S.length;b++){const k=w[b],P=S[b],X=k.el&&(k.type===be||!is(k,P)||k.shapeFlag&198)?d(k.el):A;m(k,P,X,null,D,H,z,v,!0)}},Y=(w,S,A,D,H)=>{if(S!==A){if(S!==Oe)for(const z in S)!yr(z)&&!(z in A)&&i(w,z,S[z],null,H,D);for(const z in A){if(yr(z))continue;const v=A[z],b=S[z];v!==b&&z!=="value"&&i(w,z,b,v,H,D)}"value"in A&&i(w,"value",S.value,A.value,H)}},B=(w,S,A,D,H,z,v,b,k)=>{const P=S.el=w?w.el:a(""),X=S.anchor=w?w.anchor:a("");let{patchFlag:q,dynamicChildren:T,slotScopeIds:L}=S;L&&(b=b?b.concat(L):L),w==null?(s(P,A,D),s(X,A,D),W(S.children||[],A,X,H,z,v,b,k)):q>0&&q&64&&T&&w.dynamicChildren?(V(w.dynamicChildren,T,A,H,z,v,b),(S.key!=null||H&&S===H.subTree)&&gf(w,S,!0)):ve(w,S,A,X,H,z,v,b,k)},ee=(w,S,A,D,H,z,v,b,k)=>{S.slotScopeIds=b,w==null?S.shapeFlag&512?H.ctx.activate(S,A,D,v,k):ne(S,A,D,H,z,v,k):Ue(w,S,k)},ne=(w,S,A,D,H,z,v)=>{const b=w.component=V_(w,D,H);if(xo(w)&&(b.ctx.renderer=ie),W_(b,!1,v),b.asyncDep){if(H&&H.registerDep(b,Ce,v),!w.el){const k=b.subTree=J(gt);p(null,k,S,A)}}else Ce(b,w,S,A,H,z,v)},Ue=(w,S,A)=>{const D=S.component=w.component;if(M_(w,S,A))if(D.asyncDep&&!D.asyncResolved){ue(D,S,A);return}else D.next=S,D.update();else S.el=w.el,D.vnode=S},Ce=(w,S,A,D,H,z,v)=>{const b=()=>{if(w.isMounted){let{next:q,bu:T,u:L,parent:re,vnode:ce}=w;{const qt=_f(w);if(qt){q&&(q.el=ce.el,ue(w,q,v)),qt.asyncDep.then(()=>{w.isUnmounted||b()});return}}let fe=q,st;Zn(w,!1),q?(q.el=ce.el,ue(w,q,v)):q=ce,T&&Li(T),(st=q.props&&q.props.onVnodeBeforeUpdate)&&en(st,re,q,ce),Zn(w,!0);const Ge=Kc(w),Lt=w.subTree;w.subTree=Ge,m(Lt,Ge,d(Lt.el),F(Lt),w,H,z),q.el=Ge.el,fe===null&&D_(w,Ge.el),L&&Rt(L,H),(st=q.props&&q.props.onVnodeUpdated)&&Rt(()=>en(st,re,q,ce),H)}else{let q;const{el:T,props:L}=S,{bm:re,m:ce,parent:fe,root:st,type:Ge}=w,Lt=Os(S);Zn(w,!1),re&&Li(re),!Lt&&(q=L&&L.onVnodeBeforeMount)&&en(q,fe,S),Zn(w,!0);{st.ce&&st.ce._injectChildStyle(Ge);const qt=w.subTree=Kc(w);m(null,qt,A,D,w,H,z),S.el=qt.el}if(ce&&Rt(ce,H),!Lt&&(q=L&&L.onVnodeMounted)){const qt=S;Rt(()=>en(q,fe,qt),H)}(S.shapeFlag&256||fe&&Os(fe.vnode)&&fe.vnode.shapeFlag&256)&&w.a&&Rt(w.a,H),w.isMounted=!0,S=A=D=null}};w.scope.on();const k=w.effect=new Eh(b);w.scope.off();const P=w.update=k.run.bind(k),X=w.job=k.runIfDirty.bind(k);X.i=w,X.id=w.uid,k.scheduler=()=>Ol(X),Zn(w,!0),P()},ue=(w,S,A)=>{S.component=w;const D=w.vnode.props;w.vnode=S,w.next=null,y_(w,S.props,D,A),E_(w,S.children,A),wn(),Hc(w),En()},ve=(w,S,A,D,H,z,v,b,k=!1)=>{const P=w&&w.children,X=w?w.shapeFlag:0,q=S.children,{patchFlag:T,shapeFlag:L}=S;if(T>0){if(T&128){kt(P,q,A,D,H,z,v,b,k);return}else if(T&256){Qe(P,q,A,D,H,z,v,b,k);return}}L&8?(X&16&&ft(P,H,z),q!==P&&u(A,q)):X&16?L&16?kt(P,q,A,D,H,z,v,b,k):ft(P,H,z,!0):(X&8&&u(A,""),L&16&&W(q,A,D,H,z,v,b,k))},Qe=(w,S,A,D,H,z,v,b,k)=>{w=w||Ns,S=S||Ns;const P=w.length,X=S.length,q=Math.min(P,X);let T;for(T=0;T<q;T++){const L=S[T]=k?On(S[T]):sn(S[T]);m(w[T],L,A,null,H,z,v,b,k)}P>X?ft(w,H,z,!0,!1,q):W(S,A,D,H,z,v,b,k,q)},kt=(w,S,A,D,H,z,v,b,k)=>{let P=0;const X=S.length;let q=w.length-1,T=X-1;for(;P<=q&&P<=T;){const L=w[P],re=S[P]=k?On(S[P]):sn(S[P]);if(is(L,re))m(L,re,A,null,H,z,v,b,k);else break;P++}for(;P<=q&&P<=T;){const L=w[q],re=S[T]=k?On(S[T]):sn(S[T]);if(is(L,re))m(L,re,A,null,H,z,v,b,k);else break;q--,T--}if(P>q){if(P<=T){const L=T+1,re=L<X?S[L].el:D;for(;P<=T;)m(null,S[P]=k?On(S[P]):sn(S[P]),A,re,H,z,v,b,k),P++}}else if(P>T)for(;P<=q;)nt(w[P],H,z,!0),P++;else{const L=P,re=P,ce=new Map;for(P=re;P<=T;P++){const At=S[P]=k?On(S[P]):sn(S[P]);At.key!=null&&ce.set(At.key,P)}let fe,st=0;const Ge=T-re+1;let Lt=!1,qt=0;const cr=new Array(Ge);for(P=0;P<Ge;P++)cr[P]=0;for(P=L;P<=q;P++){const At=w[P];if(st>=Ge){nt(At,H,z,!0);continue}let Zt;if(At.key!=null)Zt=ce.get(At.key);else for(fe=re;fe<=T;fe++)if(cr[fe-re]===0&&is(At,S[fe])){Zt=fe;break}Zt===void 0?nt(At,H,z,!0):(cr[Zt-re]=P+1,Zt>=qt?qt=Zt:Lt=!0,m(At,S[Zt],A,null,H,z,v,b,k),st++)}const Oc=Lt?T_(cr):Ns;for(fe=Oc.length-1,P=Ge-1;P>=0;P--){const At=re+P,Zt=S[At],Mc=At+1<X?S[At+1].el:D;cr[P]===0?m(null,Zt,A,Mc,H,z,v,b,k):Lt&&(fe<0||P!==Oc[fe]?vt(Zt,A,Mc,2):fe--)}}},vt=(w,S,A,D,H=null)=>{const{el:z,type:v,transition:b,children:k,shapeFlag:P}=w;if(P&6){vt(w.component.subTree,S,A,D);return}if(P&128){w.suspense.move(S,A,D);return}if(P&64){v.move(w,S,A,ie);return}if(v===be){s(z,S,A);for(let q=0;q<k.length;q++)vt(k[q],S,A,D);s(w.anchor,S,A);return}if(v===Oi){x(w,S,A);return}if(D!==2&&P&1&&b)if(D===0)b.beforeEnter(z),s(z,S,A),Rt(()=>b.enter(z),H);else{const{leave:q,delayLeave:T,afterLeave:L}=b,re=()=>{w.ctx.isUnmounted?r(z):s(z,S,A)},ce=()=>{q(z,()=>{re(),L&&L()})};T?T(z,re,ce):ce()}else s(z,S,A)},nt=(w,S,A,D=!1,H=!1)=>{const{type:z,props:v,ref:b,children:k,dynamicChildren:P,shapeFlag:X,patchFlag:q,dirs:T,cacheIndex:L}=w;if(q===-2&&(H=!1),b!=null&&(wn(),Wi(b,null,A,w,!0),En()),L!=null&&(S.renderCache[L]=void 0),X&256){S.ctx.deactivate(w);return}const re=X&1&&T,ce=!Os(w);let fe;if(ce&&(fe=v&&v.onVnodeBeforeUnmount)&&en(fe,S,w),X&6)Jn(w.component,A,D);else{if(X&128){w.suspense.unmount(A,D);return}re&&Xn(w,null,S,"beforeUnmount"),X&64?w.type.remove(w,S,A,ie,D):P&&!P.hasOnce&&(z!==be||q>0&&q&64)?ft(P,S,A,!1,!0):(z===be&&q&384||!H&&X&16)&&ft(k,S,A),D&&Jt(w)}(ce&&(fe=v&&v.onVnodeUnmounted)||re)&&Rt(()=>{fe&&en(fe,S,w),re&&Xn(w,null,S,"unmounted")},A)},Jt=w=>{const{type:S,el:A,anchor:D,transition:H}=w;if(S===be){Xt(A,D);return}if(S===Oi){I(w);return}const z=()=>{r(A),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(w.shapeFlag&1&&H&&!H.persisted){const{leave:v,delayLeave:b}=H,k=()=>v(A,z);b?b(w.el,z,k):k()}else z()},Xt=(w,S)=>{let A;for(;w!==S;)A=h(w),r(w),w=A;r(S)},Jn=(w,S,A)=>{const{bum:D,scope:H,job:z,subTree:v,um:b,m:k,a:P,parent:X,slots:{__:q}}=w;Yc(k),Yc(P),D&&Li(D),X&&ae(q)&&q.forEach(T=>{X.renderCache[T]=void 0}),H.stop(),z&&(z.flags|=8,nt(v,w,S,A)),b&&Rt(b,S),Rt(()=>{w.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},ft=(w,S,A,D=!1,H=!1,z=0)=>{for(let v=z;v<w.length;v++)nt(w[v],S,A,D,H)},F=w=>{if(w.shapeFlag&6)return F(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=h(w.anchor||w.el),A=S&&S[Vg];return A?h(A):S};let Z=!1;const Q=(w,S,A)=>{w==null?S._vnode&&nt(S._vnode,null,null,!0):m(S._vnode||null,w,S,null,null,null,A),S._vnode=w,Z||(Z=!0,Hc(),Vh(),Z=!1)},ie={p:m,um:nt,m:vt,r:Jt,mt:ne,mc:W,pc:ve,pbc:V,n:F,o:t};return{render:Q,hydrate:void 0,createApp:g_(Q)}}function ia({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Zn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function x_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function gf(t,e,n=!1){const s=t.children,r=e.children;if(ae(s)&&ae(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=On(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&gf(o,a)),a.type===ui&&(a.el=o.el),a.type===gt&&!a.el&&(a.el=o.el)}}function T_(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function _f(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_f(e)}function Yc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const k_=Symbol.for("v-scx"),A_=()=>Et(k_);function on(t,e,n){return vf(t,e,n)}function vf(t,e,n=Oe){const{immediate:s,deep:r,flush:i,once:o}=n,a=at({},n),l=e&&s||!e&&i!=="post";let c;if(Hr){if(i==="sync"){const f=A_();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=rn,f.resume=rn,f.pause=rn,f}}const u=ot;a.call=(f,y,m)=>Kt(f,u,y,m);let d=!1;i==="post"?a.scheduler=f=>{Rt(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,y)=>{y?f():Ol(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=qg(t,e,a);return Hr&&(c?c.push(h):l&&h()),h}function R_(t,e,n){const s=this.proxy,r=Ye(t)?t.includes(".")?yf(s,t):()=>s[t]:t.bind(s,s);let i;de(e)?i=e:(i=e.handler,n=e);const o=di(this),a=vf(r,i.bind(s),n);return o(),a}function yf(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const N_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ft(e)}Modifiers`]||t[`${ps(e)}Modifiers`];function P_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Oe;let r=n;const i=e.startsWith("update:"),o=i&&N_(s,e.slice(7));o&&(o.trim&&(r=n.map(u=>Ye(u)?u.trim():u)),o.number&&(r=n.map(Hi)));let a,l=s[a=Xo(e)]||s[a=Xo(Ft(e))];!l&&i&&(l=s[a=Xo(ps(e))]),l&&Kt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kt(c,t,6,r)}}function bf(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!de(t)){const l=c=>{const u=bf(c,e,!0);u&&(a=!0,at(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Pe(t)&&s.set(t,null),null):(ae(i)?i.forEach(l=>o[l]=null):at(o,i),Pe(t)&&s.set(t,o),o)}function Ao(t,e){return!t||!go(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,ps(e))||ke(t,e))}function Kc(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:y,inheritAttrs:m}=t,g=Vi(t);let p,E;try{if(n.shapeFlag&4){const I=r||s,N=I;p=sn(c.call(N,I,u,d,f,h,y)),E=a}else{const I=e;p=sn(I.length>1?I(d,{attrs:a,slots:o,emit:l}):I(d,null)),E=e.props?a:L_(a)}}catch(I){Er.length=0,So(I,t,1),p=J(gt)}let x=p;if(E&&m!==!1){const I=Object.keys(E),{shapeFlag:N}=x;I.length&&N&7&&(i&&I.some(wl)&&(E=O_(E,i)),x=Un(x,E,!1,!0))}return n.dirs&&(x=Un(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&$r(x,n.transition),p=x,Vi(g),p}const L_=t=>{let e;for(const n in t)(n==="class"||n==="style"||go(n))&&((e||(e={}))[n]=t[n]);return e},O_=(t,e)=>{const n={};for(const s in t)(!wl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function M_(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Qc(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!Ao(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Qc(s,o,c):!0:!!o;return!1}function Qc(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ao(n,i))return!0}return!1}function D_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Cf=t=>t.__isSuspense;function $_(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):Bg(t)}const be=Symbol.for("v-fgt"),ui=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),Er=[];let Nt=null;function O(t=!1){Er.push(Nt=t?null:[])}function F_(){Er.pop(),Nt=Er[Er.length-1]||null}let Fr=1;function Jc(t,e=!1){Fr+=t,t<0&&Nt&&e&&(Nt.hasOnce=!0)}function wf(t){return t.dynamicChildren=Fr>0?Nt||Ns:null,F_(),Fr>0&&Nt&&Nt.push(t),t}function U(t,e,n,s,r,i){return wf(_(t,e,n,s,r,i,!0))}function Re(t,e,n,s,r){return wf(J(t,e,n,s,r,!0))}function zr(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}const Ef=({key:t})=>t??null,Mi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ye(t)||He(t)||de(t)?{i:Ze,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,s=0,r=null,i=t===be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ef(e),ref:e&&Mi(e),scopeId:Gh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return a?($l(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),Fr>0&&!o&&Nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Nt.push(l),l}const J=z_;function z_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===a_)&&(t=gt),zr(t)){const a=Un(t,e,!0);return n&&$l(a,n),Fr>0&&!i&&Nt&&(a.shapeFlag&6?Nt[Nt.indexOf(t)]=a:Nt.push(a)),a.patchFlag=-2,a}if(J_(t)&&(t=t.__vccOpts),e){e=H_(e);let{class:a,style:l}=e;a&&!Ye(a)&&(e.class=qe(a)),Pe(l)&&(Pl(l)&&!ae(l)&&(l=at({},l)),e.style=Co(l))}const o=Ye(t)?1:Cf(t)?128:Yh(t)?64:Pe(t)?4:de(t)?2:0;return _(t,e,n,s,r,o,i,!0)}function H_(t){return t?Pl(t)||uf(t)?at({},t):t:null}function Un(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?j_(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Ef(c),ref:e&&e.ref?n&&i?ae(i)?i.concat(Mi(e)):[i,Mi(e)]:Mi(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Un(t.ssContent),ssFallback:t.ssFallback&&Un(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&$r(u,l.clone(u)),u}function Ro(t=" ",e=0){return J(ui,null,t,e)}function q_(t,e){const n=J(Oi,null,t);return n.staticCount=e,n}function se(t="",e=!1){return e?(O(),Re(gt,null,t)):J(gt,null,t)}function sn(t){return t==null||typeof t=="boolean"?J(gt):ae(t)?J(be,null,t.slice()):zr(t)?On(t):J(ui,null,String(t))}function On(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Un(t)}function $l(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),$l(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!uf(e)?e._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:Ze},n=32):(e=String(e),s&64?(n=16,e=[Ro(e)]):n=8);t.children=e,t.shapeFlag|=n}function j_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=qe([e.class,s.class]));else if(r==="style")e.style=Co([e.style,s.style]);else if(go(r)){const i=e[r],o=s[r];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function en(t,e,n,s=null){Kt(t,e,7,[n,s])}const U_=af();let B_=0;function V_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||U_,i={uid:B_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ch(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hf(s,r),emitsOptions:bf(s,r),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=P_.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const Hs=()=>ot||Ze;let Yi,Fa;{const t=bo(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Yi=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),Fa=e("__VUE_SSR_SETTERS__",n=>Hr=n)}const di=t=>{const e=ot;return Yi(t),t.scope.on(),()=>{t.scope.off(),Yi(e)}},Xc=()=>{ot&&ot.scope.off(),Yi(null)};function Sf(t){return t.vnode.shapeFlag&4}let Hr=!1;function W_(t,e=!1,n=!1){e&&Fa(e);const{props:s,children:r}=t.vnode,i=Sf(t);v_(t,s,i,e),w_(t,r,n||e);const o=i?G_(t,e):void 0;return e&&Fa(!1),o}function G_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,c_);const{setup:s}=n;if(s){wn();const r=t.setupContext=s.length>1?K_(t):null,i=di(t),o=li(s,t,0,[t.props,r]),a=mh(o);if(En(),i(),(a||t.sp)&&!Os(t)&&ef(t),a){if(o.then(Xc,Xc),e)return o.then(l=>{Zc(t,l)}).catch(l=>{So(l,t,0)});t.asyncDep=o}else Zc(t,o)}else If(t)}function Zc(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=qh(e)),If(t)}function If(t,e,n){const s=t.type;t.render||(t.render=s.render||rn);{const r=di(t);wn();try{u_(t)}finally{En(),r()}}}const Y_={get(t,e){return pt(t,"get",""),t[e]}};function K_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Y_),slots:t.slots,emit:t.emit,expose:e}}function No(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qh(Ll(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wr)return wr[n](t)},has(e,n){return n in e||n in wr}})):t.proxy}function Q_(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function J_(t){return de(t)&&"__vccOpts"in t}const K=(t,e)=>zg(t,e,Hr);function hi(t,e,n){const s=arguments.length;return s===2?Pe(e)&&!ae(e)?zr(e)?J(t,null,[e]):J(t,e):J(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&zr(n)&&(n=[n]),J(t,e,n))}const X_="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let za;const eu=typeof window<"u"&&window.trustedTypes;if(eu)try{za=eu.createPolicy("vue",{createHTML:t=>t})}catch{}const xf=za?t=>za.createHTML(t):t=>t,Z_="http://www.w3.org/2000/svg",ev="http://www.w3.org/1998/Math/MathML",mn=typeof document<"u"?document:null,tu=mn&&mn.createElement("template"),tv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?mn.createElementNS(Z_,t):e==="mathml"?mn.createElementNS(ev,t):n?mn.createElement(t,{is:n}):mn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>mn.createTextNode(t),createComment:t=>mn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{tu.innerHTML=xf(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=tu.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},kn="transition",dr="animation",qr=Symbol("_vtc"),Tf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nv=at({},Kh,Tf),sv=t=>(t.displayName="Transition",t.props=nv,t),fi=sv((t,{slots:e})=>hi(Yg,rv(t),e)),es=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},nu=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function rv(t){const e={};for(const B in t)B in Tf||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,y=iv(r),m=y&&y[0],g=y&&y[1],{onBeforeEnter:p,onEnter:E,onEnterCancelled:x,onLeave:I,onLeaveCancelled:N,onBeforeAppear:$=p,onAppear:R=E,onAppearCancelled:W=x}=e,M=(B,ee,ne,Ue)=>{B._enterCancelled=Ue,ts(B,ee?u:a),ts(B,ee?c:o),ne&&ne()},V=(B,ee)=>{B._isLeaving=!1,ts(B,d),ts(B,f),ts(B,h),ee&&ee()},Y=B=>(ee,ne)=>{const Ue=B?R:E,Ce=()=>M(ee,B,ne);es(Ue,[ee,Ce]),su(()=>{ts(ee,B?l:i),dn(ee,B?u:a),nu(Ue)||ru(ee,s,m,Ce)})};return at(e,{onBeforeEnter(B){es(p,[B]),dn(B,i),dn(B,o)},onBeforeAppear(B){es($,[B]),dn(B,l),dn(B,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(B,ee){B._isLeaving=!0;const ne=()=>V(B,ee);dn(B,d),B._enterCancelled?(dn(B,h),au()):(au(),dn(B,h)),su(()=>{B._isLeaving&&(ts(B,d),dn(B,f),nu(I)||ru(B,s,g,ne))}),es(I,[B,ne])},onEnterCancelled(B){M(B,!1,void 0,!0),es(x,[B])},onAppearCancelled(B){M(B,!0,void 0,!0),es(W,[B])},onLeaveCancelled(B){V(B),es(N,[B])}})}function iv(t){if(t==null)return null;if(Pe(t))return[oa(t.enter),oa(t.leave)];{const e=oa(t);return[e,e]}}function oa(t){return sg(t)}function dn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[qr]||(t[qr]=new Set)).add(e)}function ts(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[qr];n&&(n.delete(e),n.size||(t[qr]=void 0))}function su(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ov=0;function ru(t,e,n,s){const r=t._endId=++ov,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=av(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,h),i()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function av(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(`${kn}Delay`),i=s(`${kn}Duration`),o=iu(r,i),a=s(`${dr}Delay`),l=s(`${dr}Duration`),c=iu(a,l);let u=null,d=0,h=0;e===kn?o>0&&(u=kn,d=o,h=i.length):e===dr?c>0&&(u=dr,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?kn:dr:null,h=u?u===kn?i.length:l.length:0);const f=u===kn&&/\b(transform|all)(,|$)/.test(s(`${kn}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function iu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>ou(n)+ou(t[s])))}function ou(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function au(){return document.body.offsetHeight}function lv(t,e,n){const s=t[qr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const lu=Symbol("_vod"),cv=Symbol("_vsh"),uv=Symbol(""),dv=/(^|;)\s*display\s*:/;function hv(t,e,n){const s=t.style,r=Ye(n);let i=!1;if(n&&!r){if(e)if(Ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Di(s,a,"")}else for(const o in e)n[o]==null&&Di(s,o,"");for(const o in n)o==="display"&&(i=!0),Di(s,o,n[o])}else if(r){if(e!==n){const o=s[uv];o&&(n+=";"+o),s.cssText=n,i=dv.test(n)}}else e&&t.removeAttribute("style");lu in t&&(t[lu]=i?s.display:"",t[cv]&&(s.display="none"))}const cu=/\s*!important$/;function Di(t,e,n){if(ae(n))n.forEach(s=>Di(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=fv(t,e);cu.test(n)?t.setProperty(ps(s),n.replace(cu,""),"important"):t[s]=n}}const uu=["Webkit","Moz","ms"],aa={};function fv(t,e){const n=aa[e];if(n)return n;let s=Ft(e);if(s!=="filter"&&s in t)return aa[e]=s;s=yo(s);for(let r=0;r<uu.length;r++){const i=uu[r]+s;if(i in t)return aa[e]=i}return e}const du="http://www.w3.org/1999/xlink";function hu(t,e,n,s,r,i=cg(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(du,e.slice(6,e.length)):t.setAttributeNS(du,e,n):n==null||i&&!vh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Yt(n)?String(n):n)}function fu(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?xf(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=vh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function os(t,e,n,s){t.addEventListener(e,n,s)}function mv(t,e,n,s){t.removeEventListener(e,n,s)}const mu=Symbol("_vei");function pv(t,e,n,s,r=null){const i=t[mu]||(t[mu]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=gv(e);if(s){const c=i[e]=yv(s,r);os(t,a,c,l)}else o&&(mv(t,a,o,l),i[e]=void 0)}}const pu=/(?:Once|Passive|Capture)$/;function gv(t){let e;if(pu.test(t)){e={};let s;for(;s=t.match(pu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ps(t.slice(2)),e]}let la=0;const _v=Promise.resolve(),vv=()=>la||(_v.then(()=>la=0),la=Date.now());function yv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Kt(bv(s,n.value),e,5,[s])};return n.value=t,n.attached=vv(),n}function bv(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const gu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Cv=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?lv(t,s,o):e==="style"?hv(t,n,s):go(e)?wl(e)||pv(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wv(t,e,s,o))?(fu(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hu(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ye(s))?fu(t,Ft(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),hu(t,e,s,o))};function wv(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&gu(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return gu(e)&&Ye(n)?!1:e in t}const Ki=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>Li(e,n):e};function Ev(t){t.target.composing=!0}function _u(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ms=Symbol("_assign"),Ds={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ms]=Ki(r);const i=s||r.props&&r.props.type==="number";os(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Hi(a)),t[Ms](a)}),n&&os(t,"change",()=>{t.value=t.value.trim()}),e||(os(t,"compositionstart",Ev),os(t,"compositionend",_u),os(t,"change",_u))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Ms]=Ki(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Hi(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Sv={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=_o(e);os(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hi(Qi(o)):Qi(o));t[Ms](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Io(()=>{t._assigning=!1})}),t[Ms]=Ki(s)},mounted(t,{value:e}){vu(t,e)},beforeUpdate(t,e,n){t[Ms]=Ki(n)},updated(t,{value:e}){t._assigning||vu(t,e)}};function vu(t,e){const n=t.multiple,s=ae(e);if(!(n&&!s&&!_o(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Qi(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=dg(e,a)>-1}else o.selected=e.has(a);else if(wo(Qi(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Qi(t){return"_value"in t?t._value:t.value}const Iv=["ctrl","shift","alt","meta"],xv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Iv.some(n=>t[`${n}Key`]&&!e.includes(n))},jr=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=xv[e[o]];if(a&&a(r,e))return}return t(r,...i)})},Tv=at({patchProp:Cv},tv);let yu;function kv(){return yu||(yu=S_(Tv))}const Av=(...t)=>{const e=kv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Nv(s);if(!r)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Rv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Rv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Nv(t){return Ye(t)?document.querySelector(t):t}const Po=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Pv={};function Lv(t,e){const n=o_("router-view");return O(),Re(n)}const Ov=Po(Pv,[["render",Lv]]);/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let kf;const Lo=t=>kf=t,Af=Symbol();function Ha(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Sr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Sr||(Sr={}));function Mv(){const t=Il(!0),e=t.run(()=>oe({}));let n=[],s=[];const r=Ll({install(i){Lo(r),r._a=i,i.provide(Af,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Rf=()=>{};function bu(t,e,n,s=Rf){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&wh()&&hg(r),r}function Es(t,...e){t.slice().forEach(n=>{n(...e)})}const Dv=t=>t(),Cu=Symbol(),ca=Symbol();function qa(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Ha(r)&&Ha(s)&&t.hasOwnProperty(n)&&!He(s)&&!bn(s)?t[n]=qa(r,s):t[n]=s}return t}const $v=Symbol();function Fv(t){return!Ha(t)||!Object.prototype.hasOwnProperty.call(t,$v)}const{assign:Nn}=Object;function zv(t){return!!(He(t)&&t.effect)}function Hv(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Og(n.state.value[t]);return Nn(u,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ll(K(()=>{Lo(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Nf(t,c,e,n,s,!0),l}function Nf(t,e,n={},s,r,i){let o;const a=Nn({actions:{}},n),l={deep:!0};let c,u,d=[],h=[],f;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),oe({});let m;function g(W){let M;c=u=!1,typeof W=="function"?(W(s.state.value[t]),M={type:Sr.patchFunction,storeId:t,events:f}):(qa(s.state.value[t],W),M={type:Sr.patchObject,payload:W,storeId:t,events:f});const V=m=Symbol();Io().then(()=>{m===V&&(c=!0)}),u=!0,Es(d,M,s.state.value[t])}const p=i?function(){const{state:M}=n,V=M?M():{};this.$patch(Y=>{Nn(Y,V)})}:Rf;function E(){o.stop(),d=[],h=[],s._s.delete(t)}const x=(W,M="")=>{if(Cu in W)return W[ca]=M,W;const V=function(){Lo(s);const Y=Array.from(arguments),B=[],ee=[];function ne(ue){B.push(ue)}function Ue(ue){ee.push(ue)}Es(h,{args:Y,name:V[ca],store:N,after:ne,onError:Ue});let Ce;try{Ce=W.apply(this&&this.$id===t?this:N,Y)}catch(ue){throw Es(ee,ue),ue}return Ce instanceof Promise?Ce.then(ue=>(Es(B,ue),ue)).catch(ue=>(Es(ee,ue),Promise.reject(ue))):(Es(B,Ce),Ce)};return V[Cu]=!0,V[ca]=M,V},I={_p:s,$id:t,$onAction:bu.bind(null,h),$patch:g,$reset:p,$subscribe(W,M={}){const V=bu(d,W,M.detached,()=>Y()),Y=o.run(()=>on(()=>s.state.value[t],B=>{(M.flush==="sync"?u:c)&&W({storeId:t,type:Sr.direct,events:f},B)},Nn({},l,M)));return V},$dispose:E},N=ai(I);s._s.set(t,N);const R=(s._a&&s._a.runWithContext||Dv)(()=>s._e.run(()=>(o=Il()).run(()=>e({action:x}))));for(const W in R){const M=R[W];if(He(M)&&!zv(M)||bn(M))i||(y&&Fv(M)&&(He(M)?M.value=y[W]:qa(M,y[W])),s.state.value[t][W]=M);else if(typeof M=="function"){const V=x(M,W);R[W]=V,a.actions[W]=M}}return Nn(N,R),Nn(ye(N),R),Object.defineProperty(N,"$state",{get:()=>s.state.value[t],set:W=>{g(M=>{Nn(M,W)})}}),s._p.forEach(W=>{Nn(N,o.run(()=>W({store:N,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(N.$state,y),c=!0,u=!0,N}/*! #__NO_SIDE_EFFECTS__ */function Pf(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const l=__();return o=o||(l?Et(Af,null):null),o&&Lo(o),o=kf,o._s.has(t)||(r?Nf(t,e,s,o):Hv(t,s,o)),o._s.get(t)}return i.$id=t,i}function qv(t){const e=ye(t),n={};for(const s in e){const r=e[s];r.effect?n[s]=K({get:()=>t[s],set(i){t[s]=i}}):(He(r)||bn(r))&&(n[s]=$g(t,s))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function Lf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function jv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Lf(t.default)}const Te=Object.assign;function ua(t,e){const n={};for(const s in e){const r=e[s];n[s]=Qt(r)?r.map(t):t(r)}return n}const Ir=()=>{},Qt=Array.isArray,Of=/#/g,Uv=/&/g,Bv=/\//g,Vv=/=/g,Wv=/\?/g,Mf=/\+/g,Gv=/%5B/g,Yv=/%5D/g,Df=/%5E/g,Kv=/%60/g,$f=/%7B/g,Qv=/%7C/g,Ff=/%7D/g,Jv=/%20/g;function Fl(t){return encodeURI(""+t).replace(Qv,"|").replace(Gv,"[").replace(Yv,"]")}function Xv(t){return Fl(t).replace($f,"{").replace(Ff,"}").replace(Df,"^")}function ja(t){return Fl(t).replace(Mf,"%2B").replace(Jv,"+").replace(Of,"%23").replace(Uv,"%26").replace(Kv,"`").replace($f,"{").replace(Ff,"}").replace(Df,"^")}function Zv(t){return ja(t).replace(Vv,"%3D")}function ey(t){return Fl(t).replace(Of,"%23").replace(Wv,"%3F")}function ty(t){return t==null?"":ey(t).replace(Bv,"%2F")}function Ur(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ny=/\/$/,sy=t=>t.replace(ny,"");function da(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=ay(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Ur(o)}}function ry(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function wu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iy(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&qs(e.matched[s],n.matched[r])&&zf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function zf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!oy(t[n],e[n]))return!1;return!0}function oy(t,e){return Qt(t)?Eu(t,e):Qt(e)?Eu(e,t):t===e}function Eu(t,e){return Qt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function ay(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const An={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Br;(function(t){t.pop="pop",t.push="push"})(Br||(Br={}));var xr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xr||(xr={}));function ly(t){if(!t)if(ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),sy(t)}const cy=/^[^#]+#/;function uy(t,e){return t.replace(cy,"#")+e}function dy(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Oo=()=>({left:window.scrollX,top:window.scrollY});function hy(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=dy(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Su(t,e){return(history.state?history.state.position-e:-1)+t}const Ua=new Map;function fy(t,e){Ua.set(t,e)}function my(t){const e=Ua.get(t);return Ua.delete(t),e}let py=()=>location.protocol+"//"+location.host;function Hf(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),wu(l,"")}return wu(n,t)+s+r}function gy(t,e,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const f=Hf(t,location),y=n.value,m=e.value;let g=0;if(h){if(n.value=f,e.value=h,o&&o===y){o=null;return}g=m?h.position-m.position:0}else s(f);r.forEach(p=>{p(n.value,y,{delta:g,type:Br.pop,direction:g?g>0?xr.forward:xr.back:xr.unknown})})};function l(){o=n.value}function c(h){r.push(h);const f=()=>{const y=r.indexOf(h);y>-1&&r.splice(y,1)};return i.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Te({},h.state,{scroll:Oo()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Iu(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Oo():null}}function _y(t){const{history:e,location:n}=window,s={value:Hf(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:py()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){const u=Te({},e.state,Iu(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Te({},r.value,e.state,{forward:l,scroll:Oo()});i(u.current,u,!0);const d=Te({},Iu(s.value,l,null),{position:u.position+1},c);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function vy(t){t=ly(t);const e=_y(t),n=gy(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Te({location:"",base:t,go:s,createHref:uy.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function yy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),vy(t)}function by(t){return typeof t=="string"||t&&typeof t=="object"}function qf(t){return typeof t=="string"||typeof t=="symbol"}const jf=Symbol("");var xu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xu||(xu={}));function js(t,e){return Te(new Error,{type:t,[jf]:!0},e)}function hn(t,e){return t instanceof Error&&jf in t&&(e==null||!!(t.type&e))}const Tu="[^/]+?",Cy={sensitive:!1,strict:!1,start:!0,end:!0},wy=/[.+*?^${}()[\]/\\]/g;function Ey(t,e){const n=Te({},Cy,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(wy,"\\$&"),f+=40;else if(h.type===1){const{value:y,repeatable:m,optional:g,regexp:p}=h;i.push({name:y,repeatable:m,optional:g});const E=p||Tu;if(E!==Tu){f+=10;try{new RegExp(`(${E})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${y}" (${E}): `+I.message)}}let x=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(x=g&&c.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),r+=x,f+=20,g&&(f+=-8),m&&(f+=-20),E===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",y=i[h-1];d[y.name]=f&&y.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:y,repeatable:m,optional:g}=f,p=y in c?c[y]:"";if(Qt(p)&&!m)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const E=Qt(p)?p.join("/"):p;if(!E)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=E}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Sy(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Uf(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Sy(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(ku(s))return 1;if(ku(r))return-1}return r.length-s.length}function ku(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Iy={type:0,value:""},xy=/[a-zA-Z0-9_]/;function Ty(t){if(!t)return[[]];if(t==="/")return[[Iy]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:xy.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function ky(t,e,n){const s=Ey(Ty(t.path),n),r=Te(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Ay(t,e){const n=[],s=new Map;e=Pu({strict:!1,end:!0,sensitive:!1},e);function r(d){return s.get(d)}function i(d,h,f){const y=!f,m=Ru(d);m.aliasOf=f&&f.record;const g=Pu(e,d),p=[m];if("alias"in d){const I=typeof d.alias=="string"?[d.alias]:d.alias;for(const N of I)p.push(Ru(Te({},m,{components:f?f.record.components:m.components,path:N,aliasOf:f?f.record:m})))}let E,x;for(const I of p){const{path:N}=I;if(h&&N[0]!=="/"){const $=h.record.path,R=$[$.length-1]==="/"?"":"/";I.path=h.record.path+(N&&R+N)}if(E=ky(I,h,g),f?f.alias.push(E):(x=x||E,x!==E&&x.alias.push(E),y&&d.name&&!Nu(E)&&o(d.name)),Bf(E)&&l(E),m.children){const $=m.children;for(let R=0;R<$.length;R++)i($[R],E,f&&f.children[R])}f=f||E}return x?()=>{o(x)}:Ir}function o(d){if(qf(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=Py(d,n);n.splice(h,0,d),d.record.name&&!Nu(d)&&s.set(d.record.name,d)}function c(d,h){let f,y={},m,g;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw js(1,{location:d});g=f.record.name,y=Te(Au(h.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&Au(d.params,f.keys.map(x=>x.name))),m=f.stringify(y)}else if(d.path!=null)m=d.path,f=n.find(x=>x.re.test(m)),f&&(y=f.parse(m),g=f.record.name);else{if(f=h.name?s.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw js(1,{location:d,currentLocation:h});g=f.record.name,y=Te({},h.params,d.params),m=f.stringify(y)}const p=[];let E=f;for(;E;)p.unshift(E.record),E=E.parent;return{name:g,path:m,params:y,matched:p,meta:Ny(p)}}t.forEach(d=>i(d));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Au(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Ru(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ry(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ry(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Nu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ny(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function Pu(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Py(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Uf(t,e[i])<0?s=i:n=i+1}const r=Ly(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Ly(t){let e=t;for(;e=e.parent;)if(Bf(e)&&Uf(t,e)===0)return e}function Bf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Oy(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Mf," "),o=i.indexOf("="),a=Ur(o<0?i:i.slice(0,o)),l=o<0?null:Ur(i.slice(o+1));if(a in e){let c=e[a];Qt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Lu(t){let e="";for(let n in t){const s=t[n];if(n=Zv(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qt(s)?s.map(i=>i&&ja(i)):[s&&ja(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function My(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Qt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Dy=Symbol(""),Ou=Symbol(""),Mo=Symbol(""),zl=Symbol(""),Ba=Symbol("");function hr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Mn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(js(4,{from:n,to:e})):h instanceof Error?l(h):by(h)?l(js(2,{from:e,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(s&&s.instances[r],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function ha(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Lf(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Mn(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=jv(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Mn(f,n,s,o,a,r)()}))}}return i}function Mu(t){const e=Et(Mo),n=Et(zl),s=K(()=>{const l=C(t.to);return e.resolve(l)}),r=K(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(qs.bind(null,u));if(h>-1)return h;const f=Du(l[c-2]);return c>1&&Du(u)===f&&d[d.length-1].path!==f?d.findIndex(qs.bind(null,l[c-2])):h}),i=K(()=>r.value>-1&&qy(n.params,s.value.params)),o=K(()=>r.value>-1&&r.value===n.matched.length-1&&zf(n.params,s.value.params));function a(l={}){if(Hy(l)){const c=e[C(t.replace)?"replace":"push"](C(t.to)).catch(Ir);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:K(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function $y(t){return t.length===1?t[0]:t}const Fy=ci({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Mu,setup(t,{slots:e}){const n=ai(Mu(t)),{options:s}=Et(Mo),r=K(()=>({[$u(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[$u(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&$y(e.default(n));return t.custom?i:hi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),zy=Fy;function Hy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qy(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Qt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Du(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $u=(t,e,n)=>t??e??n,jy=ci({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Et(Ba),r=K(()=>t.route||s.value),i=Et(Ou,0),o=K(()=>{let c=C(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=K(()=>r.value.matched[o.value]);Wt(Ou,K(()=>o.value+1)),Wt(Dy,a),Wt(Ba,r);const l=oe();return on(()=>[l.value,a.value,t.name],([c,u,d],[h,f,y])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!qs(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return Fu(n.default,{Component:h,route:c});const f=d.props[u],y=f?f===!0?c.params:typeof f=="function"?f(c):f:null,g=hi(h,Te({},y,e,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Fu(n.default,{Component:g,route:c})||g}}});function Fu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Uy=jy;function By(t){const e=Ay(t.routes,t),n=t.parseQuery||Oy,s=t.stringifyQuery||Lu,r=t.history,i=hr(),o=hr(),a=hr(),l=zh(An);let c=An;ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ua.bind(null,F=>""+F),d=ua.bind(null,ty),h=ua.bind(null,Ur);function f(F,Z){let Q,ie;return qf(F)?(Q=e.getRecordMatcher(F),ie=Z):ie=F,e.addRoute(ie,Q)}function y(F){const Z=e.getRecordMatcher(F);Z&&e.removeRoute(Z)}function m(){return e.getRoutes().map(F=>F.record)}function g(F){return!!e.getRecordMatcher(F)}function p(F,Z){if(Z=Te({},Z||l.value),typeof F=="string"){const A=da(n,F,Z.path),D=e.resolve({path:A.path},Z),H=r.createHref(A.fullPath);return Te(A,D,{params:h(D.params),hash:Ur(A.hash),redirectedFrom:void 0,href:H})}let Q;if(F.path!=null)Q=Te({},F,{path:da(n,F.path,Z.path).path});else{const A=Te({},F.params);for(const D in A)A[D]==null&&delete A[D];Q=Te({},F,{params:d(A)}),Z.params=d(Z.params)}const ie=e.resolve(Q,Z),Se=F.hash||"";ie.params=u(h(ie.params));const w=ry(s,Te({},F,{hash:Xv(Se),path:ie.path})),S=r.createHref(w);return Te({fullPath:w,hash:Se,query:s===Lu?My(F.query):F.query||{}},ie,{redirectedFrom:void 0,href:S})}function E(F){return typeof F=="string"?da(n,F,l.value.path):Te({},F)}function x(F,Z){if(c!==F)return js(8,{from:Z,to:F})}function I(F){return R(F)}function N(F){return I(Te(E(F),{replace:!0}))}function $(F){const Z=F.matched[F.matched.length-1];if(Z&&Z.redirect){const{redirect:Q}=Z;let ie=typeof Q=="function"?Q(F):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=E(ie):{path:ie},ie.params={}),Te({query:F.query,hash:F.hash,params:ie.path!=null?{}:F.params},ie)}}function R(F,Z){const Q=c=p(F),ie=l.value,Se=F.state,w=F.force,S=F.replace===!0,A=$(Q);if(A)return R(Te(E(A),{state:typeof A=="object"?Te({},Se,A.state):Se,force:w,replace:S}),Z||Q);const D=Q;D.redirectedFrom=Z;let H;return!w&&iy(s,ie,Q)&&(H=js(16,{to:D,from:ie}),vt(ie,ie,!0,!1)),(H?Promise.resolve(H):V(D,ie)).catch(z=>hn(z)?hn(z,2)?z:kt(z):ve(z,D,ie)).then(z=>{if(z){if(hn(z,2))return R(Te({replace:S},E(z.to),{state:typeof z.to=="object"?Te({},Se,z.to.state):Se,force:w}),Z||D)}else z=B(D,ie,!0,S,Se);return Y(D,ie,z),z})}function W(F,Z){const Q=x(F,Z);return Q?Promise.reject(Q):Promise.resolve()}function M(F){const Z=Xt.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(F):F()}function V(F,Z){let Q;const[ie,Se,w]=Vy(F,Z);Q=ha(ie.reverse(),"beforeRouteLeave",F,Z);for(const A of ie)A.leaveGuards.forEach(D=>{Q.push(Mn(D,F,Z))});const S=W.bind(null,F,Z);return Q.push(S),ft(Q).then(()=>{Q=[];for(const A of i.list())Q.push(Mn(A,F,Z));return Q.push(S),ft(Q)}).then(()=>{Q=ha(Se,"beforeRouteUpdate",F,Z);for(const A of Se)A.updateGuards.forEach(D=>{Q.push(Mn(D,F,Z))});return Q.push(S),ft(Q)}).then(()=>{Q=[];for(const A of w)if(A.beforeEnter)if(Qt(A.beforeEnter))for(const D of A.beforeEnter)Q.push(Mn(D,F,Z));else Q.push(Mn(A.beforeEnter,F,Z));return Q.push(S),ft(Q)}).then(()=>(F.matched.forEach(A=>A.enterCallbacks={}),Q=ha(w,"beforeRouteEnter",F,Z,M),Q.push(S),ft(Q))).then(()=>{Q=[];for(const A of o.list())Q.push(Mn(A,F,Z));return Q.push(S),ft(Q)}).catch(A=>hn(A,8)?A:Promise.reject(A))}function Y(F,Z,Q){a.list().forEach(ie=>M(()=>ie(F,Z,Q)))}function B(F,Z,Q,ie,Se){const w=x(F,Z);if(w)return w;const S=Z===An,A=ks?history.state:{};Q&&(ie||S?r.replace(F.fullPath,Te({scroll:S&&A&&A.scroll},Se)):r.push(F.fullPath,Se)),l.value=F,vt(F,Z,Q,S),kt()}let ee;function ne(){ee||(ee=r.listen((F,Z,Q)=>{if(!Jn.listening)return;const ie=p(F),Se=$(ie);if(Se){R(Te(Se,{replace:!0,force:!0}),ie).catch(Ir);return}c=ie;const w=l.value;ks&&fy(Su(w.fullPath,Q.delta),Oo()),V(ie,w).catch(S=>hn(S,12)?S:hn(S,2)?(R(Te(E(S.to),{force:!0}),ie).then(A=>{hn(A,20)&&!Q.delta&&Q.type===Br.pop&&r.go(-1,!1)}).catch(Ir),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),ve(S,ie,w))).then(S=>{S=S||B(ie,w,!1),S&&(Q.delta&&!hn(S,8)?r.go(-Q.delta,!1):Q.type===Br.pop&&hn(S,20)&&r.go(-1,!1)),Y(ie,w,S)}).catch(Ir)}))}let Ue=hr(),Ce=hr(),ue;function ve(F,Z,Q){kt(F);const ie=Ce.list();return ie.length?ie.forEach(Se=>Se(F,Z,Q)):console.error(F),Promise.reject(F)}function Qe(){return ue&&l.value!==An?Promise.resolve():new Promise((F,Z)=>{Ue.add([F,Z])})}function kt(F){return ue||(ue=!F,ne(),Ue.list().forEach(([Z,Q])=>F?Q(F):Z()),Ue.reset()),F}function vt(F,Z,Q,ie){const{scrollBehavior:Se}=t;if(!ks||!Se)return Promise.resolve();const w=!Q&&my(Su(F.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return Io().then(()=>Se(F,Z,w)).then(S=>S&&hy(S)).catch(S=>ve(S,F,Z))}const nt=F=>r.go(F);let Jt;const Xt=new Set,Jn={currentRoute:l,listening:!0,addRoute:f,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:m,resolve:p,options:t,push:I,replace:N,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ce.add,isReady:Qe,install(F){const Z=this;F.component("RouterLink",zy),F.component("RouterView",Uy),F.config.globalProperties.$router=Z,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>C(l)}),ks&&!Jt&&l.value===An&&(Jt=!0,I(r.location).catch(Se=>{}));const Q={};for(const Se in An)Object.defineProperty(Q,Se,{get:()=>l.value[Se],enumerable:!0});F.provide(Mo,Z),F.provide(zl,$h(Q)),F.provide(Ba,l);const ie=F.unmount;Xt.add(F),F.unmount=function(){Xt.delete(F),Xt.size<1&&(c=An,ee&&ee(),ee=null,l.value=An,Jt=!1,ue=!1),ie()}}};function ft(F){return F.reduce((Z,Q)=>Z.then(()=>M(Q)),Promise.resolve())}return Jn}function Vy(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>qs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qs(c,l))||r.push(l))}return[n,s,r]}function ln(){return Et(Mo)}function Vf(t){return Et(zl)}/*!
  * shared v11.1.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ji=typeof window<"u",Gn=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Wy=(t,e,n)=>Gy({l:t,k:e,s:n}),Gy=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ke=t=>typeof t=="number"&&isFinite(t),Yy=t=>Hl(t)==="[object Date]",Us=t=>Hl(t)==="[object RegExp]",Do=t=>pe(t)&&Object.keys(t).length===0,tt=Object.assign,Ky=Object.create,Ne=(t=null)=>Ky(t);let zu;const as=()=>zu||(zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ne());function Hu(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Qy=Object.prototype.hasOwnProperty;function Ut(t,e){return Qy.call(t,e)}const Be=Array.isArray,je=t=>typeof t=="function",te=t=>typeof t=="string",we=t=>typeof t=="boolean",xe=t=>t!==null&&typeof t=="object",Jy=t=>xe(t)&&je(t.then)&&je(t.catch),Wf=Object.prototype.toString,Hl=t=>Wf.call(t),pe=t=>Hl(t)==="[object Object]",Xy=t=>t==null?"":Be(t)||pe(t)&&t.toString===Wf?JSON.stringify(t,null,2):String(t);function ql(t,e=""){return t.reduce((n,s,r)=>r===0?n+s:n+e+s,"")}function Zy(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Ti=t=>!xe(t)||Be(t);function $i(t,e){if(Ti(t)||Ti(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:s,des:r}=n.pop();Object.keys(s).forEach(i=>{i!=="__proto__"&&(xe(s[i])&&!xe(r[i])&&(r[i]=Array.isArray(s[i])?[]:Ne()),Ti(r[i])||Ti(s[i])?r[i]=s[i]:n.push({src:s[i],des:r[i]}))})}}/*!
  * message-compiler v11.1.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function eb(t,e,n){return{line:t,column:e,offset:n}}function Va(t,e,n){return{start:t,end:e}}const Ae={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},tb=17;function $o(t,e,n={}){const{domain:s,messages:r,args:i}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=s,a}function nb(t){throw t}const fn=" ",sb="\r",bt=`
`,rb="\u2028",ib="\u2029";function ob(t){const e=t;let n=0,s=1,r=1,i=0;const o=R=>e[R]===sb&&e[R+1]===bt,a=R=>e[R]===bt,l=R=>e[R]===ib,c=R=>e[R]===rb,u=R=>o(R)||a(R)||l(R)||c(R),d=()=>n,h=()=>s,f=()=>r,y=()=>i,m=R=>o(R)||l(R)||c(R)?bt:e[R],g=()=>m(n),p=()=>m(n+i);function E(){return i=0,u(n)&&(s++,r=0),o(n)&&n++,n++,r++,e[n]}function x(){return o(n+i)&&i++,i++,e[n+i]}function I(){n=0,s=1,r=1,i=0}function N(R=0){i=R}function $(){const R=n+i;for(;R!==n;)E();i=0}return{index:d,line:h,column:f,peekOffset:y,charAt:m,currentChar:g,currentPeek:p,next:E,peek:x,reset:I,resetPeek:N,skipToPeek:$}}const Rn=void 0,ab=".",qu="'",lb="tokenizer";function cb(t,e={}){const n=e.location!==!1,s=ob(t),r=()=>s.index(),i=()=>eb(s.line(),s.column(),s.index()),o=i(),a=r(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(v,b,k,...P){const X=c();if(b.column+=k,b.offset+=k,u){const q=n?Va(X.startLoc,b):null,T=$o(v,q,{domain:lb,args:P});u(T)}}function h(v,b,k){v.endLoc=i(),v.currentType=b;const P={type:b};return n&&(P.loc=Va(v.startLoc,v.endLoc)),k!=null&&(P.value=k),P}const f=v=>h(v,13);function y(v,b){return v.currentChar()===b?(v.next(),b):(d(Ae.EXPECTED_TOKEN,i(),0,b),"")}function m(v){let b="";for(;v.currentPeek()===fn||v.currentPeek()===bt;)b+=v.currentPeek(),v.peek();return b}function g(v){const b=m(v);return v.skipToPeek(),b}function p(v){if(v===Rn)return!1;const b=v.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b===95}function E(v){if(v===Rn)return!1;const b=v.charCodeAt(0);return b>=48&&b<=57}function x(v,b){const{currentType:k}=b;if(k!==2)return!1;m(v);const P=p(v.currentPeek());return v.resetPeek(),P}function I(v,b){const{currentType:k}=b;if(k!==2)return!1;m(v);const P=v.currentPeek()==="-"?v.peek():v.currentPeek(),X=E(P);return v.resetPeek(),X}function N(v,b){const{currentType:k}=b;if(k!==2)return!1;m(v);const P=v.currentPeek()===qu;return v.resetPeek(),P}function $(v,b){const{currentType:k}=b;if(k!==7)return!1;m(v);const P=v.currentPeek()===".";return v.resetPeek(),P}function R(v,b){const{currentType:k}=b;if(k!==8)return!1;m(v);const P=p(v.currentPeek());return v.resetPeek(),P}function W(v,b){const{currentType:k}=b;if(!(k===7||k===11))return!1;m(v);const P=v.currentPeek()===":";return v.resetPeek(),P}function M(v,b){const{currentType:k}=b;if(k!==9)return!1;const P=()=>{const q=v.currentPeek();return q==="{"?p(v.peek()):q==="@"||q==="|"||q===":"||q==="."||q===fn||!q?!1:q===bt?(v.peek(),P()):Y(v,!1)},X=P();return v.resetPeek(),X}function V(v){m(v);const b=v.currentPeek()==="|";return v.resetPeek(),b}function Y(v,b=!0){const k=(X=!1,q="")=>{const T=v.currentPeek();return T==="{"||T==="@"||!T?X:T==="|"?!(q===fn||q===bt):T===fn?(v.peek(),k(!0,fn)):T===bt?(v.peek(),k(!0,bt)):!0},P=k();return b&&v.resetPeek(),P}function B(v,b){const k=v.currentChar();return k===Rn?Rn:b(k)?(v.next(),k):null}function ee(v){const b=v.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36}function ne(v){return B(v,ee)}function Ue(v){const b=v.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36||b===45}function Ce(v){return B(v,Ue)}function ue(v){const b=v.charCodeAt(0);return b>=48&&b<=57}function ve(v){return B(v,ue)}function Qe(v){const b=v.charCodeAt(0);return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function kt(v){return B(v,Qe)}function vt(v){let b="",k="";for(;b=ve(v);)k+=b;return k}function nt(v){let b="";for(;;){const k=v.currentChar();if(k==="{"||k==="}"||k==="@"||k==="|"||!k)break;if(k===fn||k===bt)if(Y(v))b+=k,v.next();else{if(V(v))break;b+=k,v.next()}else b+=k,v.next()}return b}function Jt(v){g(v);let b="",k="";for(;b=Ce(v);)k+=b;return v.currentChar()===Rn&&d(Ae.UNTERMINATED_CLOSING_BRACE,i(),0),k}function Xt(v){g(v);let b="";return v.currentChar()==="-"?(v.next(),b+=`-${vt(v)}`):b+=vt(v),v.currentChar()===Rn&&d(Ae.UNTERMINATED_CLOSING_BRACE,i(),0),b}function Jn(v){return v!==qu&&v!==bt}function ft(v){g(v),y(v,"'");let b="",k="";for(;b=B(v,Jn);)b==="\\"?k+=F(v):k+=b;const P=v.currentChar();return P===bt||P===Rn?(d(Ae.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),P===bt&&(v.next(),y(v,"'")),k):(y(v,"'"),k)}function F(v){const b=v.currentChar();switch(b){case"\\":case"'":return v.next(),`\\${b}`;case"u":return Z(v,b,4);case"U":return Z(v,b,6);default:return d(Ae.UNKNOWN_ESCAPE_SEQUENCE,i(),0,b),""}}function Z(v,b,k){y(v,b);let P="";for(let X=0;X<k;X++){const q=kt(v);if(!q){d(Ae.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${b}${P}${v.currentChar()}`);break}P+=q}return`\\${b}${P}`}function Q(v){return v!=="{"&&v!=="}"&&v!==fn&&v!==bt}function ie(v){g(v);let b="",k="";for(;b=B(v,Q);)k+=b;return k}function Se(v){let b="",k="";for(;b=ne(v);)k+=b;return k}function w(v){const b=k=>{const P=v.currentChar();return P==="{"||P==="@"||P==="|"||P==="("||P===")"||!P||P===fn?k:(k+=P,v.next(),b(k))};return b("")}function S(v){g(v);const b=y(v,"|");return g(v),b}function A(v,b){let k=null;switch(v.currentChar()){case"{":return b.braceNest>=1&&d(Ae.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),v.next(),k=h(b,2,"{"),g(v),b.braceNest++,k;case"}":return b.braceNest>0&&b.currentType===2&&d(Ae.EMPTY_PLACEHOLDER,i(),0),v.next(),k=h(b,3,"}"),b.braceNest--,b.braceNest>0&&g(v),b.inLinked&&b.braceNest===0&&(b.inLinked=!1),k;case"@":return b.braceNest>0&&d(Ae.UNTERMINATED_CLOSING_BRACE,i(),0),k=D(v,b)||f(b),b.braceNest=0,k;default:{let X=!0,q=!0,T=!0;if(V(v))return b.braceNest>0&&d(Ae.UNTERMINATED_CLOSING_BRACE,i(),0),k=h(b,1,S(v)),b.braceNest=0,b.inLinked=!1,k;if(b.braceNest>0&&(b.currentType===4||b.currentType===5||b.currentType===6))return d(Ae.UNTERMINATED_CLOSING_BRACE,i(),0),b.braceNest=0,H(v,b);if(X=x(v,b))return k=h(b,4,Jt(v)),g(v),k;if(q=I(v,b))return k=h(b,5,Xt(v)),g(v),k;if(T=N(v,b))return k=h(b,6,ft(v)),g(v),k;if(!X&&!q&&!T)return k=h(b,12,ie(v)),d(Ae.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,k.value),g(v),k;break}}return k}function D(v,b){const{currentType:k}=b;let P=null;const X=v.currentChar();switch((k===7||k===8||k===11||k===9)&&(X===bt||X===fn)&&d(Ae.INVALID_LINKED_FORMAT,i(),0),X){case"@":return v.next(),P=h(b,7,"@"),b.inLinked=!0,P;case".":return g(v),v.next(),h(b,8,".");case":":return g(v),v.next(),h(b,9,":");default:return V(v)?(P=h(b,1,S(v)),b.braceNest=0,b.inLinked=!1,P):$(v,b)||W(v,b)?(g(v),D(v,b)):R(v,b)?(g(v),h(b,11,Se(v))):M(v,b)?(g(v),X==="{"?A(v,b)||P:h(b,10,w(v))):(k===7&&d(Ae.INVALID_LINKED_FORMAT,i(),0),b.braceNest=0,b.inLinked=!1,H(v,b))}}function H(v,b){let k={type:13};if(b.braceNest>0)return A(v,b)||f(b);if(b.inLinked)return D(v,b)||f(b);switch(v.currentChar()){case"{":return A(v,b)||f(b);case"}":return d(Ae.UNBALANCED_CLOSING_BRACE,i(),0),v.next(),h(b,3,"}");case"@":return D(v,b)||f(b);default:{if(V(v))return k=h(b,1,S(v)),b.braceNest=0,b.inLinked=!1,k;if(Y(v))return h(b,0,nt(v));break}}return k}function z(){const{currentType:v,offset:b,startLoc:k,endLoc:P}=l;return l.lastType=v,l.lastOffset=b,l.lastStartLoc=k,l.lastEndLoc=P,l.offset=r(),l.startLoc=i(),s.currentChar()===Rn?h(l,13):H(s,l)}return{nextToken:z,currentOffset:r,currentPosition:i,context:c}}const ub="parser",db=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function hb(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function fb(t={}){const e=t.location!==!1,{onError:n}=t;function s(p,E,x,I,...N){const $=p.currentPosition();if($.offset+=I,$.column+=I,n){const R=e?Va(x,$):null,W=$o(E,R,{domain:ub,args:N});n(W)}}function r(p,E,x){const I={type:p};return e&&(I.start=E,I.end=E,I.loc={start:x,end:x}),I}function i(p,E,x,I){e&&(p.end=E,p.loc&&(p.loc.end=x))}function o(p,E){const x=p.context(),I=r(3,x.offset,x.startLoc);return I.value=E,i(I,p.currentOffset(),p.currentPosition()),I}function a(p,E){const x=p.context(),{lastOffset:I,lastStartLoc:N}=x,$=r(5,I,N);return $.index=parseInt(E,10),p.nextToken(),i($,p.currentOffset(),p.currentPosition()),$}function l(p,E){const x=p.context(),{lastOffset:I,lastStartLoc:N}=x,$=r(4,I,N);return $.key=E,p.nextToken(),i($,p.currentOffset(),p.currentPosition()),$}function c(p,E){const x=p.context(),{lastOffset:I,lastStartLoc:N}=x,$=r(9,I,N);return $.value=E.replace(db,hb),p.nextToken(),i($,p.currentOffset(),p.currentPosition()),$}function u(p){const E=p.nextToken(),x=p.context(),{lastOffset:I,lastStartLoc:N}=x,$=r(8,I,N);return E.type!==11?(s(p,Ae.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),$.value="",i($,I,N),{nextConsumeToken:E,node:$}):(E.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,tn(E)),$.value=E.value||"",i($,p.currentOffset(),p.currentPosition()),{node:$})}function d(p,E){const x=p.context(),I=r(7,x.offset,x.startLoc);return I.value=E,i(I,p.currentOffset(),p.currentPosition()),I}function h(p){const E=p.context(),x=r(6,E.offset,E.startLoc);let I=p.nextToken();if(I.type===8){const N=u(p);x.modifier=N.node,I=N.nextConsumeToken||p.nextToken()}switch(I.type!==9&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(I)),I=p.nextToken(),I.type===2&&(I=p.nextToken()),I.type){case 10:I.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(I)),x.key=d(p,I.value||"");break;case 4:I.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(I)),x.key=l(p,I.value||"");break;case 5:I.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(I)),x.key=a(p,I.value||"");break;case 6:I.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(I)),x.key=c(p,I.value||"");break;default:{s(p,Ae.UNEXPECTED_EMPTY_LINKED_KEY,E.lastStartLoc,0);const N=p.context(),$=r(7,N.offset,N.startLoc);return $.value="",i($,N.offset,N.startLoc),x.key=$,i(x,N.offset,N.startLoc),{nextConsumeToken:I,node:x}}}return i(x,p.currentOffset(),p.currentPosition()),{node:x}}function f(p){const E=p.context(),x=E.currentType===1?p.currentOffset():E.offset,I=E.currentType===1?E.endLoc:E.startLoc,N=r(2,x,I);N.items=[];let $=null;do{const M=$||p.nextToken();switch($=null,M.type){case 0:M.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(M)),N.items.push(o(p,M.value||""));break;case 5:M.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(M)),N.items.push(a(p,M.value||""));break;case 4:M.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(M)),N.items.push(l(p,M.value||""));break;case 6:M.value==null&&s(p,Ae.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,tn(M)),N.items.push(c(p,M.value||""));break;case 7:{const V=h(p);N.items.push(V.node),$=V.nextConsumeToken||null;break}}}while(E.currentType!==13&&E.currentType!==1);const R=E.currentType===1?E.lastOffset:p.currentOffset(),W=E.currentType===1?E.lastEndLoc:p.currentPosition();return i(N,R,W),N}function y(p,E,x,I){const N=p.context();let $=I.items.length===0;const R=r(1,E,x);R.cases=[],R.cases.push(I);do{const W=f(p);$||($=W.items.length===0),R.cases.push(W)}while(N.currentType!==13);return $&&s(p,Ae.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),i(R,p.currentOffset(),p.currentPosition()),R}function m(p){const E=p.context(),{offset:x,startLoc:I}=E,N=f(p);return E.currentType===13?N:y(p,x,I,N)}function g(p){const E=cb(p,tt({},t)),x=E.context(),I=r(0,x.offset,x.startLoc);return e&&I.loc&&(I.loc.source=p),I.body=m(E),t.onCacheKey&&(I.cacheKey=t.onCacheKey(p)),x.currentType!==13&&s(E,Ae.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,p[x.offset]||""),i(I,E.currentOffset(),E.currentPosition()),I}return{parse:g}}function tn(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function mb(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function ju(t,e){for(let n=0;n<t.length;n++)jl(t[n],e)}function jl(t,e){switch(t.type){case 1:ju(t.cases,e),e.helper("plural");break;case 2:ju(t.items,e);break;case 6:{jl(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function pb(t,e={}){const n=mb(t);n.helper("normalize"),t.body&&jl(t.body,n);const s=n.context();t.helpers=Array.from(s.helpers)}function gb(t){const e=t.body;return e.type===2?Uu(e):e.cases.forEach(n=>Uu(n)),t}function Uu(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const s=t.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===t.items.length){t.static=ql(e);for(let n=0;n<t.items.length;n++){const s=t.items[n];(s.type===3||s.type===9)&&delete s.value}}}}function As(t){switch(t.t=t.type,t.type){case 0:{const e=t;As(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let s=0;s<n.length;s++)As(n[s]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let s=0;s<n.length;s++)As(n[s]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;As(e.key),e.k=e.key,delete e.key,e.modifier&&(As(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function _b(t,e){const{filename:n,breakLineCode:s,needIndent:r}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(m,g){o.code+=m}function c(m,g=!0){const p=g?s:"";l(r?p+"  ".repeat(m):p)}function u(m=!0){const g=++o.indentLevel;m&&c(g)}function d(m=!0){const g=--o.indentLevel;m&&c(g)}function h(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:d,newline:h,helper:m=>`_${m}`,needIndent:()=>o.needIndent}}function vb(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Bs(t,e.key),e.modifier?(t.push(", "),Bs(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function yb(t,e){const{helper:n,needIndent:s}=t;t.push(`${n("normalize")}([`),t.indent(s());const r=e.items.length;for(let i=0;i<r&&(Bs(t,e.items[i]),i!==r-1);i++)t.push(", ");t.deindent(s()),t.push("])")}function bb(t,e){const{helper:n,needIndent:s}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(s());const r=e.cases.length;for(let i=0;i<r&&(Bs(t,e.cases[i]),i!==r-1);i++)t.push(", ");t.deindent(s()),t.push("])")}}function Cb(t,e){e.body?Bs(t,e.body):t.push("null")}function Bs(t,e){const{helper:n}=t;switch(e.type){case 0:Cb(t,e);break;case 1:bb(t,e);break;case 2:yb(t,e);break;case 6:vb(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const wb=(t,e={})=>{const n=te(e.mode)?e.mode:"normal",s=te(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=_b(t,{filename:s,breakLineCode:r,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${ql(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Bs(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Eb(t,e={}){const n=tt({},e),s=!!n.jit,r=!!n.minify,i=n.optimize==null?!0:n.optimize,a=fb(n).parse(t);return s?(i&&gb(a),r&&As(a),{ast:a,code:""}):(pb(a,n),wb(a,n))}/*!
  * core-base v11.1.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Sb(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(as().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(as().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function an(t){return xe(t)&&Ul(t)===0&&(Ut(t,"b")||Ut(t,"body"))}const Gf=["b","body"];function Ib(t){return Yn(t,Gf)}const Yf=["c","cases"];function xb(t){return Yn(t,Yf,[])}const Kf=["s","static"];function Tb(t){return Yn(t,Kf)}const Qf=["i","items"];function kb(t){return Yn(t,Qf,[])}const Jf=["t","type"];function Ul(t){return Yn(t,Jf)}const Xf=["v","value"];function ki(t,e){const n=Yn(t,Xf);if(n!=null)return n;throw Vr(e)}const Zf=["m","modifier"];function Ab(t){return Yn(t,Zf)}const em=["k","key"];function Rb(t){const e=Yn(t,em);if(e)return e;throw Vr(6)}function Yn(t,e,n){for(let s=0;s<e.length;s++){const r=e[s];if(Ut(t,r)&&t[r]!=null)return t[r]}return n}const tm=[...Gf,...Yf,...Kf,...Qf,...em,...Zf,...Xf,...Jf];function Vr(t){return new Error(`unhandled node type: ${t}`)}function fa(t){return n=>Nb(n,t)}function Nb(t,e){const n=Ib(e);if(n==null)throw Vr(0);if(Ul(n)===1){const i=xb(n);return t.plural(i.reduce((o,a)=>[...o,Bu(t,a)],[]))}else return Bu(t,n)}function Bu(t,e){const n=Tb(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const s=kb(e).reduce((r,i)=>[...r,Wa(t,i)],[]);return t.normalize(s)}}function Wa(t,e){const n=Ul(e);switch(n){case 3:return ki(e,n);case 9:return ki(e,n);case 4:{const s=e;if(Ut(s,"k")&&s.k)return t.interpolate(t.named(s.k));if(Ut(s,"key")&&s.key)return t.interpolate(t.named(s.key));throw Vr(n)}case 5:{const s=e;if(Ut(s,"i")&&Ke(s.i))return t.interpolate(t.list(s.i));if(Ut(s,"index")&&Ke(s.index))return t.interpolate(t.list(s.index));throw Vr(n)}case 6:{const s=e,r=Ab(s),i=Rb(s);return t.linked(Wa(t,i),r?Wa(t,r):void 0,t.type)}case 7:return ki(e,n);case 8:return ki(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Pb=t=>t;let Ai=Ne();function Lb(t,e={}){let n=!1;const s=e.onError||nb;return e.onError=r=>{n=!0,s(r)},{...Eb(t,e),detectError:n}}function Ob(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&te(t)){we(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||Pb)(t),r=Ai[s];if(r)return r;const{ast:i,detectError:o}=Lb(t,{...e,location:!1,jit:!0}),a=fa(i);return o?a:Ai[s]=a}else{const n=t.cacheKey;if(n){const s=Ai[n];return s||(Ai[n]=fa(t))}else return fa(t)}}let Wr=null;function Mb(t){Wr=t}function Db(t,e,n){Wr&&Wr.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const $b=Fb("function:translate");function Fb(t){return e=>Wr&&Wr.emit(t,e)}const _n={INVALID_ARGUMENT:tb,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},zb=24;function vn(t){return $o(t,null,void 0)}function Bl(t,e){return e.locale!=null?Vu(e.locale):Vu(t.locale)}let ma;function Vu(t){if(te(t))return t;if(je(t)){if(t.resolvedOnce&&ma!=null)return ma;if(t.constructor.name==="Function"){const e=t();if(Jy(e))throw vn(_n.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return ma=e}else throw vn(_n.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw vn(_n.NOT_SUPPORT_LOCALE_TYPE)}function Hb(t,e,n){return[...new Set([n,...Be(e)?e:xe(e)?Object.keys(e):te(e)?[e]:[n]])]}function nm(t,e,n){const s=te(n)?n:Gr,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(s);if(!i){i=[];let o=[n];for(;Be(o);)o=Wu(i,o,e);const a=Be(e)||!pe(e)?e:e.default?e.default:null;o=te(a)?[a]:a,Be(o)&&Wu(i,o,!1),r.__localeChainCache.set(s,i)}return i}function Wu(t,e,n){let s=!0;for(let r=0;r<e.length&&we(s);r++){const i=e[r];te(i)&&(s=qb(t,e[r],n))}return s}function qb(t,e,n){let s;const r=e.split("-");do{const i=r.join("-");s=jb(t,i,n),r.splice(-1,1)}while(r.length&&s===!0);return s}function jb(t,e,n){let s=!1;if(!t.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(Be(n)||pe(n))&&n[r]&&(s=n[r])}return s}const Kn=[];Kn[0]={w:[0],i:[3,0],"[":[4],o:[7]};Kn[1]={w:[1],".":[2],"[":[4],o:[7]};Kn[2]={w:[2],i:[3,0],0:[3,0]};Kn[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Kn[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Kn[5]={"'":[4,0],o:8,l:[5,0]};Kn[6]={'"':[4,0],o:8,l:[6,0]};const Ub=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Bb(t){return Ub.test(t)}function Vb(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function Wb(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Gb(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Bb(e)?Vb(e):"*"+e}function Yb(t){const e=[];let n=-1,s=0,r=0,i,o,a,l,c,u,d;const h=[];h[0]=()=>{o===void 0?o=a:o+=a},h[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},h[2]=()=>{h[0](),r++},h[3]=()=>{if(r>0)r--,s=4,h[0]();else{if(r=0,o===void 0||(o=Gb(o),o===!1))return!1;h[1]()}};function f(){const y=t[n+1];if(s===5&&y==="'"||s===6&&y==='"')return n++,a="\\"+y,h[0](),!0}for(;s!==null;)if(n++,i=t[n],!(i==="\\"&&f())){if(l=Wb(i),d=Kn[s],c=d[l]||d.l||8,c===8||(s=c[0],c[1]!==void 0&&(u=h[c[1]],u&&(a=i,u()===!1))))return;if(s===7)return e}}const Gu=new Map;function Kb(t,e){return xe(t)?t[e]:null}function Qb(t,e){if(!xe(t))return null;let n=Gu.get(e);if(n||(n=Yb(e),n&&Gu.set(e,n)),!n)return null;const s=n.length;let r=t,i=0;for(;i<s;){const o=n[i];if(tm.includes(o)&&an(r))return null;const a=r[o];if(a===void 0||je(r))return null;r=a,i++}return r}const Jb="11.1.4",Fo=-1,Gr="en-US",Yu="",Ku=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Xb(){return{upper:(t,e)=>e==="text"&&te(t)?t.toUpperCase():e==="vnode"&&xe(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&te(t)?t.toLowerCase():e==="vnode"&&xe(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&te(t)?Ku(t):e==="vnode"&&xe(t)&&"__v_isVNode"in t?Ku(t.children):t}}let sm;function Zb(t){sm=t}let rm;function e0(t){rm=t}let im;function t0(t){im=t}let om=null;const n0=t=>{om=t},s0=()=>om;let am=null;const Qu=t=>{am=t},r0=()=>am;let Ju=0;function i0(t={}){const e=je(t.onWarn)?t.onWarn:Zy,n=te(t.version)?t.version:Jb,s=te(t.locale)||je(t.locale)?t.locale:Gr,r=je(s)?Gr:s,i=Be(t.fallbackLocale)||pe(t.fallbackLocale)||te(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=pe(t.messages)?t.messages:pa(r),a=pe(t.datetimeFormats)?t.datetimeFormats:pa(r),l=pe(t.numberFormats)?t.numberFormats:pa(r),c=tt(Ne(),t.modifiers,Xb()),u=t.pluralRules||Ne(),d=je(t.missing)?t.missing:null,h=we(t.missingWarn)||Us(t.missingWarn)?t.missingWarn:!0,f=we(t.fallbackWarn)||Us(t.fallbackWarn)?t.fallbackWarn:!0,y=!!t.fallbackFormat,m=!!t.unresolving,g=je(t.postTranslation)?t.postTranslation:null,p=pe(t.processor)?t.processor:null,E=we(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,I=je(t.messageCompiler)?t.messageCompiler:sm,N=je(t.messageResolver)?t.messageResolver:rm||Kb,$=je(t.localeFallbacker)?t.localeFallbacker:im||Hb,R=xe(t.fallbackContext)?t.fallbackContext:void 0,W=t,M=xe(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,V=xe(W.__numberFormatters)?W.__numberFormatters:new Map,Y=xe(W.__meta)?W.__meta:{};Ju++;const B={version:n,cid:Ju,locale:s,fallbackLocale:i,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:h,fallbackWarn:f,fallbackFormat:y,unresolving:m,postTranslation:g,processor:p,warnHtmlMessage:E,escapeParameter:x,messageCompiler:I,messageResolver:N,localeFallbacker:$,fallbackContext:R,onWarn:e,__meta:Y};return B.datetimeFormats=a,B.numberFormats=l,B.__datetimeFormatters=M,B.__numberFormatters=V,__INTLIFY_PROD_DEVTOOLS__&&Db(B,n,Y),B}const pa=t=>({[t]:Ne()});function Vl(t,e,n,s,r){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,r);return te(a)?a:e}else return e}function fr(t,e,n){const s=t;s.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function o0(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function a0(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let s=n+1;s<e.length;s++)if(o0(t,e[s]))return!0;return!1}function Xu(t,...e){const{datetimeFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,d]=Ga(...e),h=we(u.missingWarn)?u.missingWarn:t.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,y=Bl(t,u),m=o(t,r,y);if(!te(l)||l==="")return new Intl.DateTimeFormat(y,d).format(c);let g={},p,E=null;const x="datetime format";for(let $=0;$<m.length&&(p=m[$],g=n[p]||{},E=g[l],!pe(E));$++)Vl(t,l,p,h,x);if(!pe(E)||!te(p))return s?Fo:l;let I=`${p}__${l}`;Do(d)||(I=`${I}__${JSON.stringify(d)}`);let N=a.get(I);return N||(N=new Intl.DateTimeFormat(p,tt({},E,d)),a.set(I,N)),f?N.formatToParts(c):N.format(c)}const lm=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ga(...t){const[e,n,s,r]=t,i=Ne();let o=Ne(),a;if(te(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw vn(_n.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw vn(_n.INVALID_ISO_DATE_ARGUMENT)}}else if(Yy(e)){if(isNaN(e.getTime()))throw vn(_n.INVALID_DATE_ARGUMENT);a=e}else if(Ke(e))a=e;else throw vn(_n.INVALID_ARGUMENT);return te(n)?i.key=n:pe(n)&&Object.keys(n).forEach(l=>{lm.includes(l)?o[l]=n[l]:i[l]=n[l]}),te(s)?i.locale=s:pe(s)&&(o=s),pe(r)&&(o=r),[i.key||"",a,i,o]}function Zu(t,e,n){const s=t;for(const r in n){const i=`${e}__${r}`;s.__datetimeFormatters.has(i)&&s.__datetimeFormatters.delete(i)}}function ed(t,...e){const{numberFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,d]=Ya(...e),h=we(u.missingWarn)?u.missingWarn:t.missingWarn;we(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,y=Bl(t,u),m=o(t,r,y);if(!te(l)||l==="")return new Intl.NumberFormat(y,d).format(c);let g={},p,E=null;const x="number format";for(let $=0;$<m.length&&(p=m[$],g=n[p]||{},E=g[l],!pe(E));$++)Vl(t,l,p,h,x);if(!pe(E)||!te(p))return s?Fo:l;let I=`${p}__${l}`;Do(d)||(I=`${I}__${JSON.stringify(d)}`);let N=a.get(I);return N||(N=new Intl.NumberFormat(p,tt({},E,d)),a.set(I,N)),f?N.formatToParts(c):N.format(c)}const cm=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ya(...t){const[e,n,s,r]=t,i=Ne();let o=Ne();if(!Ke(e))throw vn(_n.INVALID_ARGUMENT);const a=e;return te(n)?i.key=n:pe(n)&&Object.keys(n).forEach(l=>{cm.includes(l)?o[l]=n[l]:i[l]=n[l]}),te(s)?i.locale=s:pe(s)&&(o=s),pe(r)&&(o=r),[i.key||"",a,i,o]}function td(t,e,n){const s=t;for(const r in n){const i=`${e}__${r}`;s.__numberFormatters.has(i)&&s.__numberFormatters.delete(i)}}const l0=t=>t,c0=t=>"",u0="text",d0=t=>t.length===0?"":ql(t),h0=Xy;function nd(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function f0(t){const e=Ke(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ke(t.named.count)||Ke(t.named.n))?Ke(t.named.count)?t.named.count:Ke(t.named.n)?t.named.n:e:e}function m0(t,e){e.count||(e.count=t),e.n||(e.n=t)}function p0(t={}){const e=t.locale,n=f0(t),s=xe(t.pluralRules)&&te(e)&&je(t.pluralRules[e])?t.pluralRules[e]:nd,r=xe(t.pluralRules)&&te(e)&&je(t.pluralRules[e])?nd:void 0,i=p=>p[s(n,p.length,r)],o=t.list||[],a=p=>o[p],l=t.named||Ne();Ke(t.pluralIndex)&&m0(n,l);const c=p=>l[p];function u(p,E){const x=je(t.messages)?t.messages(p,!!E):xe(t.messages)?t.messages[p]:!1;return x||(t.parent?t.parent.message(p):c0)}const d=p=>t.modifiers?t.modifiers[p]:l0,h=pe(t.processor)&&je(t.processor.normalize)?t.processor.normalize:d0,f=pe(t.processor)&&je(t.processor.interpolate)?t.processor.interpolate:h0,y=pe(t.processor)&&te(t.processor.type)?t.processor.type:u0,g={list:a,named:c,plural:i,linked:(p,...E)=>{const[x,I]=E;let N="text",$="";E.length===1?xe(x)?($=x.modifier||$,N=x.type||N):te(x)&&($=x||$):E.length===2&&(te(x)&&($=x||$),te(I)&&(N=I||N));const R=u(p,!0)(g),W=N==="vnode"&&Be(R)&&$?R[0]:R;return $?d($)(W,N):W},message:u,type:y,interpolate:f,normalize:h,values:tt(Ne(),o,l)};return g}const sd=()=>"",Mt=t=>je(t);function rd(t,...e){const{fallbackFormat:n,postTranslation:s,unresolving:r,messageCompiler:i,fallbackLocale:o,messages:a}=t,[l,c]=Ka(...e),u=we(c.missingWarn)?c.missingWarn:t.missingWarn,d=we(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,h=we(c.escapeParameter)?c.escapeParameter:t.escapeParameter,f=!!c.resolvedMessage,y=te(c.default)||we(c.default)?we(c.default)?i?l:()=>l:c.default:n?i?l:()=>l:null,m=n||y!=null&&(te(y)||je(y)),g=Bl(t,c);h&&g0(c);let[p,E,x]=f?[l,g,a[g]||Ne()]:um(t,l,g,o,d,u),I=p,N=l;if(!f&&!(te(I)||an(I)||Mt(I))&&m&&(I=y,N=I),!f&&(!(te(I)||an(I)||Mt(I))||!te(E)))return r?Fo:l;let $=!1;const R=()=>{$=!0},W=Mt(I)?I:dm(t,l,E,I,N,R);if($)return I;const M=y0(t,E,x,c),V=p0(M),Y=_0(t,W,V),B=s?s(Y,l):Y;if(__INTLIFY_PROD_DEVTOOLS__){const ee={timestamp:Date.now(),key:te(l)?l:Mt(I)?I.key:"",locale:E||(Mt(I)?I.locale:""),format:te(I)?I:Mt(I)?I.source:"",message:B};ee.meta=tt({},t.__meta,s0()||{}),$b(ee)}return B}function g0(t){Be(t.list)?t.list=t.list.map(e=>te(e)?Hu(e):e):xe(t.named)&&Object.keys(t.named).forEach(e=>{te(t.named[e])&&(t.named[e]=Hu(t.named[e]))})}function um(t,e,n,s,r,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,s,n);let d=Ne(),h,f=null;const y="translate";for(let m=0;m<u.length&&(h=u[m],d=o[h]||Ne(),(f=l(d,e))===null&&(f=d[e]),!(te(f)||an(f)||Mt(f)));m++)if(!a0(h,u)){const g=Vl(t,e,h,i,y);g!==e&&(f=g)}return[f,h,d]}function dm(t,e,n,s,r,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Mt(s)){const c=s;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>s;return c.locale=n,c.key=e,c}const l=o(s,v0(t,n,r,s,a,i));return l.locale=n,l.key=e,l.source=s,l}function _0(t,e,n){return e(n)}function Ka(...t){const[e,n,s]=t,r=Ne();if(!te(e)&&!Ke(e)&&!Mt(e)&&!an(e))throw vn(_n.INVALID_ARGUMENT);const i=Ke(e)?String(e):(Mt(e),e);return Ke(n)?r.plural=n:te(n)?r.default=n:pe(n)&&!Do(n)?r.named=n:Be(n)&&(r.list=n),Ke(s)?r.plural=s:te(s)?r.default=s:pe(s)&&tt(r,s),[i,r]}function v0(t,e,n,s,r,i){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw i&&i(o),o},onCacheKey:o=>Wy(e,n,o)}}function y0(t,e,n,s){const{modifiers:r,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,h={locale:e,modifiers:r,pluralRules:i,messages:(f,y)=>{let m=o(n,f);if(m==null&&(u||y)){const[,,g]=um(u||t,f,e,a,l,c);m=o(g,f)}if(te(m)||an(m)){let g=!1;const E=dm(t,f,e,m,f,()=>{g=!0});return g?sd:E}else return Mt(m)?m:sd}};return t.processor&&(h.processor=t.processor),s.list&&(h.list=s.list),s.named&&(h.named=s.named),Ke(s.plural)&&(h.pluralIndex=s.plural),h}Sb();/*!
  * vue-i18n v11.1.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const b0="11.1.4";function C0(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(as().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(as().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(as().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(as().__INTLIFY_PROD_DEVTOOLS__=!1)}const Tt={UNEXPECTED_RETURN_TYPE:zb,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Pt(t,...e){return $o(t,null,void 0)}const Qa=Gn("__translateVNode"),Ja=Gn("__datetimeParts"),Xa=Gn("__numberParts"),hm=Gn("__setPluralRules"),fm=Gn("__injectWithOption"),Za=Gn("__dispose");function Yr(t){if(!xe(t)||an(t))return t;for(const e in t)if(Ut(t,e))if(!e.includes("."))xe(t[e])&&Yr(t[e]);else{const n=e.split("."),s=n.length-1;let r=t,i=!1;for(let o=0;o<s;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=Ne()),!xe(r[n[o]])){i=!0;break}r=r[n[o]]}if(i||(an(r)?tm.includes(n[s])||delete t[e]:(r[n[s]]=t[e],delete t[e])),!an(r)){const o=r[n[s]];xe(o)&&Yr(o)}}return t}function Wl(t,e){const{messages:n,__i18n:s,messageResolver:r,flatJson:i}=e,o=pe(n)?n:Be(s)?Ne():{[t]:Ne()};if(Be(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ne(),$i(c,o[l])):$i(c,o)}else te(a)&&$i(JSON.parse(a),o)}),r==null&&i)for(const a in o)Ut(o,a)&&Yr(o[a]);return o}function mm(t){return t.type}function pm(t,e,n){let s=xe(e.messages)?e.messages:Ne();"__i18nGlobal"in n&&(s=Wl(t.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(i=>{t.mergeLocaleMessage(i,s[i])});{if(xe(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(xe(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function id(t){return J(ui,null,t,0)}const od="__INTLIFY_META__",ad=()=>[],w0=()=>!1;let ld=0;function cd(t){return(e,n,s,r)=>t(n,s,Hs()||void 0,r)}const E0=()=>{const t=Hs();let e=null;return t&&(e=mm(t)[od])?{[od]:e}:null};function Gl(t={}){const{__root:e,__injectWithOption:n}=t,s=e===void 0,r=t.flatJson,i=Ji?oe:zh;let o=we(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:te(t.locale)?t.locale:Gr),l=i(e&&o?e.fallbackLocale.value:te(t.fallbackLocale)||Be(t.fallbackLocale)||pe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=i(Wl(a.value,t)),u=i(pe(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=i(pe(t.numberFormats)?t.numberFormats:{[a.value]:{}});let h=e?e.missingWarn:we(t.missingWarn)||Us(t.missingWarn)?t.missingWarn:!0,f=e?e.fallbackWarn:we(t.fallbackWarn)||Us(t.fallbackWarn)?t.fallbackWarn:!0,y=e?e.fallbackRoot:we(t.fallbackRoot)?t.fallbackRoot:!0,m=!!t.fallbackFormat,g=je(t.missing)?t.missing:null,p=je(t.missing)?cd(t.missing):null,E=je(t.postTranslation)?t.postTranslation:null,x=e?e.warnHtmlMessage:we(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const N=e?e.modifiers:pe(t.modifiers)?t.modifiers:{};let $=t.pluralRules||e&&e.pluralRules,R;R=(()=>{s&&Qu(null);const T={version:b0,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:N,pluralRules:$,missing:p===null?void 0:p,missingWarn:h,fallbackWarn:f,fallbackFormat:m,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:x,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};T.datetimeFormats=u.value,T.numberFormats=d.value,T.__datetimeFormatters=pe(R)?R.__datetimeFormatters:void 0,T.__numberFormatters=pe(R)?R.__numberFormatters:void 0;const L=i0(T);return s&&Qu(L),L})(),fr(R,a.value,l.value);function M(){return[a.value,l.value,c.value,u.value,d.value]}const V=K({get:()=>a.value,set:T=>{R.locale=T,a.value=T}}),Y=K({get:()=>l.value,set:T=>{R.fallbackLocale=T,l.value=T,fr(R,a.value,T)}}),B=K(()=>c.value),ee=K(()=>u.value),ne=K(()=>d.value);function Ue(){return je(E)?E:null}function Ce(T){E=T,R.postTranslation=T}function ue(){return g}function ve(T){T!==null&&(p=cd(T)),g=T,R.missing=p}const Qe=(T,L,re,ce,fe,st)=>{M();let Ge;try{__INTLIFY_PROD_DEVTOOLS__,s||(R.fallbackContext=e?r0():void 0),Ge=T(R)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(R.fallbackContext=void 0)}if(re!=="translate exists"&&Ke(Ge)&&Ge===Fo||re==="translate exists"&&!Ge){const[Lt,qt]=L();return e&&y?ce(e):fe(Lt)}else{if(st(Ge))return Ge;throw Pt(Tt.UNEXPECTED_RETURN_TYPE)}};function kt(...T){return Qe(L=>Reflect.apply(rd,null,[L,...T]),()=>Ka(...T),"translate",L=>Reflect.apply(L.t,L,[...T]),L=>L,L=>te(L))}function vt(...T){const[L,re,ce]=T;if(ce&&!xe(ce))throw Pt(Tt.INVALID_ARGUMENT);return kt(L,re,tt({resolvedMessage:!0},ce||{}))}function nt(...T){return Qe(L=>Reflect.apply(Xu,null,[L,...T]),()=>Ga(...T),"datetime format",L=>Reflect.apply(L.d,L,[...T]),()=>Yu,L=>te(L)||Be(L))}function Jt(...T){return Qe(L=>Reflect.apply(ed,null,[L,...T]),()=>Ya(...T),"number format",L=>Reflect.apply(L.n,L,[...T]),()=>Yu,L=>te(L)||Be(L))}function Xt(T){return T.map(L=>te(L)||Ke(L)||we(L)?id(String(L)):L)}const ft={normalize:Xt,interpolate:T=>T,type:"vnode"};function F(...T){return Qe(L=>{let re;const ce=L;try{ce.processor=ft,re=Reflect.apply(rd,null,[ce,...T])}finally{ce.processor=null}return re},()=>Ka(...T),"translate",L=>L[Qa](...T),L=>[id(L)],L=>Be(L))}function Z(...T){return Qe(L=>Reflect.apply(ed,null,[L,...T]),()=>Ya(...T),"number format",L=>L[Xa](...T),ad,L=>te(L)||Be(L))}function Q(...T){return Qe(L=>Reflect.apply(Xu,null,[L,...T]),()=>Ga(...T),"datetime format",L=>L[Ja](...T),ad,L=>te(L)||Be(L))}function ie(T){$=T,R.pluralRules=$}function Se(T,L){return Qe(()=>{if(!T)return!1;const re=te(L)?L:a.value,ce=A(re),fe=R.messageResolver(ce,T);return an(fe)||Mt(fe)||te(fe)},()=>[T],"translate exists",re=>Reflect.apply(re.te,re,[T,L]),w0,re=>we(re))}function w(T){let L=null;const re=nm(R,l.value,a.value);for(let ce=0;ce<re.length;ce++){const fe=c.value[re[ce]]||{},st=R.messageResolver(fe,T);if(st!=null){L=st;break}}return L}function S(T){const L=w(T);return L??(e?e.tm(T)||{}:{})}function A(T){return c.value[T]||{}}function D(T,L){if(r){const re={[T]:L};for(const ce in re)Ut(re,ce)&&Yr(re[ce]);L=re[T]}c.value[T]=L,R.messages=c.value}function H(T,L){c.value[T]=c.value[T]||{};const re={[T]:L};if(r)for(const ce in re)Ut(re,ce)&&Yr(re[ce]);L=re[T],$i(L,c.value[T]),R.messages=c.value}function z(T){return u.value[T]||{}}function v(T,L){u.value[T]=L,R.datetimeFormats=u.value,Zu(R,T,L)}function b(T,L){u.value[T]=tt(u.value[T]||{},L),R.datetimeFormats=u.value,Zu(R,T,L)}function k(T){return d.value[T]||{}}function P(T,L){d.value[T]=L,R.numberFormats=d.value,td(R,T,L)}function X(T,L){d.value[T]=tt(d.value[T]||{},L),R.numberFormats=d.value,td(R,T,L)}ld++,e&&Ji&&(on(e.locale,T=>{o&&(a.value=T,R.locale=T,fr(R,a.value,l.value))}),on(e.fallbackLocale,T=>{o&&(l.value=T,R.fallbackLocale=T,fr(R,a.value,l.value))}));const q={id:ld,locale:V,fallbackLocale:Y,get inheritLocale(){return o},set inheritLocale(T){o=T,T&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,fr(R,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:B,get modifiers(){return N},get pluralRules(){return $||{}},get isGlobal(){return s},get missingWarn(){return h},set missingWarn(T){h=T,R.missingWarn=h},get fallbackWarn(){return f},set fallbackWarn(T){f=T,R.fallbackWarn=f},get fallbackRoot(){return y},set fallbackRoot(T){y=T},get fallbackFormat(){return m},set fallbackFormat(T){m=T,R.fallbackFormat=m},get warnHtmlMessage(){return x},set warnHtmlMessage(T){x=T,R.warnHtmlMessage=T},get escapeParameter(){return I},set escapeParameter(T){I=T,R.escapeParameter=T},t:kt,getLocaleMessage:A,setLocaleMessage:D,mergeLocaleMessage:H,getPostTranslationHandler:Ue,setPostTranslationHandler:Ce,getMissingHandler:ue,setMissingHandler:ve,[hm]:ie};return q.datetimeFormats=ee,q.numberFormats=ne,q.rt=vt,q.te=Se,q.tm=S,q.d=nt,q.n=Jt,q.getDateTimeFormat=z,q.setDateTimeFormat=v,q.mergeDateTimeFormat=b,q.getNumberFormat=k,q.setNumberFormat=P,q.mergeNumberFormat=X,q[fm]=n,q[Qa]=F,q[Ja]=Q,q[Xa]=Z,q}function S0(t){const e=te(t.locale)?t.locale:Gr,n=te(t.fallbackLocale)||Be(t.fallbackLocale)||pe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,s=je(t.missing)?t.missing:void 0,r=we(t.silentTranslationWarn)||Us(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=we(t.silentFallbackWarn)||Us(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=we(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=pe(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=je(t.postTranslation)?t.postTranslation:void 0,d=te(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,f=we(t.sync)?t.sync:!0;let y=t.messages;if(pe(t.sharedMessages)){const N=t.sharedMessages;y=Object.keys(N).reduce((R,W)=>{const M=R[W]||(R[W]={});return tt(M,N[W]),R},y||{})}const{__i18n:m,__root:g,__injectWithOption:p}=t,E=t.datetimeFormats,x=t.numberFormats,I=t.flatJson;return{locale:e,fallbackLocale:n,messages:y,flatJson:I,datetimeFormats:E,numberFormats:x,missing:s,missingWarn:r,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:f,__i18n:m,__root:g,__injectWithOption:p}}function el(t={}){const e=Gl(S0(t)),{__extender:n}=t,s={id:e.id,get locale(){return e.locale.value},set locale(r){e.locale.value=r},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(r){e.fallbackLocale.value=r},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(r){e.setMissingHandler(r)},get silentTranslationWarn(){return we(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(r){e.missingWarn=we(r)?!r:r},get silentFallbackWarn(){return we(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(r){e.fallbackWarn=we(r)?!r:r},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(r){e.fallbackFormat=r},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(r){e.setPostTranslationHandler(r)},get sync(){return e.inheritLocale},set sync(r){e.inheritLocale=r},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(r){e.warnHtmlMessage=r!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(r){e.escapeParameter=r},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...r){return Reflect.apply(e.t,e,[...r])},rt(...r){return Reflect.apply(e.rt,e,[...r])},te(r,i){return e.te(r,i)},tm(r){return e.tm(r)},getLocaleMessage(r){return e.getLocaleMessage(r)},setLocaleMessage(r,i){e.setLocaleMessage(r,i)},mergeLocaleMessage(r,i){e.mergeLocaleMessage(r,i)},d(...r){return Reflect.apply(e.d,e,[...r])},getDateTimeFormat(r){return e.getDateTimeFormat(r)},setDateTimeFormat(r,i){e.setDateTimeFormat(r,i)},mergeDateTimeFormat(r,i){e.mergeDateTimeFormat(r,i)},n(...r){return Reflect.apply(e.n,e,[...r])},getNumberFormat(r){return e.getNumberFormat(r)},setNumberFormat(r,i){e.setNumberFormat(r,i)},mergeNumberFormat(r,i){e.mergeNumberFormat(r,i)}};return s.__extender=n,s}function I0(t,e,n){return{beforeCreate(){const s=Hs();if(!s)throw Pt(Tt.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const i=r.i18n;if(r.__i18n&&(i.__i18n=r.__i18n),i.__root=e,this===this.$root)this.$i18n=ud(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=el(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=ud(t,r);else{this.$i18n=el({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&pm(e,r,r),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=Hs();if(!s)throw Pt(Tt.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(s),delete this.$i18n}}}function ud(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[hm](e.pluralizationRules||t.pluralizationRules);const n=Wl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(s=>t.mergeLocaleMessage(s,n[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>t.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>t.mergeNumberFormat(s,e.numberFormats[s])),t}const Yl={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function x0({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((s,r)=>[...s,...r.type===be?r.children:[r]],[]):e.reduce((n,s)=>{const r=t[s];return r&&(n[s]=r()),n},Ne())}function gm(){return be}const T0=ci({name:"i18n-t",props:tt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ke(t)||!isNaN(t)}},Yl),setup(t,e){const{slots:n,attrs:s}=e,r=t.i18n||_e({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(d=>d[0]!=="_"),o=Ne();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=te(t.plural)?+t.plural:t.plural);const a=x0(e,i),l=r[Qa](t.keypath,a,o),c=tt(Ne(),s),u=te(t.tag)||xe(t.tag)?t.tag:gm();return hi(u,c,l)}}}),dd=T0;function k0(t){return Be(t)&&!te(t[0])}function _m(t,e,n,s){const{slots:r,attrs:i}=e;return()=>{const o={part:!0};let a=Ne();t.locale&&(o.locale=t.locale),te(t.format)?o.key=t.format:xe(t.format)&&(te(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((h,f)=>n.includes(f)?tt(Ne(),h,{[f]:t.format[f]}):h,Ne()));const l=s(t.value,o,a);let c=[o.key];Be(l)?c=l.map((h,f)=>{const y=r[h.type],m=y?y({[h.type]:h.value,index:f,parts:l}):[h.value];return k0(m)&&(m[0].key=`${h.type}-${f}`),m}):te(l)&&(c=[l]);const u=tt(Ne(),i),d=te(t.tag)||xe(t.tag)?t.tag:gm();return hi(d,u,c)}}const A0=ci({name:"i18n-n",props:tt({value:{type:Number,required:!0},format:{type:[String,Object]}},Yl),setup(t,e){const n=t.i18n||_e({useScope:t.scope,__useComponent:!0});return _m(t,e,cm,(...s)=>n[Xa](...s))}}),hd=A0;function R0(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const s=n.__getInstance(e);return s!=null?s.__composer:t.global.__composer}}function N0(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw Pt(Tt.UNEXPECTED_ERROR);const c=R0(t,a.$),u=fd(l);return[Reflect.apply(c.t,c,[...md(u)]),c]};return{created:(o,a)=>{const[l,c]=e(a);Ji&&t.global===c&&(o.__i18nWatcher=on(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Ji&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=fd(a);o.textContent=Reflect.apply(l.t,l,[...md(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function fd(t){if(te(t))return{path:t};if(pe(t)){if(!("path"in t))throw Pt(Tt.REQUIRED_VALUE,"path");return t}else throw Pt(Tt.INVALID_VALUE)}function md(t){const{path:e,locale:n,args:s,choice:r,plural:i}=t,o={},a=s||{};return te(n)&&(o.locale=n),Ke(r)&&(o.plural=r),Ke(i)&&(o.plural=i),[e,a,o]}function P0(t,e,...n){const s=pe(n[0])?n[0]:{};(we(s.globalInstall)?s.globalInstall:!0)&&([dd.name,"I18nT"].forEach(i=>t.component(i,dd)),[hd.name,"I18nN"].forEach(i=>t.component(i,hd)),[gd.name,"I18nD"].forEach(i=>t.component(i,gd))),t.directive("t",N0(e))}const L0=Gn("global-vue-i18n");function O0(t={}){const e=__VUE_I18N_LEGACY_API__&&we(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=we(t.globalInjection)?t.globalInjection:!0,s=new Map,[r,i]=M0(t,e),o=Gn("");function a(d){return s.get(d)||null}function l(d,h){s.set(d,h)}function c(d){s.delete(d)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(d,...h){if(d.__VUE_I18N_SYMBOL__=o,d.provide(d.__VUE_I18N_SYMBOL__,u),pe(h[0])){const m=h[0];u.__composerExtend=m.__composerExtend,u.__vueI18nExtend=m.__vueI18nExtend}let f=null;!e&&n&&(f=U0(d,u.global)),__VUE_I18N_FULL_INSTALL__&&P0(d,u,...h),__VUE_I18N_LEGACY_API__&&e&&d.mixin(I0(i,i.__composer,u));const y=d.unmount;d.unmount=()=>{f&&f(),u.dispose(),y()}},get global(){return i},dispose(){r.stop()},__instances:s,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function _e(t={}){const e=Hs();if(e==null)throw Pt(Tt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Pt(Tt.NOT_INSTALLED);const n=D0(e),s=F0(n),r=mm(e),i=$0(t,r);if(i==="global")return pm(s,t,r),s;if(i==="parent"){let l=z0(n,e,t.__useComponent);return l==null&&(l=s),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=tt({},t);"__i18n"in r&&(l.__i18n=r.__i18n),s&&(l.__root=s),a=Gl(l),o.__composerExtend&&(a[Za]=o.__composerExtend(a)),q0(o,e,a),o.__setInstance(e,a)}return a}function M0(t,e){const n=Il(),s=__VUE_I18N_LEGACY_API__&&e?n.run(()=>el(t)):n.run(()=>Gl(t));if(s==null)throw Pt(Tt.UNEXPECTED_ERROR);return[n,s]}function D0(t){const e=Et(t.isCE?L0:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Pt(t.isCE?Tt.NOT_INSTALLED_WITH_PROVIDE:Tt.UNEXPECTED_ERROR);return e}function $0(t,e){return Do(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function F0(t){return t.mode==="composition"?t.global:t.global.__composer}function z0(t,e,n=!1){let s=null;const r=e.root;let i=H0(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")s=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(s=a.__composer,n&&s&&!s[fm]&&(s=null))}if(s!=null||r===i)break;i=i.parent}return s}function H0(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function q0(t,e,n){It(()=>{},e),ko(()=>{const s=n;t.__deleteInstance(e);const r=s[Za];r&&(r(),delete s[Za])},e)}const j0=["locale","fallbackLocale","availableLocales"],pd=["t","rt","d","n","tm","te"];function U0(t,e){const n=Object.create(null);return j0.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i)throw Pt(Tt.UNEXPECTED_ERROR);const o=He(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,o)}),t.config.globalProperties.$i18n=n,pd.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i||!i.value)throw Pt(Tt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,i)}),()=>{delete t.config.globalProperties.$i18n,pd.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}const B0=ci({name:"i18n-d",props:tt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Yl),setup(t,e){const n=t.i18n||_e({useScope:t.scope,__useComponent:!0});return _m(t,e,lm,(...s)=>n[Ja](...s))}}),gd=B0;C0();Zb(Ob);e0(Qb);t0(nm);if(__INTLIFY_PROD_DEVTOOLS__){const t=as();t.__INTLIFY__=!0,Mb(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function V0(t,e=35,n=500){const s=oe([]),r=oe(""),i=oe(!1);let o=0,a=0;function l(){if(o>=t.length){i.value=!0;return}r.value="",a=0;const c=t[o],u=setInterval(()=>{r.value+=c[a],a++,a>=c.length&&(clearInterval(u),s.value.push(r.value),r.value="",o++,setTimeout(l,n))},e)}return{displayedParagraphs:s,currentLine:r,done:i,startTyping:l}}const W0={class:"min-h-screen bg-black text-amber-400 font-mono flex items-center justify-center px-6 py-10"},G0={class:"max-w-2xl text-lg leading-relaxed w-full"},Y0={key:0,class:"mb-6 text-justify"},K0={class:"flex justify-center"},Q0={__name:"Introduction",setup(t){const{t:e}=_e(),n=ln(),r=e("intro.text").split(`

`),{displayedParagraphs:i,currentLine:o,done:a,startTyping:l}=V0(r);It(l);function c(){n.push("/level/1")}return(u,d)=>(O(),U("div",W0,[_("div",G0,[(O(!0),U(be,null,zt(C(i),(h,f)=>(O(),U("p",{key:f,class:"mb-6 text-justify"},j(h),1))),128)),C(o)?(O(),U("p",Y0,[Ro(j(C(o)),1),d[0]||(d[0]=_("span",{class:"animate-pulse"},"|",-1))])):se("",!0),_("div",K0,[C(a)?(O(),U("button",{key:0,onClick:c,class:"mt-6 bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-md font-semibold uppercase transition"},j(u.$t("intro.continue")),1)):se("",!0)])])]))}},ct=[];for(let t=0;t<256;++t)ct.push((t+256).toString(16).slice(1));function J0(t,e=0){return(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase()}let ga;const X0=new Uint8Array(16);function Z0(){if(!ga){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ga=crypto.getRandomValues.bind(crypto)}return ga(X0)}const eC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_d={randomUUID:eC};function tC(t,e,n){var r;if(_d.randomUUID&&!t)return _d.randomUUID();t=t||{};const s=t.random??((r=t.rng)==null?void 0:r.call(t))??Z0();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,J0(s)}const nC=()=>{};var vd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+vm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},sC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),s.push(n[u],n[d],n[h],n[f])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ym(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||d==null)throw new rC;const h=i<<2|a>>4;if(s.push(h),c!==64){const f=a<<4&240|c>>2;if(s.push(f),d!==64){const y=c<<6&192|d;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bm=function(t){const e=ym(t);return Kl.encodeByteArray(e,!0)},Xi=function(t){return bm(t).replace(/\./g,"")},tl=function(t){try{return Kl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){return Cm(void 0,t)}function Cm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oC(n)||(t[n]=Cm(t[n],e[n]));return t}function oC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>aC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof vd>"u")return;const t=vd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tl(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return nC()||lC()||cC()||uC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dC=t=>{var e,n;return(n=(e=wm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hC=t=>{const e=dC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Em=()=>{var t;return(t=wm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){return t.endsWith(".cloudworkstations.dev")}async function fC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xi(JSON.stringify(n)),Xi(JSON.stringify(o)),""].join(".")}const Tr={};function pC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tr))Tr[e]?t.emulator.push(e):t.prod.push(e);return t}function gC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yd=!1;function _C(t,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Tr[t]===e||Tr[t]||yd)return;Tr[t]=e;function n(h){return`__firebase__banner__${h}`}const s="__firebase__banner",i=pC().prod.length>0;function o(){const h=document.getElementById(s);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{yd=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=gC(s),f=n("text"),y=document.getElementById(f)||document.createElement("span"),m=n("learnmore"),g=document.getElementById(m)||document.createElement("a"),p=n("preprendIcon"),E=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;a(x),u(g,m);const I=c();l(E,p),x.append(E,y,g,I),document.body.appendChild(x)}i?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vC())}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){return vm.NODE_ADMIN===!0}function CC(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=EC,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Im.prototype.create)}}class Im{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?SC(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new pi(r,a,s)}}function SC(t,e){return t.replace(IC,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const IC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=Kr(tl(i[0])||""),n=Kr(tl(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},xC=function(t){const e=xm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TC=function(t){const e=xm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zi(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Cd(i)&&Cd(o)){if(!eo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Cd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function zo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Ho=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(t){return t===ss?void 0:t}function LC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const MC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},DC=Fe.INFO,$C={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},FC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=$C[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=DC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const zC=(t,e)=>e.some(n=>t instanceof n);let wd,Ed;function HC(){return wd||(wd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return Ed||(Ed=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const km=new WeakMap,nl=new WeakMap,Am=new WeakMap,_a=new WeakMap,Jl=new WeakMap;function jC(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&km.set(n,t)}).catch(()=>{}),Jl.set(e,t),e}function UC(t){if(nl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});nl.set(t,e)}let sl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Am.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BC(t){sl=t(sl)}function VC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(va(this),e,...n);return Am.set(s,e.sort?e.sort():[e]),Fn(s)}:qC().includes(t)?function(...e){return t.apply(va(this),e),Fn(km.get(this))}:function(...e){return Fn(t.apply(va(this),e))}}function WC(t){return typeof t=="function"?VC(t):(t instanceof IDBTransaction&&UC(t),zC(t,HC())?new Proxy(t,sl):t)}function Fn(t){if(t instanceof IDBRequest)return jC(t);if(_a.has(t))return _a.get(t);const e=WC(t);return e!==t&&(_a.set(t,e),Jl.set(e,t)),e}const va=t=>Jl.get(t);function GC(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Fn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Fn(o.result),l.oldVersion,l.newVersion,Fn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],ya=new Map;function Sd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ya.get(e))return ya.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=KC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||YC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ya.set(e,i),i}BC(t=>({...t,get:(e,n,s)=>Sd(e,n)||t.get(e,n,s),has:(e,n)=>!!Sd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rl="@firebase/app",Id="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Tm("@firebase/app"),XC="@firebase/app-compat",ZC="@firebase/analytics-compat",e1="@firebase/analytics",t1="@firebase/app-check-compat",n1="@firebase/app-check",s1="@firebase/auth",r1="@firebase/auth-compat",i1="@firebase/database",o1="@firebase/data-connect",a1="@firebase/database-compat",l1="@firebase/functions",c1="@firebase/functions-compat",u1="@firebase/installations",d1="@firebase/installations-compat",h1="@firebase/messaging",f1="@firebase/messaging-compat",m1="@firebase/performance",p1="@firebase/performance-compat",g1="@firebase/remote-config",_1="@firebase/remote-config-compat",v1="@firebase/storage",y1="@firebase/storage-compat",b1="@firebase/firestore",C1="@firebase/ai",w1="@firebase/firestore-compat",E1="firebase",S1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]",I1={[rl]:"fire-core",[XC]:"fire-core-compat",[e1]:"fire-analytics",[ZC]:"fire-analytics-compat",[n1]:"fire-app-check",[t1]:"fire-app-check-compat",[s1]:"fire-auth",[r1]:"fire-auth-compat",[i1]:"fire-rtdb",[o1]:"fire-data-connect",[a1]:"fire-rtdb-compat",[l1]:"fire-fn",[c1]:"fire-fn-compat",[u1]:"fire-iid",[d1]:"fire-iid-compat",[h1]:"fire-fcm",[f1]:"fire-fcm-compat",[m1]:"fire-perf",[p1]:"fire-perf-compat",[g1]:"fire-rc",[_1]:"fire-rc-compat",[v1]:"fire-gcs",[y1]:"fire-gcs-compat",[b1]:"fire-fst",[w1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Map,x1=new Map,ol=new Map;function xd(t,e){try{t.container.addComponent(e)}catch(n){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(ol.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;ol.set(e,t);for(const n of to.values())xd(n,t);for(const n of x1.values())xd(n,t);return!0}function T1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function k1(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new Im("app","Firebase",A1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=S1;function Rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:il,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw zn.create("bad-app-name",{appName:String(r)});if(n||(n=Em()),!n)throw zn.create("no-options");const i=to.get(r);if(i){if(eo(n,i.options)&&eo(s,i.config))return i;throw zn.create("duplicate-app",{appName:r})}const o=new OC(r);for(const l of ol.values())o.addComponent(l);const a=new R1(n,s,o);return to.set(r,a),a}function P1(t=il){const e=to.get(t);if(!e&&t===il&&Em())return Rm();if(!e)throw zn.create("no-app",{appName:t});return e}function $s(t,e,n){var s;let r=(s=I1[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(a.join(" "));return}no(new Qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebase-heartbeat-database",O1=1,Jr="firebase-heartbeat-store";let ba=null;function Nm(){return ba||(ba=GC(L1,O1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jr)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),ba}async function M1(t){try{const n=(await Nm()).transaction(Jr),s=await n.objectStore(Jr).get(Pm(t));return await n.done,s}catch(e){if(e instanceof pi)Sn.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sn.warn(n.message)}}}async function Td(t,e){try{const s=(await Nm()).transaction(Jr,"readwrite");await s.objectStore(Jr).put(e,Pm(t)),await s.done}catch(n){if(n instanceof pi)Sn.warn(n.message);else{const s=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sn.warn(s.message)}}}function Pm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1024,$1=30;class F1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kd();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>$1){const o=q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kd(),{heartbeatsToSend:s,unsentEntries:r}=z1(this._heartbeatsCache.heartbeats),i=Xi(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sn.warn(n),""}}}function kd(){return new Date().toISOString().substring(0,10)}function z1(t,e=D1){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Ad(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ad(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CC()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Td(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Td(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ad(t){return Xi(JSON.stringify({version:2,heartbeats:t})).length}function q1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){no(new Qr("platform-logger",e=>new QC(e),"PRIVATE")),no(new Qr("heartbeat",e=>new F1(e),"PRIVATE")),$s(rl,Id,t),$s(rl,Id,"esm2017"),$s("fire-js","")}j1("");var U1="firebase",B1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(U1,B1,"app");var Rd={};const Nd="@firebase/database",Pd="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm="";function V1(t){Lm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Kr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W1(e)}}catch{}return new G1},ls=Om("localStorage"),Y1=Om("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Tm("@firebase/database"),K1=function(){let t=1;return function(){return t++}}(),Mm=function(t){const e=RC(t),n=new AC;n.update(e);const s=n.digest();return Kl.encodeByteArray(s)},gi=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=gi.apply(null,s):typeof s=="object"?e+=Xe(s):e+=s,e+=" "}return e};let kr=null,Ld=!0;const Q1=function(t,e){G(!0,"Can't turn on custom loggers persistently."),Fs.logLevel=Fe.VERBOSE,kr=Fs.log.bind(Fs)},dt=function(...t){if(Ld===!0&&(Ld=!1,kr===null&&Y1.get("logging_enabled")===!0&&Q1()),kr){const e=gi.apply(null,t);kr(e)}},_i=function(t){return function(...e){dt(t,...e)}},al=function(...t){const e="FIREBASE INTERNAL ERROR: "+gi(...t);Fs.error(e)},In=function(...t){const e=`FIREBASE FATAL ERROR: ${gi(...t)}`;throw Fs.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+gi(...t);Fs.warn(e)},J1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xl=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},X1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ws="[MIN_NAME]",hs="[MAX_NAME]",gs=function(t,e){if(t===e)return 0;if(t===Ws||e===hs)return-1;if(e===Ws||t===hs)return 1;{const n=Od(t),s=Od(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Z1=function(t,e){return t===e?0:t<e?-1:1},mr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},Zl=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Xe(e[s]),n+=":",n+=Zl(t[e[s]]);return n+="}",n},Dm=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $m=function(t){G(!Xl(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,l;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},ew=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const sw=new RegExp("^-?(0*)\\d{1,10}$"),rw=-2147483648,iw=2147483647,Od=function(t){if(sw.test(t)){const e=Number(t);if(e>=rw&&e<=iw)return e}return null},er=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},ow=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ar=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,k1(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class Fi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="5",Fm="v",zm="s",Hm="r",qm="f",jm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Um="ls",Bm="p",ll="ac",Vm="websocket",Wm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,s,r,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ym(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===Vm)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Wm)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cw(t)&&(n.ns=t.namespace);const r=[];return ht(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.counters_={}}incrementCounter(e,n=1){cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca={},wa={};function tc(t){const e=t.toString();return Ca[e]||(Ca[e]=new uw),Ca[e]}function dw(t,e){const n=t.toString();return wa[n]||(wa[n]=e()),wa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&er(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="start",fw="close",mw="pLPCommand",pw="pRTLPCB",Km="id",Qm="pw",Jm="ser",gw="cb",_w="seg",vw="ts",yw="d",bw="dframe",Xm=1870,Zm=30,Cw=Xm-Zm,ww=25e3,Ew=3e4;class Rs{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_i(e),this.stats_=tc(n),this.urlFn=l=>(this.appCheckToken&&(l[ll]=this.appCheckToken),Ym(n,Wm,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ew)),X1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nc((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Md)this.id=a,this.password=l;else if(o===fw)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Md]="t",s[Jm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[gw]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Fm]=ec,this.transportSessionId&&(s[zm]=this.transportSessionId),this.lastSessionId&&(s[Um]=this.lastSessionId),this.applicationId&&(s[Bm]=this.applicationId),this.appCheckToken&&(s[ll]=this.appCheckToken),typeof location<"u"&&location.hostname&&jm.test(location.hostname)&&(s[Hm]=qm);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rs.forceAllow_=!0}static forceDisallow(){Rs.forceDisallow_=!0}static isAvailable(){return Rs.forceAllow_?!0:!Rs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ew()&&!tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=bm(n),r=Dm(s,Cw);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[bw]="t",s[Km]=e,s[Qm]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class nc{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=K1(),window[mw+this.uniqueCallbackIdentifier]=e,window[pw+this.uniqueCallbackIdentifier]=n,this.myIFrame=nc.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dt("frame writing exception"),a.stack&&dt(a.stack),dt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Km]=this.myID,e[Qm]=this.myPW,e[Jm]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zm+s.length<=Xm;){const o=this.pendingSegs.shift();s=s+"&"+_w+r+"="+o.seg+"&"+vw+r+"="+o.ts+"&"+yw+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(ww)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=16384,Iw=45e3;let so=null;typeof MozWebSocket<"u"?so=MozWebSocket:typeof WebSocket<"u"&&(so=WebSocket);class jt{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_i(this.connId),this.stats_=tc(n),this.connURL=jt.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[Fm]=ec,typeof location<"u"&&location.hostname&&jm.test(location.hostname)&&(o[Hm]=qm),n&&(o[zm]=n),s&&(o[Um]=s),r&&(o[ll]=r),i&&(o[Bm]=i),Ym(e,Vm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let s;bC(),this.mySock=new so(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&so!==null&&!jt.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Kr(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Dm(n,Sw);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Iw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{static get ALL_TRANSPORTS(){return[Rs,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=jt&&jt.isAvailable();let s=n&&!jt.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[jt];else{const r=this.transports_=[];for(const i of Xr.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);Xr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=6e4,Tw=5e3,kw=10*1024,Aw=100*1024,Ea="t",Dd="d",Rw="s",$d="r",Nw="e",Fd="o",zd="a",Hd="n",qd="p",Pw="h";class Lw{constructor(e,n,s,r,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_i("c:"+this.id+":"),this.transportManager_=new Xr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Aw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ea in e){const n=e[Ea];n===zd?this.upgradeIfSecondaryHealthy_():n===$d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=mr("t",e),s=mr("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=mr("t",e),s=mr("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=mr(Ea,e);if(Dd in e){const s=e[Dd];if(n===Pw){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Hd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Rw?this.onConnectionShutdown_(s):n===$d?this.onReset_(s):n===Nw?al("Server Error: "+s):n===Fd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):al("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ec!==s&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Tw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends tp{static getInstance(){return new ro}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Sm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=32,Ud=768;class Le{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Le("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Le(t.pieces_,e)}function sc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ow(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function np(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Le(e,0)}function Ve(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Le)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Le(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){const n=ge(t),s=ge(e);if(n===null)return e;if(n===s)return wt(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Mw(t,e){const n=Zr(t,0),s=Zr(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=gs(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function sp(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Dt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Dw{constructor(e,n){this.errorPrefix_=n,this.parts_=Zr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ho(this.parts_[s]);rp(this)}}function $w(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ho(e),rp(t)}function Fw(t){const e=t.parts_.pop();t.byteLength_-=Ho(e),t.parts_.length>0&&(t.byteLength_-=1)}function rp(t){if(t.byteLength_>Ud)throw new Error(t.errorPrefix_+"has a key path longer than "+Ud+" bytes ("+t.byteLength_+").");if(t.parts_.length>jd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jd+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends tp{static getInstance(){return new rc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=1e3,zw=60*5*1e3,Bd=30*1e3,Hw=1.3,qw=3e4,jw="server_kill",Vd=3;class Cn extends ep{constructor(e,n,s,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=_i("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pr,this.maxReconnectDelay_=zw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ro.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(Xe(i)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new mi,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cn(e,"w")){const s=Vs(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Bd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):al("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qw&&(this.reconnectDelay_=pr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Lw(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,f=>{St(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(jw)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&St(d),l())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bd(this.interruptReasons_)&&(this.reconnectDelay_=pr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>Zl(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Le(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vd&&(this.reconnectDelay_=Bd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Lm.replace(/\./g,"-")]=1,Sm()?e["framework.cordova"]=1:yC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ro.getInstance().currentlyOnline();return bd(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new he(Ws,e),r=new he(Ws,n);return this.compare(s,r)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri;class ip extends qo{static get __EMPTY_NODE(){return Ri}static set __EMPTY_NODE(e){Ri=e}compare(e,n){return gs(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(hs,Ri)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Ri)}toString(){return".key"}}const zs=new ip;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??it.RED,this.left=r??xt.EMPTY_NODE,this.right=i??xt.EMPTY_NODE}copy(e,n,s,r,i){return new it(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class Uw{copy(e,n,s,r,i){return this}insert(e,n,s){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ni(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ni(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ni(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ni(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new Uw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){return gs(t.name,e.name)}function ic(t,e){return gs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;function Vw(t){cl=t}const op=function(t){return typeof t=="number"?"number:"+$m(t):"string:"+t},ap=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cn(e,".sv"),"Priority must be a string or number.")}else G(t===cl||t.isEmpty(),"priority of unexpected type.");G(t===cl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;class rt{static set __childrenNodeConstructor(e){Wd=e}static get __childrenNodeConstructor(){return Wd}constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ap(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:ge(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ge(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Bn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+op(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=$m(this.value_):e+=this.value_,this.lazyHash_=Mm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=rt.VALUE_TYPE_ORDER.indexOf(n),i=rt.VALUE_TYPE_ORDER.indexOf(s);return G(r>=0,"Unknown leaf type: "+n),G(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp,cp;function Ww(t){lp=t}function Gw(t){cp=t}class Yw extends qo{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?gs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(hs,new rt("[PRIORITY-POST]",cp))}makePost(e,n){const s=lp(e);return new he(n,new rt("[PRIORITY-POST]",s))}toString(){return".priority"}}const We=new Yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=Math.log(2);class Qw{constructor(e){const n=i=>parseInt(Math.log(i)/Kw,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const io=function(t,e,n,s){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new it(h,d.node,it.BLACK,null,null);{const f=parseInt(u/2,10)+l,y=r(l,f),m=r(f+1,c);return d=t[f],h=n?n(d):d,new it(h,d.node,it.BLACK,y,m)}},i=function(l){let c=null,u=null,d=t.length;const h=function(y,m){const g=d-y,p=d;d-=y;const E=r(g+1,p),x=t[g],I=n?n(x):x;f(new it(I,x.node,m,null,E))},f=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(y+1));m?h(g,it.BLACK):(h(g,it.BLACK),h(g,it.RED))}return u},o=new Qw(t.length),a=i(o);return new xt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;const Ss={};class yn{static get Default(){return G(Ss&&We,"ChildrenNode.ts has not been loaded"),Sa=Sa||new yn({".priority":Ss},{".priority":We}),Sa}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Vs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(he.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=io(s,e.getCompare()):a=Ss;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new yn(u,c)}addToIndexes(e,n){const s=Zi(this.indexes_,(r,i)=>{const o=Vs(this.indexSet_,i);if(G(o,"Missing index implementation for "+i),r===Ss)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(he.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),io(a,o.getCompare())}else return Ss;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new he(e.name,a))),l.insert(e,e.node)}});return new yn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Zi(this.indexes_,r=>{if(r===Ss)return r;{const i=n.get(e.name);return i?r.remove(new he(e.name,i)):r}});return new yn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr;class le{static get EMPTY_NODE(){return gr||(gr=new le(new xt(ic),null,yn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&ap(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gr}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?gr:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new he(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?gr:this.priorityNode_;return new le(r,o,i)}}updateChild(e,n){const s=ge(e);if(s===null)return n;{G(ge(e)!==".priority"||Bn(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(ze(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(We,(o,a)=>{n[o]=a.val(e),s++,i&&le.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+op(this.getPriority().val())+":"),this.forEachChild(We,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":Mm(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new he(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,he.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vi?-1:0}withIndex(e){if(e===zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(We),r=n.getIterator(We);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zs?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jw extends le{constructor(){super(new xt(ic),le.EMPTY_NODE,yn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const vi=new Jw;Object.defineProperties(he,{MIN:{value:new he(Ws,le.EMPTY_NODE)},MAX:{value:new he(hs,vi)}});ip.__EMPTY_NODE=le.EMPTY_NODE;rt.__childrenNodeConstructor=le;Vw(vi);Gw(vi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=!0;function Je(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,Je(e))}if(!(t instanceof Array)&&Xw){const n=[];let s=!1;if(ht(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Je(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new he(o,l)))}}),n.length===0)return le.EMPTY_NODE;const i=io(n,Bw,o=>o.name,ic);if(s){const o=io(n,We.getCompare());return new le(i,Je(e),new yn({".priority":o},{".priority":We}))}else return new le(i,Je(e),yn.Default)}else{let n=le.EMPTY_NODE;return ht(t,(s,r)=>{if(cn(t,s)&&s.substring(0,1)!=="."){const i=Je(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(Je(e))}}Ww(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends qo{constructor(e){super(),this.indexPath_=e,G(!me(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?gs(e.name,n.name):i}makePost(e,n){const s=Je(e),r=le.EMPTY_NODE.updateChild(this.indexPath_,s);return new he(n,r)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,vi);return new he(hs,e)}toString(){return Zr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends qo{compare(e,n){const s=e.node.compareTo(n.node);return s===0?gs(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const s=Je(e);return new he(n,s)}toString(){return".value"}}const tE=new eE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return{type:"value",snapshotNode:t}}function Gs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ei(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ti(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.index_=e}updateChild(e,n,s,r,i,o){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(s.getChild(r))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ei(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gs(n,s)):o.trackChildChange(ti(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(We,(r,i)=>{n.hasChild(r)||s.trackChildChange(ei(r,i))}),n.isLeafNode()||n.forEachChild(We,(r,i)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(i)||s.trackChildChange(ti(r,i,o))}else s.trackChildChange(Gs(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.indexedFilter_=new oc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ni.getStartPost_(e),this.endPost_=ni.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,o){return this.matches(new he(n,s))||(s=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=le.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(le.EMPTY_NODE);const i=this;return n.forEachChild(We,(o,a)=>{i.matches(new he(o,a))||(r=r.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ni(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,o){return this.rangedFilter_.matches(new he(n,s))||(s=le.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,o):this.fullLimitUpdateChild_(e,n,s,i,o)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=le.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(le.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new he(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!s.isEmpty()&&f>=0)return i!=null&&i.trackChildChange(ti(n,s,d)),a.updateImmediateChild(n,s);{i!=null&&i.trackChildChange(ei(n,d));const m=a.updateImmediateChild(n,le.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(Gs(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ei(c.name,c.node)),i.trackChildChange(Gs(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new ac;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rE(t){return t.loadsAllData()?new oc(t.getIndex()):t.hasLimit()?new sE(t):new ni(t)}function Gd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===tE?n="$value":t.index_===zs?n="$key":(G(t.index_ instanceof Zw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Xe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Xe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Xe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Yd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends ep{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=_i("p:rest:"),this.listens_={}}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=oo.getListenId_(e,s),a={};this.listens_[o]=a;const l=Gd(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,s),Vs(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const s=oo.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Gd(e._queryParams),s=e._path.toString(),r=new mi;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kC(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Kr(a.responseText)}catch{St("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return{value:null,children:new Map}}function dp(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=ge(e);t.children.has(s)||t.children.set(s,ao());const r=t.children.get(s);e=ze(e),dp(r,e,n)}}function ul(t,e,n){t.value!==null?n(e,t.value):oE(t,(s,r)=>{const i=new Le(e.toString()+"/"+s);ul(r,i,n)})}function oE(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=10*1e3,lE=30*1e3,cE=5*60*1e3;class uE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aE(e);const s=Kd+(lE-Kd)*Math.random();Ar(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;ht(e,(r,i)=>{i>0&&cn(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),Ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*cE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bt||(Bt={}));function lc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Bt.ACK_USER_WRITE,this.source=lc()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Le(e));return new lo(Ee(),n,this.revert)}}else return G(ge(this.path)===e,"operationForChild called for unrelated child."),new lo(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.source=e,this.path=n,this.type=Bt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new si(this.source,Ee()):new si(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Bt.OVERWRITE}operationForChild(e){return me(this.path)?new fs(this.source,Ee(),this.snap.getImmediateChild(e)):new fs(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Bt.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Le(e));return n.isEmpty()?null:n.value?new fs(this.source,Ee(),n.value):new Ys(this.source,Ee(),n)}else return G(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ys(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hE(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(nE(o.childName,o.snapshotNode))}),_r(t,r,"child_removed",e,s,n),_r(t,r,"child_added",e,s,n),_r(t,r,"child_moved",i,s,n),_r(t,r,"child_changed",e,s,n),_r(t,r,"value",e,s,n),r}function _r(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,l)=>mE(t,a,l)),o.forEach(a=>{const l=fE(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function fE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mE(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const s=new he(e.childName,e.snapshotNode),r=new he(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){return{eventCache:t,serverCache:e}}function Rr(t,e,n,s){return jo(new Vn(e,n,s),t.serverCache)}function hp(t,e,n,s){return jo(t.eventCache,new Vn(e,n,s))}function co(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ms(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;const pE=()=>(Ia||(Ia=new xt(Z1)),Ia);class $e{static fromObject(e){let n=new $e(null);return ht(e,(s,r)=>{n=n.set(new Le(s),r)}),n}constructor(e,n=pE()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(me(e))return null;{const s=ge(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(ze(e),n);return i!=null?{path:Ve(new Le(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=ge(e),s=this.children.get(n);return s!==null?s.subtree(ze(e)):new $e(null)}}set(e,n){if(me(e))return new $e(n,this.children);{const s=ge(e),i=(this.children.get(s)||new $e(null)).set(ze(e),n),o=this.children.insert(s,i);return new $e(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=ge(e),s=this.children.get(n);if(s){const r=s.remove(ze(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new $e(null):new $e(this.value,i)}else return this}}get(e){if(me(e))return this.value;{const n=ge(e),s=this.children.get(n);return s?s.get(ze(e)):null}}setTree(e,n){if(me(e))return n;{const s=ge(e),i=(this.children.get(s)||new $e(null)).setTree(ze(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new $e(this.value,o)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(Ve(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(me(e))return null;{const i=ge(e),o=this.children.get(i);return o?o.findOnPath_(ze(e),Ve(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const r=ge(e),i=this.children.get(r);return i?i.foreachOnPath_(ze(e),Ve(n,r),s):new $e(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(Ve(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.writeTree_=e}static empty(){return new Gt(new $e(null))}}function Nr(t,e,n){if(me(e))return new Gt(new $e(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=wt(r,e);return i=i.updateChild(o,n),new Gt(t.writeTree_.set(r,i))}else{const r=new $e(n),i=t.writeTree_.setTree(e,r);return new Gt(i)}}}function dl(t,e,n){let s=t;return ht(n,(r,i)=>{s=Nr(s,Ve(e,r),i)}),s}function Qd(t,e){if(me(e))return Gt.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new Gt(n)}}function hl(t,e){return _s(t,e)!=null}function _s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function Jd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(s,r)=>{e.push(new he(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new he(s,r.value))}),e}function Hn(t,e){if(me(e))return t;{const n=_s(t,e);return n!=null?new Gt(new $e(n)):new Gt(t.writeTree_.subtree(e))}}function fl(t){return t.writeTree_.isEmpty()}function Ks(t,e){return fp(Ee(),t.writeTree_,e)}function fp(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(G(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=fp(Ve(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ve(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){return _p(e,t)}function gE(t,e,n,s,r){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Nr(t.visibleWrites,e,n)),t.lastWriteId=s}function _E(t,e,n,s){G(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=dl(t.visibleWrites,e,n),t.lastWriteId=s}function vE(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function yE(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&bE(a,s.path)?r=!1:Dt(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return CE(t),!0;if(s.snap)t.visibleWrites=Qd(t.visibleWrites,s.path);else{const a=s.children;ht(a,l=>{t.visibleWrites=Qd(t.visibleWrites,Ve(s.path,l))})}return!0}else return!1}function bE(t,e){if(t.snap)return Dt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Dt(Ve(t.path,n),e))return!0;return!1}function CE(t){t.visibleWrites=mp(t.allWrites,wE,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function wE(t){return t.visible}function mp(t,e,n){let s=Gt.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)Dt(n,o)?(a=wt(n,o),s=Nr(s,a,i.snap)):Dt(o,n)&&(a=wt(o,n),s=Nr(s,Ee(),i.snap.getChild(a)));else if(i.children){if(Dt(n,o))a=wt(n,o),s=dl(s,a,i.children);else if(Dt(o,n))if(a=wt(o,n),me(a))s=dl(s,Ee(),i.children);else{const l=Vs(i.children,ge(a));if(l){const c=l.getChild(ze(a));s=Nr(s,Ee(),c)}}}else throw Xs("WriteRecord should have .snap or .children")}}return s}function pp(t,e,n,s,r){if(!s&&!r){const i=_s(t.visibleWrites,e);if(i!=null)return i;{const o=Hn(t.visibleWrites,e);if(fl(o))return n;if(n==null&&!hl(o,Ee()))return null;{const a=n||le.EMPTY_NODE;return Ks(o,a)}}}else{const i=Hn(t.visibleWrites,e);if(!r&&fl(i))return n;if(!r&&n==null&&!hl(i,Ee()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(Dt(c.path,e)||Dt(e,c.path))},a=mp(t.allWrites,o,e),l=n||le.EMPTY_NODE;return Ks(a,l)}}}function EE(t,e,n){let s=le.EMPTY_NODE;const r=_s(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(We,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=Hn(t.visibleWrites,e);return n.forEachChild(We,(o,a)=>{const l=Ks(Hn(i,new Le(o)),a);s=s.updateImmediateChild(o,l)}),Jd(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=Hn(t.visibleWrites,e);return Jd(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function SE(t,e,n,s,r){G(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=Ve(e,n);if(hl(t.visibleWrites,i))return null;{const o=Hn(t.visibleWrites,i);return fl(o)?r.getChild(n):Ks(o,r.getChild(n))}}function IE(t,e,n,s){const r=Ve(e,n),i=_s(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=Hn(t.visibleWrites,r);return Ks(o,s.getNode().getImmediateChild(n))}else return null}function xE(t,e){return _s(t.visibleWrites,e)}function TE(t,e,n,s,r,i,o){let a;const l=Hn(t.visibleWrites,e),c=_s(l,Ee());if(c!=null)a=c;else if(n!=null)a=Ks(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let f=h.getNext();for(;f&&u.length<r;)d(f,s)!==0&&u.push(f),f=h.getNext();return u}else return[]}function kE(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function uo(t,e,n,s){return pp(t.writeTree,t.treePath,e,n,s)}function dc(t,e){return EE(t.writeTree,t.treePath,e)}function Xd(t,e,n,s){return SE(t.writeTree,t.treePath,e,n,s)}function ho(t,e){return xE(t.writeTree,Ve(t.treePath,e))}function AE(t,e,n,s,r,i){return TE(t.writeTree,t.treePath,e,n,s,r,i)}function hc(t,e,n){return IE(t.writeTree,t.treePath,e,n)}function gp(t,e){return _p(Ve(t.treePath,e),t.writeTree)}function _p(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,ti(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,ei(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,Gs(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,ti(s,e.snapshotNode,r.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const vp=new NE;class fc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ms(this.viewCache_),i=AE(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){return{filter:t}}function LE(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function OE(t,e,n,s,r){const i=new RE;let o,a;if(n.type===Bt.OVERWRITE){const c=n;c.source.fromUser?o=ml(t,e,c.path,c.snap,s,r,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!me(c.path),o=fo(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===Bt.MERGE){const c=n;c.source.fromUser?o=DE(t,e,c.path,c.children,s,r,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=pl(t,e,c.path,c.children,s,r,a,i))}else if(n.type===Bt.ACK_USER_WRITE){const c=n;c.revert?o=zE(t,e,c.path,s,r,i):o=$E(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===Bt.LISTEN_COMPLETE)o=FE(t,e,n.path,s,i);else throw Xs("Unknown operation type: "+n.type);const l=i.getChanges();return ME(e,o,l),{viewCache:o,changes:l}}function ME(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=co(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(up(co(e)))}}function yp(t,e,n,s,r,i){const o=e.eventCache;if(ho(s,n)!=null)return e;{let a,l;if(me(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ms(e),u=c instanceof le?c:le.EMPTY_NODE,d=dc(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=uo(s,ms(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ge(n);if(c===".priority"){G(Bn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Xd(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ze(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Xd(s,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=hc(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,i):a=o.getNode()}}return Rr(e,a,o.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function fo(t,e,n,s,r,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(me(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ge(n);if(!l.isCompleteForPath(n)&&Bn(n)>1)return e;const y=ze(n),g=l.getNode().getImmediateChild(f).updateChild(y,s);f===".priority"?c=u.updatePriority(l.getNode(),g):c=u.updateChild(l.getNode(),f,g,y,vp,null)}const d=hp(e,c,l.isFullyInitialized()||me(n),u.filtersNodes()),h=new fc(r,d,i);return yp(t,d,n,r,h,a)}function ml(t,e,n,s,r,i,o){const a=e.eventCache;let l,c;const u=new fc(r,e,i);if(me(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Rr(e,c,!0,t.filter.filtersNodes());else{const d=ge(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Rr(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ze(n),f=a.getNode().getImmediateChild(d);let y;if(me(h))y=s;else{const m=u.getCompleteChild(d);m!=null?sc(h)===".priority"&&m.getChild(np(h)).isEmpty()?y=m:y=m.updateChild(h,s):y=le.EMPTY_NODE}if(f.equals(y))l=e;else{const m=t.filter.updateChild(a.getNode(),d,y,h,u,o);l=Rr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Zd(t,e){return t.eventCache.isCompleteForChild(e)}function DE(t,e,n,s,r,i,o){let a=e;return s.foreach((l,c)=>{const u=Ve(n,l);Zd(e,ge(u))&&(a=ml(t,a,u,c,r,i,o))}),s.foreach((l,c)=>{const u=Ve(n,l);Zd(e,ge(u))||(a=ml(t,a,u,c,r,i,o))}),a}function eh(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function pl(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;me(n)?c=s:c=new $e(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),y=eh(t,f,h);l=fo(t,l,new Le(d),y,r,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const y=e.serverCache.getNode().getImmediateChild(d),m=eh(t,y,h);l=fo(t,l,new Le(d),m,r,i,o,a)}}),l}function $E(t,e,n,s,r,i,o){if(ho(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fo(t,e,n,l.getNode().getChild(n),r,i,a,o);if(me(n)){let c=new $e(null);return l.getNode().forEachChild(zs,(u,d)=>{c=c.set(new Le(u),d)}),pl(t,e,n,c,r,i,a,o)}else return e}else{let c=new $e(null);return s.foreach((u,d)=>{const h=Ve(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),pl(t,e,n,c,r,i,a,o)}}function FE(t,e,n,s,r){const i=e.serverCache,o=hp(e,i.getNode(),i.isFullyInitialized()||me(n),i.isFiltered());return yp(t,o,n,s,vp,r)}function zE(t,e,n,s,r,i){let o;if(ho(s,n)!=null)return e;{const a=new fc(s,e,r),l=e.eventCache.getNode();let c;if(me(n)||ge(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=uo(s,ms(e));else{const d=e.serverCache.getNode();G(d instanceof le,"serverChildren would be complete if leaf node"),u=dc(s,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ge(n);let d=hc(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ze(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,le.EMPTY_NODE,ze(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=uo(s,ms(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||ho(s,Ee())!=null,Rr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new oc(s.getIndex()),i=rE(s);this.processor_=PE(i);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new Vn(l,o.isFullyInitialized(),r.filtersNodes()),d=new Vn(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=jo(d,u),this.eventGenerator_=new dE(this.query_)}get query(){return this.query_}}function qE(t){return t.viewCache_.serverCache.getNode()}function jE(t){return co(t.viewCache_)}function UE(t,e){const n=ms(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function th(t){return t.eventRegistrations_.length===0}function BE(t,e){t.eventRegistrations_.push(e)}function nh(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,r);o&&s.push(o)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function sh(t,e,n,s){e.type===Bt.MERGE&&e.source.queryId!==null&&(G(ms(t.viewCache_),"We should always have a full cache before handling merges"),G(co(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=OE(t.processor_,r,e,n,s);return LE(t.processor_,i.viewCache),G(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,bp(t,i.changes,i.viewCache.eventCache.getNode(),null)}function VE(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(i,o)=>{s.push(Gs(i,o))}),n.isFullyInitialized()&&s.push(up(n.getNode())),bp(t,s,n.getNode(),e)}function bp(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return hE(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class Cp{constructor(){this.views=new Map}}function WE(t){G(!mo,"__referenceConstructor has already been defined"),mo=t}function GE(){return G(mo,"Reference.ts has not been loaded"),mo}function YE(t){return t.views.size===0}function mc(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return G(i!=null,"SyncTree gave us an op for an invalid query."),sh(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(sh(o,e,n,s));return i}}function wp(t,e,n,s,r){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=uo(n,r?s:null),l=!1;a?l=!0:s instanceof le?(a=dc(n,s),l=!1):(a=le.EMPTY_NODE,l=!1);const c=jo(new Vn(a,l,!1),new Vn(s,r,!1));return new HE(e,c)}return o}function KE(t,e,n,s,r,i){const o=wp(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),BE(o,n),VE(o,n)}function QE(t,e,n,s){const r=e._queryIdentifier,i=[];let o=[];const a=Wn(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(nh(c,n,s)),th(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(nh(l,n,s)),th(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Wn(t)&&i.push(new(GE())(e._repo,e._path)),{removed:i,events:o}}function Ep(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qn(t,e){let n=null;for(const s of t.views.values())n=n||UE(s,e);return n}function Sp(t,e){if(e._queryParams.loadsAllData())return Bo(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Ip(t,e){return Sp(t,e)!=null}function Wn(t){return Bo(t)!=null}function Bo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;function JE(t){G(!po,"__referenceConstructor has already been defined"),po=t}function XE(){return G(po,"Reference.ts has not been loaded"),po}let ZE=1;class rh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=kE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xp(t,e,n,s,r){return gE(t.pendingWriteTree_,e,n,s,r),r?tr(t,new fs(lc(),e,n)):[]}function eS(t,e,n,s){_E(t.pendingWriteTree_,e,n,s);const r=$e.fromObject(n);return tr(t,new Ys(lc(),e,r))}function Dn(t,e,n=!1){const s=vE(t.pendingWriteTree_,e);if(yE(t.pendingWriteTree_,e)){let i=new $e(null);return s.snap!=null?i=i.set(Ee(),!0):ht(s.children,o=>{i=i.set(new Le(o),!0)}),tr(t,new lo(s.path,i,n))}else return[]}function yi(t,e,n){return tr(t,new fs(cc(),e,n))}function tS(t,e,n){const s=$e.fromObject(n);return tr(t,new Ys(cc(),e,s))}function nS(t,e){return tr(t,new si(cc(),e))}function sS(t,e,n){const s=gc(t,n);if(s){const r=_c(s),i=r.path,o=r.queryId,a=wt(i,e),l=new si(uc(o),a);return vc(t,i,l)}else return[]}function Tp(t,e,n,s,r=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Ip(o,e))){const l=QE(o,e,n,s);YE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,f)=>Wn(f));if(u&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const f=aS(h);for(let y=0;y<f.length;++y){const m=f[y],g=m.query,p=Np(t,m);t.listenProvider_.startListening(Pr(g),ri(t,g),p.hashFn,p.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Pr(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(Vo(h));t.listenProvider_.stopListening(Pr(h),f)}))}lS(t,c)}return a}function kp(t,e,n,s){const r=gc(t,s);if(r!=null){const i=_c(r),o=i.path,a=i.queryId,l=wt(o,e),c=new fs(uc(a),l,n);return vc(t,o,c)}else return[]}function rS(t,e,n,s){const r=gc(t,s);if(r){const i=_c(r),o=i.path,a=i.queryId,l=wt(o,e),c=$e.fromObject(n),u=new Ys(uc(a),l,c);return vc(t,o,u)}else return[]}function iS(t,e,n,s=!1){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{const y=wt(h,r);i=i||qn(f,y),o=o||Wn(f)});let a=t.syncPointTree_.get(r);a?(o=o||Wn(a),i=i||qn(a,Ee())):(a=new Cp,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;i!=null?l=!0:(l=!1,i=le.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,y)=>{const m=qn(y,Ee());m&&(i=i.updateImmediateChild(f,m))}));const c=Ip(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Vo(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=cS();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=Uo(t.pendingWriteTree_,r);let d=KE(a,e,n,u,i,l);if(!c&&!o&&!s){const h=Sp(a,e);d=d.concat(uS(t,e,h))}return d}function pc(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=wt(o,e),c=qn(a,l);if(c)return c});return pp(r,e,i,n,!0)}function oS(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=wt(c,n);s=s||qn(u,d)});let r=t.syncPointTree_.get(n);r?s=s||qn(r,Ee()):(r=new Cp,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,o=i?new Vn(s,!0,!1):null,a=Uo(t.pendingWriteTree_,e._path),l=wp(r,e,a,i?o.getNode():le.EMPTY_NODE,i);return jE(l)}function tr(t,e){return Ap(e,t.syncPointTree_,null,Uo(t.pendingWriteTree_,Ee()))}function Ap(t,e,n,s){if(me(t.path))return Rp(t,e,n,s);{const r=e.get(Ee());n==null&&r!=null&&(n=qn(r,Ee()));let i=[];const o=ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=gp(s,o);i=i.concat(Ap(a,l,c,u))}return r&&(i=i.concat(mc(r,t,s,n))),i}}function Rp(t,e,n,s){const r=e.get(Ee());n==null&&r!=null&&(n=qn(r,Ee()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=gp(s,o),u=t.operationForChild(o);u&&(i=i.concat(Rp(u,a,l,c)))}),r&&(i=i.concat(mc(r,t,s,n))),i}function Np(t,e){const n=e.query,s=ri(t,n);return{hashFn:()=>(qE(e)||le.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?sS(t,n._path,s):nS(t,n._path);{const i=nw(r,n);return Tp(t,n,null,i)}}}}function ri(t,e){const n=Vo(e);return t.queryToTagMap.get(n)}function Vo(t){return t._path.toString()+"$"+t._queryIdentifier}function gc(t,e){return t.tagToQueryMap.get(e)}function _c(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Le(t.substr(0,e))}}function vc(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const r=Uo(t.pendingWriteTree_,e);return mc(s,n,r,null)}function aS(t){return t.fold((e,n,s)=>{if(n&&Wn(n))return[Bo(n)];{let r=[];return n&&(r=Ep(n)),ht(s,(i,o)=>{r=r.concat(o)}),r}})}function Pr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(XE())(t._repo,t._path):t}function lS(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=Vo(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function cS(){return ZE++}function uS(t,e,n){const s=e._path,r=ri(t,e),i=Np(t,n),o=t.listenProvider_.startListening(Pr(e),r,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(s);if(r)G(!Wn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!me(c)&&u&&Wn(u))return[Bo(u).query];{let h=[];return u&&(h=h.concat(Ep(u).map(f=>f.query))),ht(d,(f,y)=>{h=h.concat(y)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Pr(u),ri(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yc(n)}node(){return this.node_}}class bc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new bc(this.syncTree_,n)}node(){return pc(this.syncTree_,this.path_)}}const dS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ih=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return fS(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},fS=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const r=e.node();if(G(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},Pp=function(t,e,n,s){return Cc(e,new bc(n,t),s)},Lp=function(t,e,n){return Cc(t,new yc(e),n)};function Cc(t,e,n){const s=t.getPriority().val(),r=ih(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=ih(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new rt(a,Je(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new rt(r))),o.forEachChild(We,(a,l)=>{const c=Cc(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ec(t,e){let n=e instanceof Le?e:new Le(e),s=t,r=ge(n);for(;r!==null;){const i=Vs(s.node.children,r)||{children:{},childCount:0};s=new wc(r,s,i),n=ze(n),r=ge(n)}return s}function nr(t){return t.node.value}function Op(t,e){t.node.value=e,gl(t)}function Mp(t){return t.node.childCount>0}function mS(t){return nr(t)===void 0&&!Mp(t)}function Wo(t,e){ht(t.node.children,(n,s)=>{e(new wc(n,t,s))})}function Dp(t,e,n,s){n&&e(t),Wo(t,r=>{Dp(r,e,!0)})}function pS(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function bi(t){return new Le(t.parent===null?t.name:bi(t.parent)+"/"+t.name)}function gl(t){t.parent!==null&&gS(t.parent,t.name,t)}function gS(t,e,n){const s=mS(n),r=cn(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,gl(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,gl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=/[\[\].#$\/\u0000-\u001F\u007F]/,vS=/[\[\].#$\u0000-\u001F\u007F]/,xa=10*1024*1024,Sc=function(t){return typeof t=="string"&&t.length!==0&&!_S.test(t)},$p=function(t){return typeof t=="string"&&t.length!==0&&!vS.test(t)},yS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$p(t)},bS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xl(t)||t&&typeof t=="object"&&cn(t,".sv")},CS=function(t,e,n,s){Go(zo(t,"value"),e,n)},Go=function(t,e,n){const s=n instanceof Le?new Dw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(s));if(typeof e=="function")throw new Error(t+"contains a function "+rs(s)+" with contents = "+e.toString());if(Xl(e))throw new Error(t+"contains "+e.toString()+" "+rs(s));if(typeof e=="string"&&e.length>xa/3&&Ho(e)>xa)throw new Error(t+"contains a string greater than "+xa+" utf8 bytes "+rs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(ht(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Sc(o)))throw new Error(t+" contains an invalid key ("+o+") "+rs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$w(s,o),Go(t,a,s),Fw(s)}),r&&i)throw new Error(t+' contains ".value" child '+rs(s)+" in addition to actual children.")}},wS=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=Zr(s);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Sc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Mw);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&Dt(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},ES=function(t,e,n,s){const r=zo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];ht(e,(o,a)=>{const l=new Le(o);if(Go(r,a,Ve(n,l)),sc(l)===".priority"&&!bS(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),wS(r,i)},Fp=function(t,e,n,s){if(!$p(n))throw new Error(zo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SS=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fp(t,e,n)},IS=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},xS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Sc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yS(n))throw new Error(zo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ic(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!sp(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ht(t,e,n){Ic(t,n),kS(t,s=>Dt(s,e)||Dt(e,s))}function kS(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(AS(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();kr&&dt("event: "+n.toString()),er(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="repo_interrupt",NS=25;class PS{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ao(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LS(t,e,n){if(t.stats_=tc(t.repoInfo_),t.forceRestClient_||ow())t.server_=new oo(t.repoInfo_,(s,r,i,o)=>{oh(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ah(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(s,r,i,o)=>{oh(t,s,r,i,o)},s=>{ah(t,s)},s=>{MS(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=dw(t.repoInfo_,()=>new uE(t.stats_,t.server_)),t.infoData_=new iE,t.infoSyncTree_=new rh({startListening:(s,r,i,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=yi(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),xc(t,"connected",!1),t.serverSyncTree_=new rh({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,l)=>{const c=o(a,l);Ht(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function OS(t){const n=t.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yo(t){return dS({timestamp:OS(t)})}function oh(t,e,n,s,r){t.dataUpdateCount++;const i=new Le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const l=Zi(n,c=>Je(c));o=rS(t.serverSyncTree_,i,l,r)}else{const l=Je(n);o=kp(t.serverSyncTree_,i,l,r)}else if(s){const l=Zi(n,c=>Je(c));o=tS(t.serverSyncTree_,i,l)}else{const l=Je(n);o=yi(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Qs(t,i)),Ht(t.eventQueue_,a,o)}function ah(t,e){xc(t,"connected",e),e===!1&&zS(t)}function MS(t,e){ht(e,(n,s)=>{xc(t,n,s)})}function xc(t,e,n){const s=new Le("/.info/"+e),r=Je(n);t.infoData_.updateSnapshot(s,r);const i=yi(t.infoSyncTree_,s,r);Ht(t.eventQueue_,s,i)}function Tc(t){return t.nextWriteId_++}function DS(t,e,n){const s=oS(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=Je(r).withIndex(e._queryParams.getIndex());iS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=yi(t.serverSyncTree_,e._path,i);else{const a=ri(t.serverSyncTree_,e);o=kp(t.serverSyncTree_,e._path,i,a)}return Ht(t.eventQueue_,e._path,o),Tp(t.serverSyncTree_,e,n,null,!0),i},r=>(Ci(t,"get for query "+Xe(e)+" failed: "+r),Promise.reject(new Error(r))))}function $S(t,e,n,s,r){Ci(t,"set",{path:e.toString(),value:n,priority:s});const i=Yo(t),o=Je(n,s),a=pc(t.serverSyncTree_,e),l=Lp(o,a,i),c=Tc(t),u=xp(t.serverSyncTree_,e,l,c,!0);Ic(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const y=h==="ok";y||St("set at "+e+" failed: "+h);const m=Dn(t.serverSyncTree_,c,!y);Ht(t.eventQueue_,e,m),_l(t,r,h,f)});const d=Ac(t,e);Qs(t,d),Ht(t.eventQueue_,d,[])}function FS(t,e,n,s){Ci(t,"update",{path:e.toString(),value:n});let r=!0;const i=Yo(t),o={};if(ht(n,(a,l)=>{r=!1,o[a]=Pp(Ve(e,a),Je(l),t.serverSyncTree_,i)}),r)dt("update() called with empty data.  Don't do anything."),_l(t,s,"ok",void 0);else{const a=Tc(t),l=eS(t.serverSyncTree_,e,o,a);Ic(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||St("update at "+e+" failed: "+c);const h=Dn(t.serverSyncTree_,a,!d),f=h.length>0?Qs(t,e):e;Ht(t.eventQueue_,f,h),_l(t,s,c,u)}),ht(n,c=>{const u=Ac(t,Ve(e,c));Qs(t,u)}),Ht(t.eventQueue_,e,[])}}function zS(t){Ci(t,"onDisconnectEvents");const e=Yo(t),n=ao();ul(t.onDisconnect_,Ee(),(r,i)=>{const o=Pp(r,i,t.serverSyncTree_,e);dp(n,r,o)});let s=[];ul(n,Ee(),(r,i)=>{s=s.concat(yi(t.serverSyncTree_,r,i));const o=Ac(t,r);Qs(t,o)}),t.onDisconnect_=ao(),Ht(t.eventQueue_,Ee(),s)}function HS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(RS)}function Ci(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function _l(t,e,n,s){e&&er(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const o=new Error(i);o.code=r,e(o)}})}function zp(t,e,n){return pc(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function kc(t,e=t.transactionQueueTree_){if(e||Ko(t,e),nr(e)){const n=qp(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&qS(t,bi(e),n)}else Mp(e)&&Wo(e,n=>{kc(t,n)})}function qS(t,e,n){const s=n.map(c=>c.currentWriteId),r=zp(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=wt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ci(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Dn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ko(t,Ec(t.transactionQueueTree_,e)),kc(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)er(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{St("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Qs(t,e)}},o)}function Qs(t,e){const n=Hp(t,e),s=bi(n),r=qp(t,n);return jS(t,r,s),s}function jS(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=wt(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=NS)u=!0,d="maxretry",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else{const h=zp(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Go("transaction failed: Data returned ",f,l.path);let y=Je(f);typeof f=="object"&&f!=null&&cn(f,".priority")||(y=y.updatePriority(h.getPriority()));const g=l.currentWriteId,p=Yo(t),E=Lp(y,h,p);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=E,l.currentWriteId=Tc(t),o.splice(o.indexOf(g),1),r=r.concat(xp(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),r=r.concat(Dn(t.serverSyncTree_,g,!0))}else u=!0,d="nodata",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0))}Ht(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ko(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)er(s[a]);kc(t,t.transactionQueueTree_)}function Hp(t,e){let n,s=t.transactionQueueTree_;for(n=ge(e);n!==null&&nr(s)===void 0;)s=Ec(s,n),e=ze(e),n=ge(e);return s}function qp(t,e){const n=[];return jp(t,e,n),n.sort((s,r)=>s.order-r.order),n}function jp(t,e,n){const s=nr(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Wo(e,r=>{jp(t,r,n)})}function Ko(t,e){const n=nr(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,Op(e,n.length>0?n:void 0)}Wo(e,s=>{Ko(t,s)})}function Ac(t,e){const n=bi(Hp(t,e)),s=Ec(t.transactionQueueTree_,e);return pS(s,r=>{Ta(t,r)}),Ta(t,s),Dp(s,r=>{Ta(t,r)}),n}function Ta(t,e){const n=nr(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Dn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Op(e,void 0):n.length=i+1,Ht(t.eventQueue_,bi(e),r);for(let o=0;o<s.length;o++)er(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function BS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const lh=function(t,e){const n=VS(t),s=n.namespace;n.domain==="firebase.com"&&In(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J1();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Gm(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Le(n.pathString)}},VS=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=US(t.substring(u,d)));const h=BS(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const y=e.indexOf(".");s=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=s}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class GS{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return me(this._path)?null:sc(this._path)}get ref(){return new Tn(this._repo,this._path)}get _queryIdentifier(){const e=Yd(this._queryParams),n=Zl(e);return n==="{}"?"default":n}get _queryObject(){return Yd(this._queryParams)}isEqual(e){if(e=Zs(e),!(e instanceof Rc))return!1;const n=this._repo===e._repo,s=sp(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ow(this._path)}}class Tn extends Rc{constructor(e,n){super(e,n,new ac,!1)}get parent(){const e=np(this._path);return e===null?null:new Tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ii{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Le(e),s=vl(this.ref,e);return new ii(this._node.getChild(n),s,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new ii(r,vl(this.ref,s),We)))}hasChild(e){const n=new Le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Is(t,e){return t=Zs(t),t._checkNotDeleted("ref"),e!==void 0?vl(t._root,e):t._root}function vl(t,e){return t=Zs(t),ge(t._path)===null?SS("child","path",e):Fp("child","path",e),new Tn(t._repo,Ve(t._path,e))}function ka(t,e){t=Zs(t),IS("set",t._path),CS("set",e,t._path);const n=new mi;return $S(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function KS(t,e){ES("update",e,t._path);const n=new mi;return FS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Pi(t){t=Zs(t);const e=new YS(()=>{}),n=new Nc(e);return DS(t._repo,t,n).then(s=>new ii(s,new Tn(t._repo,t._path),t._queryParams.getIndex()))}class Nc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new WS("value",this,new ii(e.snapshotNode,new Tn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new GS(this,e,n):null}matches(e){return e instanceof Nc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}WE(Tn);JE(Tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FIREBASE_DATABASE_EMULATOR_HOST",yl={};let JS=!1;function XS(t,e,n,s){const r=e.lastIndexOf(":"),i=e.substring(0,r),o=Ql(i);t.repoInfo_=new Gm(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function ZS(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=lh(i,r),a=o.repoInfo,l;typeof process<"u"&&Rd&&(l=Rd[QS]),l?(i=`http://${l}?ns=${a.namespace}`,o=lh(i,r),a=o.repoInfo):o.repoInfo.secure;const c=new lw(t.name,t.options,e);xS("Invalid Firebase Database URL",o),me(o.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const u=tI(a,t,c,new aw(t,n));return new nI(u,t)}function eI(t,e){const n=yl[e];(!n||n[t.key]!==t)&&In(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HS(t),delete n[t.key]}function tI(t,e,n,s){let r=yl[e.name];r||(r={},yl[e.name]=r);let i=r[t.toURLString()];return i&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new PS(t,JS,n,s),r[t.toURLString()]=i,i}class nI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&In("Cannot call "+e+" on a deleted database.")}}function sI(t=P1(),e){const n=T1(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=hC("database");s&&rI(n,...s)}return n}function rI(t,e,n,s={}){t=Zs(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&eo(s,i.repoInfo_.emulatorOptions))return;In("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fi(Fi.OWNER);else if(s.mockUserToken){const a=typeof s.mockUserToken=="string"?s.mockUserToken:mC(s.mockUserToken,t.app.options.projectId);o=new Fi(a)}Ql(e)&&(fC(e),_C("Database",!0)),XS(i,r,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){V1(N1),no(new Qr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return ZS(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),$s(Nd,Pd,t),$s(Nd,Pd,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iI();const oI={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},aI=Rm(oI),xs=sI(aI),lI=oe(null);function Qn(){const t=lI,e=async o=>{try{const a=tC(),l={id:a,playerName:o};return await ka(Is(xs,`/${a}`),l),t.value={id:a,playerName:o,startTime:Date.now()},localStorage.setItem("sessionId",a),a}catch(a){throw a}},n=async(o,a)=>{if(t.value)try{const l=t.value.id,c=Is(xs,`/${l}/levels/${o}`),u=await Pi(c);let d=!1,h=a,f=a;if(u.exists()){const y=u.val().timeSpent;a>y?(d=!0,h=a-y,f=a):f=y}else d=!0;await ka(Is(xs,`/${l}/levels/${o}`),{timeSpent:f,completedAt:Date.now()}),d&&await s(o,h)}catch(l){console.error("Error saving level time:",l)}},s=async(o,a)=>{try{const l=Is(xs,`/averages/level_${o}`),c=await Pi(l);if(c.exists()){const u=c.val(),d=u.count+1,h=u.totalTime+a,f=h/d;await KS(l,{count:d,totalTime:h,average:f})}else await ka(l,{count:1,totalTime:a,average:a})}catch(l){console.error("Error updating average time:",l)}};return{session:t,createGameSession:e,saveLevelTime:n,getAverageTime:async o=>{try{const a=Is(xs,`/averages/level_${o}`),l=await Pi(a);return l.exists()?l.val().average:null}catch{return null}},restoreSession:async()=>{const o=localStorage.getItem("sessionId");if(o)try{const a=Is(xs,`/${o}`),l=await Pi(a);if(l.exists())return t.value={id:o,...l.val()},t.value}catch{}return null}}}function sr(){const{saveLevelTime:t,getAverageTime:e}=Qn(),n=Et("timer",null);return{completeLevel:async(i,o=null)=>{var d,h;const a=C(n),l=o??((d=a==null?void 0:a.getStartTime)==null?void 0:d.call(a))??Date.now(),u=(((h=a==null?void 0:a.getCurrentTimeInSeconds)==null?void 0:h.call(a))??Math.round((Date.now()-l)/1e3))*1e3;try{await t(i,u);const f=await e(i),y=Math.round(u/1e3),m=f?Math.round(f/1e3):null;return{timeSpent:u,averageTime:f,timeInSeconds:y,avgInSeconds:m,isAboveAverage:f?u<f:null,hasTimer:!!a}}catch(f){console.error("Error completing level:",f)}},addTimePenalty:i=>{const o=C(n);o!=null&&o.addPenalty&&o.addPenalty(i)}}}const cI="/missionrdm/assets/hint1-CMY-uqZQ.png",uI="/missionrdm/assets/hint1-CS2Akhtl.png",dI="/missionrdm/assets/hint2-Bjrmx5KT.png",hI="/missionrdm/assets/hint2-D44SPrYZ.png",Up="/missionrdm/assets/char1-DsGb5oh6.png",lt=Pf("roadmap",()=>{const{t}=_e(),e=oe([{key:"step1",label:"",items:[]},{key:"step2",label:"",items:[]},{key:"step3",label:"",items:[]},{key:"step4",label:"",items:[]},{key:"step5",label:"",items:[]},{key:"step6",label:"",items:[]}]),n=oe(!1),s="escape-game-roadmap-entries",r={step1:[{key:"step1_1_A",level:2},{key:"step1_1_D",level:2},{key:"step1_1_H",level:2},{key:"step1_4",level:1},{key:"step1_5",level:1}],step4:[{key:"step4_4",level:1}],step6:[{key:"step6_2",level:1}]},i=new Set;function o(){Object.values(r).forEach(g=>{g.forEach(p=>{i.add(p.key)})})}function a(){try{const g=[];e.value.forEach(p=>{p.items.forEach(E=>{i.has(E.key)||g.push({stepKey:p.key,entryKey:E.key,level:E.level,isNew:E.isNew})})}),localStorage.setItem(s,JSON.stringify(g))}catch(g){console.error("Failed to save roadmap to localStorage:",g)}}function l(){try{const g=localStorage.getItem(s);if(g)return JSON.parse(g).forEach(E=>{const x=e.value.find(I=>I.key===E.stepKey);x&&(x.items.find(N=>N.key===E.entryKey)||(x.items.push({text:t(`roadmap.${E.entryKey}`),level:E.level,key:E.entryKey,isNew:E.isNew}),x.items=u(x.items)))}),!0}catch(g){console.error("Failed to load roadmap from localStorage:",g)}return!1}function c(){try{localStorage.removeItem(s)}catch(g){console.error("Failed to clear roadmap localStorage:",g)}}function u(g){return g.sort((p,E)=>{const x=p.key,I=E.key,N=x.split("_"),$=I.split("_");for(let R=0;R<Math.max(N.length,$.length);R++){const W=N[R]||"",M=$[R]||"";if(!isNaN(W)&&!isNaN(M)){const V=parseInt(W),Y=parseInt(M);if(V!==Y)return V-Y}else{if(W.match(/^[A-H]$/)&&!isNaN(M))return 1;if(M.match(/^[A-H]$/)&&!isNaN(W))return-1;if(W.match(/^[A-H]$/)&&M.match(/^[A-H]$/)){if(W!==M)return W.localeCompare(M)}else if(W!==M)return W.localeCompare(M)}}return 0})}function d(){o(),e.value.forEach(g=>{g.items=[],g.label=t(`roadmap.${g.key}`)}),e.value.forEach(g=>{if(r[g.key]){const p=r[g.key].map(E=>({text:t(`roadmap.${E.key}`),level:E.level,key:E.key,isNew:!1}));g.items=u(p)}}),l()}function h(){n.value=!0,setTimeout(()=>{n.value=!1},1e3)}function f(g,p){const E=e.value.find(N=>N.key===g);if(!E)return;h();const x=t(`roadmap.${p}`);if(!E.items.find(N=>N.key===p)){let N=0;if(p.includes("_")){const R=p.split("_");N=R.length-1,R[R.length-1].match(/^[A-H]$/)&&(N=2)}const $=!i.has(p);E.items.push({text:x,level:N,key:p,isNew:$}),E.items=u(E.items),a()}}function y(){c(),e.value.forEach(g=>{g.items=[]}),d()}function m(){y()}return{roadmapSteps:e,shouldFlash:n,initializeSteps:d,addEntry:f,resetRoadmap:y,resetToInitial:m,triggerFlash:h,saveToLocalStorage:a,loadFromLocalStorage:l,clearLocalStorage:c}});function Ie(t){if(!(t.startsWith("blob:")||t.startsWith("http:")||t.startsWith("https:")||t.startsWith("data:"))&&!t.startsWith("/")){console.error("Audio path should start with / for public files or be an imported module");return}const n=new Audio(t);n.volume=.5,n.play().catch(s=>{console.error("Error playing sound:",s)})}const _t="/missionrdm/assets/stepFound-DpyBkEZh.mp3",Lr="/missionrdm/assets/message-4URSdjkg.mp3",Qo="/missionrdm/assets/call-dkgb0ei-.mp3";function Bp(t){const e=Me(),{t:n,locale:s}=_e(),r=ln(),i=lt();sr();function o(f){if(!e.isCharCallable(f.name)){e.startCall(f.name,f.avatar,n("phone.callUnavailable"));return}Ie(Qo);const y=e.playerName||"";e.markCharacterAsCalled(f.name),e.level===1&&e.startCall(f.name,f.avatar,n("phone.call1",{playerName:y}))}function a(){return e.hasPendingMandatoryCalls()}function l(){return e.getPendingCallType()}function c(f){return e.getCharacterCallType(f)}function u(f){const y=f.find(m=>e.isCharCallable(m.name)&&!e.hasCalledCharacter(m.name));y&&o(y)}function d(f){const y="8",m="4",g="29",p="28";if(e.enteredCodes.includes(f)){t("error","");return}if(f===y&&!e.enteredCodes.includes(m)){const E=s.value==="fr"?uI:cI;t("success",""),e.firstHintFound=!0,e.showOverlay({type:"image",src:E});return}if(f===m&&e.firstHintFound){e.enteredCodes.push("4"),e.enteredCodes.push("8"),t("success",""),Ie(_t);const E=s.value==="fr"?hI:dI;e.showOverlay({type:"image",src:E}),i.addEntry("step1","step1_3"),bl();return}if(f===g){if(e.removeOverlay(e.overlayId),e.removeOverlay(e.overlayId2),e.riddleSolved){t("error",""),e.enteredCodes.includes(g)||bl();return}e.secondHintFound=!0,Ie(Lr);const E=e.playerName||"";e.activeMessage={from:"S15",name:"Santiago",image:"santiago",avatar:Up,body:n("phone.messageBodylvl1",{playerName:E})};return}if(e.currentScenarioImage==="final"&&f===p){e.enteredCodes.push(p),Ie(_t),e.currentScenarioImage="congrats",t("success",""),e.setCharCallable("Santiago",!1,"outgoing"),i.addEntry("step1","step1_2");return}if(e.currentScenarioImage==="final"&&(f==="77"||f==="82"||f==="25")){e.showErrorOverlay(n("riddle2.title"),n(`riddle2.incorrect${f}`));return}t("error","")}function h(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=2,r.push("/level/2")}return{handleCodeInput:d,continueToLevel2:h,handleCharacterCall:o,hasPendingCall:a,getPendingCallType:l,getCharacterCallType:c,answerPendingCall:u}}function bl(){const t=Me();t.enteredCodes.includes("8")&&t.enteredCodes.includes("4")&&t.riddleSolved&&(t.currentScenarioImage="updated",t.activeMessage=null,t.activeRiddle=null)}let fI=0;const Me=Pf("game",{state:()=>({level:1,progress:[],hintsUsed:{},playerName:"",showHintModal:!1,hintModalType:"clues",enteredCodes:[],patience:!1,overlayNotes:[],activeMessage:null,activeRiddle:null,riddleSolved:!1,overlayId:0,overlayId2:0,overlayId3:0,firstHintFound:!1,secondHintFound:!1,shouldShowSantiagoHint:!1,clickedElement:!1,callableCharacters:{Santiago:!1,Inès:!1,Jack:!1},characterCallTypes:{Santiago:"outgoing",Inès:"outgoing",Jack:"outgoing"},callSequence:{Santiago:0,Inès:0,Jack:0},calledCharacters:{Santiago:!1,Inès:!1,Jack:!1},activeCall:null,currentScenarioImage:"default",feedback:{type:"",message:""},showCongratsModal:!1,errorOverlayVisible:!1,errorOverlayData:{title:"",message:"",hint:""},levelStartTime:null,levelCompletionData:null}),actions:{initializePlayerName(){const t=localStorage.getItem("playerName");t&&(this.playerName=t)},startLevelTimer(t){this.levelStartTime=Date.now()},setLevelCompletionData(t){this.levelCompletionData=t},setPlayerName(t){this.playerName=t,localStorage.setItem("playerName",t)},markRiddleAsSolved(){this.riddleSolved=!0,this.level==1&&bl()},setCharCallable(t,e,n="outgoing"){this.callableCharacters[t]=e,this.characterCallTypes[t]=n,e&&(this.calledCharacters[t]=!1)},markCharacterAsCalled(t){this.calledCharacters[t]=!0,this.level===4&&(this.callSequence[t]++,this.handleLevel4CallStatus(t))},handleLevel4CallStatus(t){t==="Inès"&&this.callSequence.Inès===1&&this.currentScenarioImage==="second"&&(this.currentScenarioImage="third",this.setCharCallable("Inès",!1,"incoming")),t==="Santiago"&&this.callSequence.Santiago===1&&this.currentScenarioImage==="fifth"&&(this.currentScenarioImage="sixth",this.setCharCallable("Santiago",!1,"incoming"),this.shouldShowSantiagoHint=!0)},hasCalledCharacter(t){return this.calledCharacters[t]||!1},hasPendingMandatoryCalls(){return Object.keys(this.callableCharacters).some(t=>this.callableCharacters[t]&&!this.calledCharacters[t])},getCharacterCallType(t){return this.characterCallTypes[t]||"outgoing"},getPendingCallType(){const t=Object.keys(this.callableCharacters).find(e=>this.callableCharacters[e]&&!this.calledCharacters[e]);return t?this.characterCallTypes[t]:"outgoing"},startCall(t,e,n,s=null){this.activeCall={name:t,avatar:e,body:n,titleMiddle:s}},getLvl(){return this.level},endCall(){this.activeCall=null},showHints(t){this.hintModalType=t,this.showHintModal=!0},closeHints(){this.showHintModal=!1},isCharCallable(t){return this.callableCharacters[t]||!1},markMessageAsRead(){this.activeMessage=null,this.activeRiddle=null},addCode(t){this.enteredCodes.includes(t)||this.enteredCodes.push(t)},showOverlay(t){this.removeOverlay(this.overlayId3),this.removeOverlay(this.overlayId2),this.removeOverlay(this.overlayId);const e=fI++,n=typeof t=="string"?{id:e,type:"text",text:t}:{...t,id:e};this.overlayNotes.push(n),this.overlayId!==0&&this.overlayId2!==0?this.overlayId3=e:this.overlayId!==0?this.overlayId2=e:this.overlayId=e},removeOverlay(t){this.overlayNotes=this.overlayNotes.filter(e=>e.id!==t),this.overlayId===t?this.overlayId=0:this.overlayId2===t?this.overlayId2=0:this.overlayId3===t&&(this.overlayId3=0)},showErrorOverlay(t,e,n=""){this.errorOverlayData={title:t||"Erreur",message:e,hint:n},this.errorOverlayVisible=!0},closeErrorOverlay(){this.errorOverlayVisible=!1,this.errorOverlayData={title:"",message:"",hint:""}},setFeedback(t,e){this.feedback.type=t,this.feedback.message=e,setTimeout(()=>{this.feedback.type="",this.feedback.message=""},2e3)},resetAfterLevel(){this.enteredCodes=[],this.overlayNotes=[],this.activeMessage=null,this.activeRiddle=null,this.riddleSolved=!1,this.firstHintFound=!1,this.secondHintFound=!1,this.patience=!1,this.currentScenarioImage="default",this.feedback.type="",this.feedback.message="",this.overlayId=0,this.overlayId2=0,this.shouldShowSantiagoHint=!1,this.clickedElement=!1,this.showCongratsModal=!1,this.errorOverlayVisible=!1,this.errorOverlayData={title:"",message:"",hint:""},this.callableCharacters={Santiago:!1,Inès:!1,Jack:!1},this.levelStartTime=null,this.levelCompletionData=null,this.characterCallTypes={Santiago:"outgoing",Inès:"outgoing",Jack:"outgoing"},this.calledCharacters={Santiago:!1,Inès:!1,Jack:!1},this.callSequence={Santiago:0,Inès:0,Jack:0}}}});function mI(){const t=ln(),e=Me(),{createGameSession:n}=Qn(),s=oe("");It(()=>{const i=localStorage.getItem("playerName");i&&(s.value=i,e.playerName=i),localStorage.removeItem("sessionId")});async function r(){if(s.value.trim())try{await n(s.value.trim()),e.setPlayerName(s.value.trim()),t.push("/introduction")}catch(i){console.error("Failed to start game:",i)}}return{playerName:s,startGame:r}}const pI={class:"absolute top-4 right-4"},gI={__name:"LanguageToggleComponent",setup(t){const{locale:e}=_e(),n=oe(e.value);function s(){e.value=n.value,localStorage.setItem("lang",e.value)}return(r,i)=>(O(),U("div",pI,[us(_("select",{"onUpdate:modelValue":i[0]||(i[0]=o=>n.value=o),onChange:s,class:"bg-[#1f1f1f] border border-gray-600 text-white px-3 py-1 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"},i[1]||(i[1]=[_("option",{value:"en"},"🇬🇧 English",-1),_("option",{value:"fr"},"🇫🇷 Français",-1)]),544),[[Sv,n.value]])]))}},_I={class:"min-h-screen flex items-center justify-center bg-[#121212] text-gray-200 px-4 relative font-mono"},vI={class:"w-full max-w-6xl bg-[#202020] rounded-xl border border-gray-700 shadow-[0_0_30px_rgba(255,191,0,0.2)] p-16"},yI={class:"text-3xl font-bold text-center text-amber-400 mb-8 tracking-widest uppercase"},bI={class:"text-gray-400 mb-6 text-center"},CI={class:"text-gray-400 mb-6 text-center"},wI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},EI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},SI={class:"list-disc list-inside text-gray-400 mb-6 text-center"},II={class:"list-disc list-inside text-gray-400 mb-6 text-center"},vs={__name:"TutorialModalComponent",props:{visible:{type:Boolean,default:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=()=>{n("close")};return(r,i)=>(O(),U("div",_I,[_("div",vI,[_("h1",yI,j(r.$t("tutorial.title")),1),_("p",bI,j(r.$t("tutorial.subtitle")),1),_("p",CI,j(r.$t("tutorial.instructions")),1),_("p",wI,j(r.$t("tutorial.step1")),1),_("p",EI,j(r.$t("tutorial.step2")),1),_("p",SI,j(r.$t("tutorial.step3")),1),_("p",II,j(r.$t("tutorial.step4")),1),_("button",{class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-md shadow-md uppercase tracking-wide transition-all duration-150 w-full",onClick:s},j(r.$t("tutorial.backToStart")),1)])]))}},xI={class:"min-h-screen bg-[#121212] text-gray-200 font-mono flex flex-col"},TI={key:0,class:"fixed inset-0 z-[9999]"},kI={class:"flex-1 flex items-center justify-center px-4"},AI={class:"w-full max-w-lg bg-[#202020] rounded-xl border border-gray-700 shadow-[0_0_30px_rgba(255,191,0,0.2)] p-10"},RI={class:"text-4xl font-bold text-center text-amber-400 mb-10 tracking-widest uppercase leading-snug"},NI={class:"text-gray-400 mb-6 text-center"},PI={for:"playerName",class:"block text-base font-semibold mb-3 text-gray-400 tracking-wide"},LI=["placeholder"],OI={key:0,class:"text-red-500 text-sm mt-2 text-center"},MI={class:"flex flex-col space-y-4"},DI=["disabled"],$I={class:"border-t border-gray-800 py-6 px-4"},FI={class:"text-gray-500 text-sm leading-relaxed text-center space-y-4"},zI=["innerHTML"],HI={__name:"StartScreen",setup(t){const{playerName:e,startGame:n}=mI(),{t:s}=_e(),r=oe(!1),i=o=>!o||o.trim().length===0?!1:/^[a-zA-Z0-9]+$/.test(o.trim());return It(()=>{lt().resetRoadmap()}),(o,a)=>(O(),U("div",xI,[r.value?(O(),U("div",TI,[J(vs,{visible:r.value,asModal:!0,onClose:a[0]||(a[0]=l=>r.value=!1)},null,8,["visible"])])):se("",!0),_("div",kI,[J(gI),_("div",AI,[_("h1",RI,j(o.$t("startScreen.title")),1),_("p",NI,j(o.$t("startScreen.subtitle")),1),_("label",PI,j(o.$t("startScreen.enterName")),1),us(_("input",{id:"playerName","onUpdate:modelValue":a[1]||(a[1]=l=>He(e)?e.value=l:null),type:"text",class:"w-full border border-gray-700 bg-[#1a1a1a] text-white rounded-md px-4 py-3 mb-6 focus:outline-none focus:ring-2 focus:ring-amber-500 shadow-inner placeholder-gray-500",placeholder:o.$t("startScreen.namePlaceholder")},null,8,LI),[[Ds,C(e)]]),C(e).trim()&&!i(C(e))?(O(),U("p",OI,j(o.$t("startScreen.nameError")),1)):se("",!0),_("div",MI,[_("button",{class:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-md shadow-md uppercase tracking-wide transition-all duration-150",onClick:a[2]||(a[2]=(...l)=>C(n)&&C(n)(...l)),disabled:!C(e).trim()||!i(C(e))},j(o.$t("startScreen.startGame")),9,DI),_("button",{class:"bg-gray-700 hover:bg-gray-600 text-gray-200 font-semibold py-3 rounded-md shadow-inner uppercase transition-all duration-150",onClick:a[3]||(a[3]=l=>r.value=!0)},j(o.$t("startScreen.tutorial")),1)])])]),_("footer",$I,[_("div",FI,[_("p",{class:"text-gray-500 text-sm mt-2 text-center [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(s)("endScreen.EndMsg")},null,8,zI),a[4]||(a[4]=_("p",{class:"text-gray-500 text-sm"},[Ro(" Contact: "),_("a",{href:"mailto:openscience.bibliosante@hevs.ch",class:"text-amber-400 hover:text-amber-300 underline transition-colors duration-200"},"openscience.bibliosante@hevs.ch")],-1))])])]))}},Js="/missionrdm/assets/level-KKHL1hp5.mp3",Pc="/missionrdm/assets/char2-Dn_cJl3w.png",qI="/missionrdm/assets/hint3-Dq0qyl6h.png",jI="/missionrdm/assets/hint3-DyTzaF2I.png",UI="/missionrdm/assets/hint8-DM7tosOG.png",BI="/missionrdm/assets/hint8-BLOBfElq.png",VI="/missionrdm/assets/hint13-Bt1U-Z3H.png",WI="/missionrdm/assets/hint13-B1eYCej8.png",GI="/missionrdm/assets/hint15-BEKlcjet.png",YI="/missionrdm/assets/hint15-C5tmcHwZ.png";function KI(){const t=Me(),e=lt(),{t:n,locale:s}=_e(),{completeLevel:r}=sr(),i=K(()=>t.level===1&&t.currentScenarioImage==="updated"),o=K(()=>t.level===1&&t.currentScenarioImage==="third"),a=K(()=>t.level===1&&t.currentScenarioImage==="congrats");function l(){i.value&&(t.removeOverlay(t.overlayId),t.removeOverlay(t.overlayId2),t.currentScenarioImage="third",t.riddleSolved=!1)}function c(){o.value&&(t.currentScenarioImage="final",t.setCharCallable("Santiago",!0,"outgoing"))}function u(){a.value&&(Ie(Js),t.showCongratsModal=!0,d())}async function d(){if(t.levelStartTime)try{const ne=await r(1,t.levelStartTime);t.setLevelCompletionData(ne)}catch(ne){console.error("Failed to save level completion:",ne)}}const h=K(()=>t.level===2&&t.currentScenarioImage==="main");function f(){if(!h.value)return;t.firstHintFound=!0;const ne=s.value==="en"?qI:jI;t.showOverlay({type:"image",src:ne})}const y=K(()=>t.level===3&&t.currentScenarioImage==="second"),m=K(()=>t.level===3&&t.currentScenarioImage==="final");function g(){y.value&&(t.clickedElement=!0,t.currentScenarioImage="third",setTimeout(()=>{Ie(Lr);const ne=t.playerName||"";t.activeMessage={from:"S15",name:"Inès",image:"ines",avatar:Pc,body:n("phone.messageBodylvl2",{playerName:ne})},t.patience=!0,t.currentScenarioImage="fourth",e.addEntry("step3","step3_2"),t.setCharCallable("Inès",!0,"incoming")},12e3))}function p(){m.value&&(t.showOverlay({type:"image",src:s.value==="en"?UI:BI}),t.secondHintFound=!0)}const E=K(()=>t.level===4&&t.currentScenarioImage==="default"),x=K(()=>t.level===4&&t.currentScenarioImage==="seventh");function I(){E.value&&(Ie(_t),e.addEntry("step4","step4_1"),t.currentScenarioImage="second",setTimeout(()=>{t.setCharCallable("Inès",!0,"outgoing"),t.callSequence.Inès=0,t.calledCharacters.Inès=!1},5e3))}function N(){x.value&&(t.setCharCallable("Santiago",!0,"outgoing"),t.calledCharacters.Santiago=!1,t.showOverlay({type:"image",src:s.value==="en"?VI:WI}),t.secondHintFound=!0)}const $=K(()=>t.level===5&&t.currentScenarioImage==="ninth"),R=K(()=>t.level===5&&t.currentScenarioImage==="fifth");function W(){$.value&&(V(),Ie(Js),t.showCongratsModal=!0)}function M(){if(!R.value)return;t.secondHintFound=!0;const ne=s.value==="fr"?YI:GI;t.showOverlay({type:"image",src:ne})}async function V(){if(t.levelStartTime)try{const ne=await r(5,t.levelStartTime);t.setLevelCompletionData(ne)}catch(ne){console.error("Failed to save level completion:",ne)}}const Y=K(()=>t.currentScenarioImage==="third"&&t.level===6);function B(){Y.value&&(t.currentScenarioImage="fourth")}const ee=K(()=>s.value==="fr"?"absolute top-[32%] left-[29%] transform -translate-x-1/2":"absolute top-[68%] left-[26%] transform -translate-x-1/2");return{canShowElement1:i,canShowElement2:o,canShowElement3:a,handleElement1Click:l,handleElement2Click:c,handleElement3Click:u,canShowLvl2:h,handleElementLvl2Click:f,canShowLvl3Click1:y,canShowLvl3Click3:m,handleElementLvl3Click1:g,handleElementLvl3Click3:p,canShowLvl4Click1:E,canShowLvl4Click2:x,handleElementLvl4Click1:I,handleElementLvl4Click2:N,canShowLvl5Click1:$,canShowLvl5Click2:R,handleElementLvl5Click1:W,handleElementLvl5Click2:M,canClickForDetails:Y,handleImageClick:B,element2PositionClass:ee}}const QI=["title"],JI=["title"],XI=["title"],ZI=["title"],ex=["title"],tx=["title"],nx=["title"],sx=["title"],rx=["title"],ix=["title"],rr={__name:"LevelClickableAreasComponent",setup(t){const e=Me(),{canShowElement1:n,canShowElement2:s,canShowElement3:r,handleElement1Click:i,handleElement2Click:o,handleElement3Click:a,canShowLvl2:l,handleElementLvl2Click:c,canShowLvl3Click1:u,canShowLvl3Click3:d,handleElementLvl3Click1:h,handleElementLvl3Click3:f,canShowLvl4Click1:y,canShowLvl4Click2:m,handleElementLvl4Click1:g,handleElementLvl4Click2:p,canShowLvl5Click1:E,canShowLvl5Click2:x,handleElementLvl5Click1:I,handleElementLvl5Click2:N,canClickForDetails:$,handleImageClick:R,element2PositionClass:W}=KI();return(M,V)=>(O(),U(be,null,[C(e).level===1?(O(),U(be,{key:0},[C(n)?(O(),U("div",{key:0,class:"absolute top-[15%] right-[41%] transform -translate-x-1/2 w-[4%] h-[6%] cursor-pointer transition-colors duration-200 z-40",onClick:V[0]||(V[0]=(...Y)=>C(i)&&C(i)(...Y)),title:M.$t("click.one")},null,8,QI)):se("",!0),C(s)?(O(),U("div",{key:1,class:qe([C(W),"w-[15%] h-[3%] cursor-pointer transition-colors duration-200 z-40"]),onClick:V[1]||(V[1]=(...Y)=>C(o)&&C(o)(...Y)),title:M.$t("click.two")},null,10,JI)):se("",!0),C(r)?(O(),U("div",{key:2,class:"absolute bottom-[2%] right-[33%] transform -translate-x-1/2 w-[15%] h-[4%] cursor-pointer transition-colors duration-200 z-40",onClick:V[2]||(V[2]=(...Y)=>C(a)&&C(a)(...Y)),title:M.$t("click.three")},null,8,XI)):se("",!0)],64)):se("",!0),C(e).level===2?(O(),U(be,{key:1},[C(l)?(O(),U("div",{key:0,class:"absolute bottom-[8%] left-[8%] w-[3%] h-[5%] cursor-pointer transition-colors duration-200 z-40",onClick:V[3]||(V[3]=(...Y)=>C(c)&&C(c)(...Y)),title:M.$t("click.four")},null,8,ZI)):se("",!0)],64)):se("",!0),C(e).level===3?(O(),U(be,{key:2},[C(u)?(O(),U("div",{key:0,class:"absolute bottom-[52.3%] left-[7.5%] w-[1.5%] h-[3%] cursor-pointer transition-colors duration-200 z-40 rounded-lg",onClick:V[4]||(V[4]=(...Y)=>C(h)&&C(h)(...Y)),title:M.$t("click.six")},null,8,ex)):se("",!0),C(d)?(O(),U("div",{key:1,class:"absolute top-[18%] right-[38%] w-[3%] h-[6%] cursor-pointer transition-colors duration-200 z-40",onClick:V[5]||(V[5]=(...Y)=>C(f)&&C(f)(...Y)),title:M.$t("click.five")},null,8,tx)):se("",!0)],64)):se("",!0),C(e).level===4?(O(),U(be,{key:3},[C(y)?(O(),U("div",{key:0,class:"absolute top-[53.5%] right-[45%] w-[3%] h-[5%] cursor-pointer transition-colors duration-200 z-40",onClick:V[6]||(V[6]=(...Y)=>C(g)&&C(g)(...Y)),title:M.$t("click.one")},null,8,nx)):se("",!0),C(m)?(O(),U("div",{key:1,class:"absolute top-[24%] right-[39.5%] w-[14%] h-[12%] cursor-pointer transition-colors duration-200 z-40",onClick:V[7]||(V[7]=(...Y)=>C(p)&&C(p)(...Y)),title:M.$t("click.seven")},null,8,sx)):se("",!0)],64)):se("",!0),C(e).level===5?(O(),U(be,{key:4},[C(E)?(O(),U("div",{key:0,class:"absolute bottom-[11%] right-[0%] w-[14%] h-[19%] cursor-pointer transition-colors duration-200 z-40",onClick:V[8]||(V[8]=(...Y)=>C(I)&&C(I)(...Y)),title:M.$t("click.nine")},null,8,rx)):se("",!0),C(x)?(O(),U("div",{key:1,class:"absolute top-[6%] right-[28.5%] w-[12%] h-[9%] cursor-pointer transition-colors duration-200 z-40",onClick:V[9]||(V[9]=(...Y)=>C(N)&&C(N)(...Y)),title:M.$t("click.seven")},null,8,ix)):se("",!0)],64)):se("",!0),C(e).level===6?(O(),U(be,{key:5},[C($)?(O(),U("div",{key:0,class:"absolute top-[25%] right-[43%] w-[9%] h-[2%] cursor-pointer px-4 py-2 cursor-pointer transition-colors duration-200 z-40",onClick:V[10]||(V[10]=(...Y)=>C(R)&&C(R)(...Y)),title:"Click to see more details"})):se("",!0)],64)):se("",!0)],64))}},ox={class:"bg-gray-800 text-white px-6 py-1 rounded-lg text-center shadow-sm font-mono text-lg sm:text-xl lg:text-2xl border-2 border-black"},ax={key:0,class:"text-red-400 text-sm"},ys={__name:"TimerComponent",setup(t,{expose:e}){const n=oe("00:00"),s=oe(0);let r=0,i=null;It(()=>{i=setInterval(()=>{r++;const d=String(Math.floor(r/60)).padStart(2,"0"),h=String(r%60).padStart(2,"0");n.value=`${d}:${h}`},1e3)});const o=d=>{r+=d,s.value+=d,setTimeout(()=>{s.value=0},3e3)},a=()=>r,l=()=>Date.now()-r*1e3,c=()=>{r=0,s.value=0,n.value="00:00"},u=()=>{i&&(clearInterval(i),i=null)};return Wt("timer",{addPenalty:o,getCurrentTimeInSeconds:a,getStartTime:l,resetTimer:c,stopTimer:u}),e({addPenalty:o,getCurrentTimeInSeconds:a,getStartTime:l,resetTimer:c,stopTimer:u}),(d,h)=>(O(),U("div",ox,[Ro(" Time: "+j(n.value)+" ",1),s.value>0?(O(),U("div",ax," +"+j(s.value)+"s penalty ",1)):se("",!0)]))}},lx={},cx={class:"bg-gray-900 text-white p-4 rounded-2xl shadow-lg w-full max-w-xs mx-auto flex flex-col gap-4 font-mono border-4 border-black h-[450px]"};function ux(t,e){return O(),U("div",cx,[La(t.$slots,"default")])}const ir=Po(lx,[["render",ux]]),dx={class:"flex flex-col h-full bg-black text-white rounded-xl overflow-hidden"},hx={class:"flex items-center gap-3 p-4 bg-gray-900 border-b border-gray-700"},fx=["src","alt"],mx={class:"flex-1"},px={class:"text-sm font-semibold text-white"},gx={class:"flex-1 overflow-y-auto p-4 bg-black"},_x={class:"flex items-start gap-2 mb-3"},vx={class:"flex-1"},yx={class:"bg-gray-800 rounded-2xl rounded-tl-md p-3 shadow-lg"},bx={class:"whitespace-pre-line text-sm leading-relaxed text-white"},Cx={class:"p-4 bg-gray-900 border-t border-gray-700"},or={__name:"PhoneMessageComponent",props:{from:String,name:String,body:String,avatar:String},emits:["close"],setup(t){return(e,n)=>(O(),U("div",dx,[_("div",hx,[_("img",{src:t.avatar,alt:t.name,class:"w-10 h-10 rounded-full object-cover"},null,8,fx),_("div",mx,[_("div",px,j(t.name),1),n[1]||(n[1]=_("div",{class:"text-xs text-gray-400"},"Message",-1))])]),_("div",gx,[_("div",_x,[_("div",vx,[_("div",yx,[_("p",bx,j(t.body),1)]),n[2]||(n[2]=_("div",{class:"text-xs text-gray-500 mt-1 ml-3"}," Just now ",-1))])])]),_("div",Cx,[_("button",{class:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors",onClick:n[0]||(n[0]=s=>e.$emit("close"))},j(e.$t?e.$t("phone.close"):"Close"),1)])]))}};function Vp(t){const e=Me(),n=ln(),s=lt(),{completeLevel:r}=sr();function i(l){const c="9",u="15",d="31",h="1",f="36",y="7",m="11";if(e.enteredCodes.includes(l)){t("error","");return}if(l===c&&!e.enteredCodes.includes(y)){e.enteredCodes.push("9"),t("success",""),Ie(_t),e.currentScenarioImage="second",s.addEntry("step2","step2_2");return}if(l===u&&e.currentScenarioImage==="second"){e.enteredCodes.push("15"),t("success",""),e.currentScenarioImage="third";return}if(l===d&&e.currentScenarioImage==="third"){e.enteredCodes.push("31"),t("success",""),Ie(_t),s.addEntry("step2","step2_3"),e.currentScenarioImage="fourth";return}if(l===h&&e.currentScenarioImage==="fourth"){e.enteredCodes.push("1"),t("success",""),e.currentScenarioImage="fifth";return}if(l===f&&e.currentScenarioImage==="fifth"){e.enteredCodes.push("36"),t("success",""),Ie(_t),s.addEntry("step2","step2_1"),e.currentScenarioImage="final";return}if(l===y&&e.currentScenarioImage==="final"){t("success",""),e.currentScenarioImage="main";return}if(l===m&&e.currentScenarioImage==="main"){o(),t("success",""),e.enteredCodes.push(m),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function o(){if(e.levelStartTime)try{const l=await r(2,e.levelStartTime);e.setLevelCompletionData(l)}catch(l){console.error("Failed to save level completion:",l)}}function a(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=3,n.push("/level/3")}return{handleCodeInput:i,continueToLevel3:a}}const wx="/missionrdm/assets/hint4-BvcazQSK.png",Ex="/missionrdm/assets/hint4-CZ8NdnF0.png",Sx="/missionrdm/assets/hint5-DUNYDqoO.png",Ix="/missionrdm/assets/hint5-J-C-ikhr.png",xx="/missionrdm/assets/hint6-ph3jfkUo.png",Tx="/missionrdm/assets/hint6-VnMPGhl7.png",kx="/missionrdm/assets/hint7-DSleh6qa.png",Ax="/missionrdm/assets/hint7-O7VAVd1W.png";function Wp(t){const e=Me(),{t:n,locale:s}=_e(),r=ln(),i=lt(),{completeLevel:o}=sr();function a(m){if(!e.isCharCallable(m.name)){e.startCall(m.name,m.avatar,n("phone.callUnavailable"));return}Ie(Qo);const g=e.playerName||"";e.markCharacterAsCalled(m.name),e.level===3&&e.startCall(m.name,m.avatar,n("phone.call2",{playerName:g}))}function l(){return e.hasPendingMandatoryCalls()}function c(){return e.getPendingCallType()}function u(m){return e.getCharacterCallType(m)}function d(m){const g=m.find(p=>e.isCharCallable(p.name)&&!e.hasCalledCharacter(p.name));g&&a(g)}function h(m){const g="17",p="33",E="57",x="58",I="59",N="77",$="22",R="64",W="99";if(![E,x,I].includes(m)&&e.enteredCodes.includes(m)){t("error","");return}if(m===g&&e.enteredCodes.length===0){t("success",""),e.firstHintFound=!0,Ie(_t),i.addEntry("step3","step3_1");const Y=s.value==="fr"?Ex:wx;e.showOverlay({type:"image",src:Y});return}if(m===p&&e.firstHintFound){e.enteredCodes.push(g),e.enteredCodes.push(p),e.firstHintFound=!1,e.currentScenarioImage="second",t("success",""),e.removeOverlay(e.overlayId);return}if(m===E&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes(E)||e.enteredCodes.push(E),e.showOverlay({type:"image",src:s.value==="en"?Sx:Ix}),t("success","");return}if(m===x&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes(x)||e.enteredCodes.push(x),e.showOverlay({type:"image",src:s.value==="en"?xx:Tx}),t("success","");return}if(m===I&&e.currentScenarioImage==="fourth"){e.enteredCodes.includes(I)||e.enteredCodes.push(I),e.showOverlay({type:"image",src:s.value==="en"?kx:Ax}),t("success","");return}if((m===N||m==="76"||m==="78")&&(!e.enteredCodes.includes(E)||!e.enteredCodes.includes(x)||!e.enteredCodes.includes(I))){t("error","");return}if(m===N&&e.currentScenarioImage==="fourth"){e.removeOverlay(e.overlayId),e.removeOverlay(e.overlayId2),e.removeOverlay(e.overlayId3),e.setCharCallable("Inès",!1,"incoming"),e.enteredCodes.push(N),e.currentScenarioImage="fifth",t("success","");return}if((m==="76"||m==="78")&&e.currentScenarioImage==="fourth"&&e.showErrorOverlay(n("riddle3.title"),n(`riddle3.incorrect${m}`)),m===$&&e.currentScenarioImage==="fifth"){e.enteredCodes.push($),e.currentScenarioImage="sixth",Ie(_t),i.addEntry("step3","step3_3"),t("success","");return}if(m===R&&e.currentScenarioImage==="sixth"){e.enteredCodes.push(R),e.currentScenarioImage="final",t("success","");return}if(m===W&&e.currentScenarioImage==="final"&&e.secondHintFound){f(),e.secondHintFound=!1,t("success",""),e.enteredCodes.push(W),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function f(){if(e.levelStartTime)try{const m=await o(3,e.levelStartTime);e.setLevelCompletionData(m)}catch(m){console.error("Failed to save level completion:",m)}}function y(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=4,r.push("/level/4")}return{handleCodeInput:h,continueToLevel4:y,handleCharacterCall:a,hasPendingCall:l,getPendingCallType:c,getCharacterCallType:u,answerPendingCall:d}}const Rx="/missionrdm/assets/hint9-CiYUwKyn.png",Nx="/missionrdm/assets/hint9-DnUcTZIP.png",Px="/missionrdm/assets/hint10-Byhdu0IS.png",Lx="/missionrdm/assets/hint10-J_CwTH6v.png",Ox="/missionrdm/assets/hint11-DCJ9CoB_.png",Mx="/missionrdm/assets/hint11-TCFd5Hho.png",Dx="/missionrdm/assets/hint12-CY0uf0OL.png",$x="/missionrdm/assets/hint12-DGXE0C6x.png",ch="/missionrdm/assets/char4-BWEgOnii.png";function Gp(t){const e=Me(),{t:n,locale:s}=_e(),r=ln(),i=lt(),{completeLevel:o}=sr();function a(m){if(!e.isCharCallable(m.name)){e.startCall(m.name,m.avatar,n("phone.callUnavailable"));return}Ie(Qo);const g=e.playerName||"";e.markCharacterAsCalled(m.name),m.name==="Inès"&&e.callSequence.Inès===1?e.startCall(m.name,m.avatar,n("phone.call3",{playerName:g})):m.name==="Santiago"&&e.callSequence.Santiago===1?(e.startCall(m.name,m.avatar,n("phone.call4",{playerName:g}),n("roadmap.step4_2")),setTimeout(()=>{i.addEntry("step4","step4_2"),Ie(_t)},3e3)):m.name==="Santiago"&&e.callSequence.Santiago===2?(e.startCall(m.name,m.avatar,n("phone.call5",{playerName:g}),n("roadmap.step4_3")),setTimeout(()=>{i.addEntry("step4","step4_3"),Ie(_t)},3e3),e.setCharCallable("Santiago",!1,"incoming"),e.currentScenarioImage="seventh"):m.name==="Santiago"&&e.callSequence.Santiago>=3&&e.startCall(m.name,m.avatar,n("phone.call6",{playerName:g}))}function l(){return e.hasPendingMandatoryCalls()}function c(){return e.getPendingCallType()}function u(m){return e.getCharacterCallType(m)}function d(m){const g=m.find(p=>e.isCharCallable(p.name)&&!e.hasCalledCharacter(p.name));g&&a(g)}function h(m){const g="4",p="51",E="23",x="81",I="1",N="61",$="17",R="32",W="47";if(![g,p].includes(m)&&e.enteredCodes.includes(m)){t("error","");return}if((m===g||m===p)&&e.currentScenarioImage==="third"&&e.callSequence.Inès>=1){m===g?(t("success",""),e.showOverlay({type:"image",src:s.value==="en"?Rx:Nx}),e.enteredCodes.includes(m)||e.enteredCodes.push(m)):m===p&&(t("success",""),e.enteredCodes.includes(g)?(e.showOverlay({type:"image",src:s.value==="en"?Ox:Mx}),e.enteredCodes.includes(m)||e.enteredCodes.push(m)):e.showOverlay({type:"image",src:s.value==="en"?Px:Lx}));return}if(m===E&&e.currentScenarioImage==="third"&&e.enteredCodes.includes(g)&&e.enteredCodes.includes(p)&&e.callSequence.Inès>=1){e.removeOverlay(e.overlayId),t("success",""),e.currentScenarioImage="fourth",e.enteredCodes.push(m),Ie(Lr);const Y=e.playerName||"";e.activeMessage={name:"Inés",image:"ines",avatar:Pc,body:n("phone.messageBodylvl3",{playerName:Y})};return}if(m===x&&e.currentScenarioImage==="fourth"){t("success",""),e.currentScenarioImage="fifth",e.enteredCodes.push(m),setTimeout(()=>{e.setCharCallable("Santiago",!0,"outgoing"),e.callSequence.Santiago=0,e.calledCharacters.Santiago=!1},5e3);return}if(m===I&&e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1){t("success",""),e.removeOverlay(e.overlayId),e.showOverlay({type:"image",src:s.value==="en"?Dx:$x}),e.firstHintFound=!0;return}if(m===N&&e.currentScenarioImage==="sixth"&&e.firstHintFound&&e.callSequence.Santiago>=1){t("success",""),e.removeOverlay(e.overlayId),e.setCharCallable("Santiago",!0,"incoming"),e.calledCharacters.Santiago=!1,e.enteredCodes.push(m);return}if((m===$||m===R)&&e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=2){if(s.value==="en"&&m===$||s.value==="fr"&&m===R){t("success",""),e.removeOverlay(e.overlayId),Ie(Lr);const Y=e.playerName||"";e.activeMessage={name:"Anne",image:"anne",avatar:ch,body:n("phone.messageBodylvl4",{playerName:Y})},e.setCharCallable("Santiago",!1,"outgoing"),e.currentScenarioImage="eighth",e.enteredCodes.push(m);return}t("error","");return}if(m==="99"&&e.currentScenarioImage==="eighth"&&e.firstHintFound&&e.callSequence.Santiago>=2){t("success",""),Ie(Lr);const Y=e.playerName||"";e.activeMessage={name:"Anne",image:"anne",avatar:ch,body:n("phone.messageBodylvl4",{playerName:Y})};return}if(m===W&&e.currentScenarioImage==="eighth"){f(),t("success",""),e.enteredCodes.push(W),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function f(){if(e.levelStartTime)try{const m=await o(4,e.levelStartTime);e.setLevelCompletionData(m)}catch(m){console.error("Failed to save level completion:",m)}}function y(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=5,r.push("/level/5")}return{handleCodeInput:h,continueToLevel5:y,handleCharacterCall:a,hasPendingCall:l,getPendingCallType:c,getCharacterCallType:u,answerPendingCall:d}}const Fx="/missionrdm/assets/hint14-DvrC8c0a.png",zx="/missionrdm/assets/hint14-CbSkXMPo.png",Hx="/missionrdm/assets/hint16-Di_IehTr.png",qx="/missionrdm/assets/hint16-B-QXtAgr.png";function Yp(t){const e=Me(),{t:n,locale:s}=_e(),r=ln(),i=lt();function o(f){if(!e.isCharCallable(f.name)){e.startCall(f.name,f.avatar,n("phone.callUnavailable"));return}Ie(Qo);const y=e.playerName||"";e.markCharacterAsCalled(f.name),f.name==="Santiago"?(e.startCall(f.name,f.avatar,n("phone.call7",{playerName:y})),e.currentScenarioImage="fourth"):f.name==="Jack"?(e.startCall(f.name,f.avatar,n("phone.call8",{playerName:y})),e.currentScenarioImage="seventh"):f.name==="Inès"&&(e.startCall(f.name,f.avatar,n("phone.call9",{playerName:y})),e.activeRiddle=!0)}function a(){return e.hasPendingMandatoryCalls()}function l(){return e.getPendingCallType()}function c(f){return e.getCharacterCallType(f)}function u(f){const y=f.find(m=>e.isCharCallable(m.name)&&!e.hasCalledCharacter(m.name));y&&o(y)}function d(f){const y="19",m="3",g="71",p="96",E="8",x="6",I="84";if(![E,m].includes(f)&&e.enteredCodes.includes(f)){t("error","");return}if(f===m&&e.enteredCodes.length===0){t("success",""),e.firstHintFound=!0;const R=s.value==="fr"?zx:Fx;e.showOverlay({type:"image",src:R}),e.currentScenarioImage="second";return}if(f===y&&e.firstHintFound&&!e.enteredCodes.includes(y)){e.removeOverlay(e.overlayId),t("success",""),Ie(_t),i.addEntry("step5","step5_1"),e.currentScenarioImage="third",e.enteredCodes.push(y),setTimeout(()=>{e.setCharCallable("Santiago",!0,"outgoing")},3e3);return}if(f===g&&e.currentScenarioImage==="fourth"){e.setCharCallable("Santiago",!1,"outgoing"),t("success",""),Ie(_t),i.addEntry("step5","step5_2"),e.currentScenarioImage="fifth",e.enteredCodes.push(g);return}if(e.currentScenarioImage==="fourth"&&(f==="72"||f==="73")){const R=n("riddle4.title"),W=n("riddle4.incorrect");try{e.showErrorOverlay(R,W)}catch(M){console.error("Error showing overlay:",M)}return}if(f===p&&e.currentScenarioImage==="fifth"&&e.secondHintFound){e.removeOverlay(e.overlayId),t("success",""),Ie(_t),i.addEntry("step5","step5_4"),e.currentScenarioImage="sixth",setTimeout(()=>{e.setCharCallable("Jack",!0,"outgoing")},5e3),e.enteredCodes.push(p);return}if(e.currentScenarioImage==="fifth"&&e.secondHintFound&&(f==="93"||f==="94"||f==="95")){e.showErrorOverlay(n("riddle5.title"),n(`riddle5.incorrect${f}`));return}if(f===E&&e.currentScenarioImage==="seventh"){t("success",""),e.thirdHintFound=!0;const R=s.value==="fr"?qx:Hx;e.showOverlay({type:"image",src:R});return}if(f===x&&e.currentScenarioImage==="seventh"&&e.thirdHintFound){e.setCharCallable("Jack",!1,"outgoing"),e.removeOverlay(e.overlayId),t("success",""),Ie(_t),i.addEntry("step5","step5_3"),e.currentScenarioImage="eighth",setTimeout(()=>{e.setCharCallable("Inès",!0,"incoming")},3e3),e.enteredCodes.push(x);return}if(e.currentScenarioImage==="seventh"&&e.thirdHintFound&&(f==="12"||f==="35"||f==="13")){e.showErrorOverlay(n("riddle6.title"),n("riddle6.incorrect"));return}if(f===I&&e.currentScenarioImage==="eighth"&&e.activeRiddle){e.setCharCallable("Inès",!1,"incoming"),t("success",""),e.currentScenarioImage="ninth",e.enteredCodes.push(I);return}if(e.currentScenarioImage==="eighth"&&(f==="65"||f==="18")&&e.activeRiddle){e.showErrorOverlay(n("riddle6.title"),n("riddle6.incorrect"));return}t("error","")}function h(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=6,r.push("/level/6")}return{handleCodeInput:d,continueToLevel6:h,handleCharacterCall:o,hasPendingCall:a,getPendingCallType:l,getCharacterCallType:c,answerPendingCall:u}}const uh="/missionrdm/assets/hint17-COXsc1CQ.png",dh="/missionrdm/assets/hint17-5QkjhgIG.png";function Kp(t){const e=Me(),{locale:n}=_e(),s=ln(),r=lt(),{completeLevel:i}=sr();function o(c){const u="2",d="1",h="1323";if(c===u&&e.enteredCodes.length===0){e.enteredCodes.push(c),e.currentScenarioImage="second",t("success",""),Ie(_t),r.addEntry("step6","step6_1");return}if(c===d&&e.currentScenarioImage==="second"&&e.enteredCodes.includes(u)){t("success",""),e.enteredCodes.push(c),e.firstHintFound=!0;const f=n.value==="fr"?dh:uh;e.showOverlay({type:"image",src:f}),e.currentScenarioImage="third";return}if(c===d&&e.currentScenarioImage==="third"){t("success","");const f=n.value==="fr"?dh:uh;e.showOverlay({type:"image",src:f});return}if(c===h&&e.currentScenarioImage==="fourth"&&e.enteredCodes.includes(u)&&e.firstHintFound){a(),t("success",""),Ie(Js),e.showCongratsModal=!0;return}t("error","")}async function a(){if(e.levelStartTime)try{const c=await i(6,e.levelStartTime);e.setLevelCompletionData(c)}catch(c){console.error("Failed to save level completion:",c)}}function l(){e.showCongratsModal=!1,e.resetAfterLevel(),e.level=0,s.push("/level/end")}return{handleCodeInput:o,continueToEnd:l}}function jx(t){const e=Vf(),n={handleCharacterCall:()=>{},hasPendingCall:()=>!1,getPendingCallType:()=>"outgoing",getCharacterCallType:()=>"outgoing",answerPendingCall:()=>{}};let s={};return e.path.includes("/level/1")?s=Bp(t):e.path.includes("/level/2")?s=Vp(t):e.path.includes("/level/3")?s=Wp(t):e.path.includes("/level/4")?s=Gp(t):e.path.includes("/level/5")?s=Yp(t):e.path.includes("/level/6")&&(s=Kp(t)),{...n,...s}}function Ux(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="congrats"?"eigth":e.currentScenarioImage==="final"?"seventh":e.currentScenarioImage==="third"?"sixth":e.currentScenarioImage==="updated"?"fifth":e.secondHintFound&&!e.riddleSolved?"fourth":l.includes("8")&&l.includes("4")&&!e.secondHintFound?"third":e.firstHintFound&&!l.includes("4")||e.riddleSolved&&e.firstHintFound?"second":(l.length===0||e.riddleSolved&&!e.firstHintFound,"first")},s=K(()=>{const l=n();return t(`level1.hints.${l}`)}),r=K(()=>{const l=n();return t(`level1.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Bx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="main"&&e.firstHintFound?"eighth":e.currentScenarioImage==="main"?"seventh":l.includes("36")?"sixth":l.includes("1")?"fifth":l.includes("31")?"fourth":l.includes("15")?"third":l.includes("9")?"second":(l.length===0,"first")},s=K(()=>{const l=n();return t(`level2.hints.${l}`)}),r=K(()=>{const l=n();return t(`level2.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Vx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.secondHintFound?"tenth":l.includes("64")&&!e.secondHintFound?"ninth":l.includes("22")&&!e.secondHintFound?"eighth":l.includes("77")&&!e.secondHintFound?"seventh":l.includes("59")&&l.includes("58")&&l.includes("57")?"sixth":e.clickedElement&&e.patience?"fifth":e.clickedElement&&!e.patience?"fourth":l.includes("33")?"third":l.length===0&&e.firstHintFound?"second":(l.length===0,"first")},s=K(()=>{const l=n();return t(`level3.hints.${l}`)}),r=K(()=>{const l=n();return t(`level3.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Wx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="eighth"&&l.includes("17")||l.includes("32")?"thirteenth":e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=3?"twelfth":e.currentScenarioImage==="seventh"&&e.secondHintFound&&e.callSequence.Santiago>=2&&!l.includes("3")?"eleventh":e.currentScenarioImage==="seventh"&&!e.secondHintFound&&e.callSequence.Santiago>=2?"tenth":e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1&&e.firstHintFound?"ninth":e.currentScenarioImage==="sixth"&&e.callSequence.Santiago>=1&&!e.firstHintFound?"eighth":e.currentScenarioImage==="fifth"&&l.includes("81")?"seventh":e.currentScenarioImage==="fourth"&&l.includes("23")?"sixth":e.currentScenarioImage==="third"&&l.includes("4")&&l.includes("51")&&e.callSequence.Inès>=1?"fifth":e.currentScenarioImage==="third"&&l.includes("4")&&e.callSequence.Inès>=1&&!l.includes("51")?"fourth":e.currentScenarioImage==="third"&&e.callSequence.Inès>=1&&!l.includes("4")?"third":e.currentScenarioImage==="second"&&l.includes("44")?"second":(l.length===0||!l.includes("44"),"first")},s=K(()=>{const l=n();return t(`level4.hints.${l}`)}),r=K(()=>{const l=n();return t(`level4.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Gx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="ninth"&&l.includes("84")?"twelfth":e.currentScenarioImage==="eighth"&&e.activeRiddle&&l.includes("6")?"eleventh":e.currentScenarioImage==="eighth"&&!e.activeRiddle?"tenth":e.currentScenarioImage==="seventh"&&e.thirdHintFound?"ninth":e.currentScenarioImage==="seventh"&&!e.thirdHintFound?"eighth":e.currentScenarioImage==="sixth"&&l.includes("96")?"seventh":e.currentScenarioImage==="fifth"&&e.secondHintFound&&l.includes("71")?"sixth":e.currentScenarioImage==="fifth"&&l.includes("71")&&!e.secondHintFound?"fifth":e.currentScenarioImage==="fourth"?"fourth":e.currentScenarioImage==="third"?"third":e.currentScenarioImage=="second"?"second":(e.currentScenarioImage=="default","first")},s=K(()=>{const l=n();return t(`level5.hints.${l}`)}),r=K(()=>{const l=n();return t(`level5.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Yx(){const{t}=_e(),e=Me(),n=()=>{const l=e.enteredCodes;return e.currentScenarioImage==="fourth"?"fourth":e.currentScenarioImage==="third"?"third":l.includes("2")&&e.currentScenarioImage==="second"&&!e.firstHintFound?"second":(e.enteredCodes.length===0,"first")},s=K(()=>{const l=n();return t(`level6.hints.${l}`)}),r=K(()=>{const l=n();return t(`level6.solutions.${l}`)});return{currentHint:s,currentSolution:r,showClues:()=>{e.showHints("clues")},showSolutions:()=>{e.showHints("solutions")},closeHints:()=>{e.closeHints()},showHintModal:K(()=>e.showHintModal),hintModalType:K(()=>e.hintModalType),getCurrentStep:n}}function Kx(){Me();const t=Vf();if(t.path.includes("/level/1"))return Ux();if(t.path.includes("/level/2"))return Bx();if(t.path.includes("/level/3"))return Vx();if(t.path.includes("/level/4"))return Wx();if(t.path.includes("/level/5"))return Gx();if(t.path.includes("/level/6"))return Yx()}const Qx="/missionrdm/assets/char3-DtMvC0no.png",Jx={class:"flex flex-col gap-4 relative"},Xx={class:"grid grid-cols-2 gap-2 text-center relative"},Zx={key:0,class:"absolute inset-0 flex items-center justify-center z-10"},eT={class:"flex items-center gap-2 h-full"},tT={class:"flex-1"},nT={class:"text-white font-semibold text-xs"},sT={class:"text-blue-200 text-[10px]"},rT={class:"flex justify-between items-center mb-4"},iT={class:"text-lg font-semibold text-yellow-400 flex items-center gap-2"},oT={class:"bg-gray-700 p-4 rounded mb-4 border-l-4 border-yellow-500"},aT={class:"text-white text-sm leading-relaxed"},lT={class:"mt-2 text-yellow-300 text-xs font-semibold"},cT={class:"flex gap-3"},uT={class:"flex justify-between items-center mb-4"},dT={class:"text-lg font-semibold text-white"},hT={class:"bg-gray-700 p-4 rounded"},fT={class:"text-white text-sm whitespace-pre-line"},mT={class:"flex justify-around gap-2"},pT=["onClick"],gT=["src"],_T={class:"text-white text-xs font-bold"},vT={key:1,class:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center"},yT={class:"flex items-center gap-2"},bT={class:"flex-1"},CT=["placeholder"],wT=["disabled"],ET={class:"grid grid-cols-3 gap-2"},ST=["disabled","onClick"],IT=["disabled"],ar={__name:"PhoneKeypadComponent",setup(t){const e=Me(),{t:n}=_e(),s=Et("timer",null),{currentHint:r,currentSolution:i,showClues:o,showSolutions:a,closeHints:l,showHintModal:c,hintModalType:u}=Kx(),d=oe(!1),h=oe(""),f=oe(null),y=oe(""),m=[1,2,3,4,5,6,7,8,9],g=jx(Y),p=[{name:"Santiago",avatar:Up,key:"Santiago"},{name:"Inès",avatar:Pc,key:"Inès"},{name:"Jack",avatar:Qx,key:"Jack"}],E=()=>{g.hasPendingCall()||(d.value=!0,h.value="hint",f.value=o)},x=()=>{g.hasPendingCall()||(d.value=!0,h.value="solution",f.value=a)},I=()=>{const B=h.value==="hint"?30:60,ee=(s==null?void 0:s.value)||s;ee&&ee.addPenalty&&ee.addPenalty(B),f.value&&f.value(),N()},N=()=>{d.value=!1,h.value="",f.value=null};function $(B){y.value.length>=6||g.hasPendingCall()||(y.value+=B)}function R(){g.hasPendingCall()||(y.value=y.value.slice(0,-1))}function W(){g.handleCodeInput(y.value.trim()),y.value=""}const M=oe(""),V=oe("");function Y(B,ee){V.value=B,M.value=ee,setTimeout(()=>{M.value="",V.value=""},2e3)}return(B,ee)=>(O(),U("div",Jx,[_("div",Xx,[_("button",{onClick:E,class:qe(["bg-red-600 hover:bg-red-700 py-2 rounded shadow text-sm font-semibold transition-all duration-300",{"opacity-30 blur-sm":C(g).hasPendingCall()}])},j(C(n)("phone.help")),3),_("button",{onClick:x,class:qe(["bg-yellow-600 hover:bg-yellow-700 py-2 rounded shadow text-sm font-semibold transition-all duration-300",{"opacity-30 blur-sm":C(g).hasPendingCall()}])},j(C(n)("phone.solution")),3),C(g).hasPendingCall()?(O(),U("div",Zx,[_("button",{onClick:ee[0]||(ee[0]=ne=>C(g).answerPendingCall(p)),class:"w-full h-full bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg border-2 border-blue-400 shadow-lg hover:from-blue-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 animate-pulse"},[_("div",eT,[ee[7]||(ee[7]=_("div",{class:"w-2 h-2 bg-blue-300 rounded-full animate-ping"},null,-1)),_("div",tT,[_("p",nT," 📞 "+j(C(g).getPendingCallType()==="incoming"?C(n)("phone.incomingCall"):C(n)("phone.outgoingCallRequired")),1),_("p",sT,j(C(g).getPendingCallType()==="incoming"?C(n)("phone.answerCall"):C(n)("phone.makeCall")),1)])])])])):se("",!0)]),d.value?(O(),U("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:N},[_("div",{class:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4 z-[10000] border-2 border-yellow-500 shadow-2xl",onClick:ee[1]||(ee[1]=jr(()=>{},["stop"]))},[_("div",rT,[_("h3",iT," ⚠️ "+j(C(n)("timer.penaltyWarning")),1),_("button",{onClick:N,class:"text-gray-400 hover:text-white text-xl leading-none"}," ✕ ")]),_("div",oT,[_("p",aT,j(h.value==="hint"?C(n)("timer.hintPenaltyWarning"):C(n)("timer.solutionPenaltyWarning")),1),_("div",lT," ⏱️ "+j(h.value==="hint"?"+30 secondes":"+60 secondes"),1)]),_("div",cT,[_("button",{onClick:I,class:"flex-1 bg-red-600 hover:bg-red-700 py-3 rounded text-white font-semibold transition-colors"},j(C(n)("timer.acceptPenalty")),1),_("button",{onClick:N,class:"flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded text-white font-semibold transition-colors"},j(C(n)("timer.cancel")),1)])])])):se("",!0),C(c)?(O(),U("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",onClick:ee[5]||(ee[5]=(...ne)=>C(l)&&C(l)(...ne))},[_("div",{class:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4 max-h-96 overflow-y-auto z-[10000]",onClick:ee[4]||(ee[4]=jr(()=>{},["stop"]))},[_("div",uT,[_("h3",dT,j(C(u)==="clues"?C(n)("phone.help"):C(n)("phone.solution"))+" - Level "+j(C(e).getLvl()),1),_("button",{onClick:ee[2]||(ee[2]=(...ne)=>C(l)&&C(l)(...ne)),class:"text-gray-400 hover:text-white text-xl leading-none z-[10001]"}," ✕ ")]),_("div",hT,[_("p",fT,j(C(u)==="clues"?C(r):C(i)),1)]),_("button",{onClick:ee[3]||(ee[3]=(...ne)=>C(l)&&C(l)(...ne)),class:"w-full mt-4 bg-amber-600 hover:bg-amber-700 py-2 rounded text-white font-semibold"},j(C(n)("phone.close")),1)])])):se("",!0),_("div",mT,[(O(),U(be,null,zt(p,(ne,Ue)=>_("button",{key:Ue,class:qe(["w-12 h-12 rounded-full overflow-hidden relative group transition-all duration-200",[C(e).isCharCallable(ne.name)&&!C(e).hasCalledCharacter(ne.name)?C(g).getCharacterCallType(ne.name)==="incoming"?"ring-4 ring-blue-400 shadow-lg shadow-blue-400/60 hover:shadow-blue-300/80 animate-pulse transition-all":"ring-4 ring-green-400 shadow-lg shadow-green-400/60 hover:shadow-green-300/80 animate-pulse transition-all":C(e).isCharCallable(ne.name)&&C(e).hasCalledCharacter(ne.name)?"ring-2 ring-green-400 shadow-lg shadow-green-400/50 hover:shadow-green-300/60 transition-all":"ring-2 ring-gray-500 opacity-60 grayscale hover:opacity-70"]]),onClick:Ce=>C(g).handleCharacterCall(ne)},[_("img",{src:ne.avatar,alt:"Character",class:"w-full h-full object-cover"},null,8,gT),C(e).isCharCallable(ne.name)&&!C(e).hasCalledCharacter(ne.name)?(O(),U("div",{key:0,class:qe(["absolute -top-1 -right-1 w-4 h-4 rounded-full flex items-center justify-center animate-bounce",[C(g).getCharacterCallType(ne.name)==="incoming"?"bg-blue-500":"bg-green-500"]])},[_("span",_T,j(C(g).getCharacterCallType(ne.name)==="incoming"?"📞":"📤"),1)],2)):se("",!0),C(e).isCharCallable(ne.name)&&C(e).hasCalledCharacter(ne.name)?(O(),U("div",vT,ee[8]||(ee[8]=[_("span",{class:"text-white text-xs"},"✓",-1)]))):se("",!0),_("div",{class:qe(["absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",[C(e).isCharCallable(ne.name)?"bg-green-500/20":"bg-red-500/20"]])},null,2)],10,pT)),64))]),_("div",yT,[_("div",bT,[us(_("input",{"onUpdate:modelValue":ee[6]||(ee[6]=ne=>y.value=ne),type:"text",class:qe(["w-full px-2 py-1 bg-gray-800 border rounded text-center text-lg tracking-widest transition-all duration-200",[V.value==="success"?"border-green-500":V.value==="error"?"border-red-500":C(g).hasPendingCall()?"border-blue-400 bg-gray-700":"border-gray-600"]]),placeholder:C(g).hasPendingCall()?C(g).getPendingCallType()==="incoming"?C(n)("phone.placeholderIncoming"):C(n)("phone.placeholderOutgoing"):C(n)("phone.placeholder"),readonly:""},null,10,CT),[[Ds,y.value]]),M.value?(O(),U("p",{key:0,class:qe(["text-sm mt-1 text-center font-semibold",V.value==="success"?"text-green-400":"text-red-400"])},j(M.value),3)):se("",!0)]),_("button",{onClick:R,disabled:C(g).hasPendingCall(),class:qe(["px-3 py-2 rounded text-sm transition-colors",[C(g).hasPendingCall()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"]])},j(C(n)("phone.delete")),11,wT)]),_("div",ET,[(O(),U(be,null,zt(m,ne=>_("button",{key:ne,disabled:C(g).hasPendingCall(),class:qe(["py-3 rounded-lg text-lg font-bold transition-colors",[C(g).hasPendingCall()?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700 text-white"]]),onClick:Ue=>$(ne)},j(ne),11,ST)),64))]),_("button",{disabled:C(g).hasPendingCall(),class:qe(["w-full py-3 rounded text-base font-semibold transition-colors",[C(g).hasPendingCall()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700 text-white"]]),onClick:W},j(C(g).hasPendingCall()?C(g).getPendingCallType()==="incoming"?C(n)("phone.answerFirst"):C(n)("phone.callFirst"):C(n)("phone.enter")),11,IT)]))}},Qp={__name:"RoadmapButtonComponent",emits:["click"],setup(t){const e=lt(),{shouldFlash:n}=qv(e);return(s,r)=>(O(),U("button",{class:qe(["absolute top-2 right-2 px-4 py-2 rounded font-semibold shadow border border-gray-600 transition-all duration-300",[C(n)?"bg-yellow-500 hover:bg-yellow-600 text-black border-yellow-400 animate-pulse":"bg-[#121212] hover:bg-[#1f1f1f] text-white"]]),onClick:r[0]||(r[0]=i=>s.$emit("click"))}," 📜 ",2))}},xT={class:"grid gap-6 text-white"},TT={class:"flex items-center justify-between mb-2"},kT={class:"text-lg font-semibold text-amber-400 tracking-wide"},AT={key:0,class:"text-sm space-y-1"},RT={key:1,class:"italic text-gray-500 text-sm"},NT={__name:"RoadmapComponent",props:{steps:Array},setup(t){function e(i){switch(typeof i=="object"?i.level:0){case 1:return"ml-4";case 2:return"ml-8";default:return"ml-0"}}function n(i){return typeof i=="object"&&i.isNew?"text-yellow-500":"text-gray-300"}function s(i){return typeof i=="object"&&i.isNew?"text-yellow-400":"text-gray-400"}function r(i){switch(typeof i=="object"?i.level:0){case 1:return"▸";case 2:return"◦";default:return"•"}}return(i,o)=>(O(),U("div",xT,[(O(!0),U(be,null,zt(t.steps,(a,l)=>(O(),U("div",{key:l,class:"p-5 rounded-xl bg-[#1a1a1a] border border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200"},[_("div",TT,[_("h3",kT,j(a.label),1)]),a.items.length?(O(),U("div",AT,[(O(!0),U(be,null,zt(a.items,(c,u)=>(O(),U("div",{key:u,class:qe([[e(c),n(c)],"flex items-start transition-colors duration-300"])},[_("span",{class:qe(["mr-2 flex-shrink-0",s(c)])},j(r(c)),3),_("span",{class:qe(c.isNew?"font-medium":"")},j(typeof c=="string"?c:c.text),3)],2))),128))])):(O(),U("p",RT,j(i.$t("roadmap.entries")),1))]))),128))]))}},PT={key:0,class:"fixed inset-0 bg-black bg-opacity-70 z-[9999] flex items-center justify-center"},LT={class:"bg-[#121212] p-6 rounded-lg shadow-xl max-w-5xl w-full h-[80vh] overflow-y-auto relative z-[10000]"},OT={class:"text-2xl font-bold text-white mb-6 text-center tracking-wider"},Jp={__name:"RoadmapModalComponent",props:{visible:Boolean,steps:Array},emits:["close"],setup(t){return(e,n)=>t.visible?(O(),U("div",PT,[_("div",LT,[_("button",{onClick:n[0]||(n[0]=s=>e.$emit("close")),class:"absolute top-4 right-4 text-white text-2xl hover:text-amber-400 transition z-[10001]","aria-label":"Close"}," × "),_("h2",OT,"📜 "+j(e.$t("roadmap.title")),1),J(NT,{steps:t.steps},null,8,["steps"])])])):se("",!0)}},MT={class:"relative w-full max-w-[90vw] sm:max-w-[80vw] lg:max-w-[70vw] xl:max-w-[60vw] mx-auto bg-[#1f1f1f] rounded-lg overflow-hidden shadow-lg flex items-center justify-center"},DT={key:0,class:"absolute top-4 right-20 z-30 flex items-center animate-bounce"},$T={class:"text-amber-400 text-sm font-bold mr-2 whitespace-nowrap bg-gray-800 px-3 py-2 rounded-lg border border-amber-400 shadow-lg"},FT={key:0,class:"relative bg-yellow-200 text-black px-3 py-3 sm:px-4 sm:py-3 rounded shadow font-semibold text-sm sm:text-base lg:text-lg w-full max-w-[85%]"},zT=["onClick"],HT={class:"pr-6 break-words"},qT={key:1,class:"relative w-full max-w-[85%]"},jT=["onClick"],UT=["src","alt"],BT=["src"],bs={__name:"ScenarioScreenComponent",props:{imageSrc:String},setup(t){const e=Me(),n=lt(),s=oe(!1),{t:r}=_e(),i=oe(!1),o=()=>{s.value=!0,e.level===1&&(i.value=!1)};return It(()=>{n.initializeSteps(),e.level===1&&setTimeout(()=>{i.value=!0,setTimeout(()=>{i.value=!1},8e3)},500)}),(a,l)=>(O(),U("div",MT,[J(Qp,{onClick:o}),C(e).level===1&&i.value?(O(),U("div",DT,[_("span",$T,j(a.$t("hints.checkRoadmap")),1),l[1]||(l[1]=_("span",{class:"text-amber-400 text-xl"},"→",-1))])):se("",!0),J(Jp,{visible:s.value,steps:C(n).roadmapSteps,onClose:l[0]||(l[0]=c=>s.value=!1)},null,8,["visible","steps"]),(O(!0),U(be,null,zt(C(e).overlayNotes,c=>(O(),U("div",{key:c.id,class:"absolute top-8 left-4 right-4 z-50 pointer-events-auto flex justify-center"},[c.type==="text"?(O(),U("div",FT,[_("button",{class:"absolute top-2 right-2 text-black hover:text-red-600 text-lg font-bold leading-none",onClick:u=>C(e).removeOverlay(c.id)}," × ",8,zT),_("div",HT,j(c.text),1)])):c.type==="image"?(O(),U("div",qT,[_("button",{class:"absolute top-2 right-2 text-white bg-black bg-opacity-70 hover:bg-opacity-90 p-1 rounded-full z-10 text-lg font-bold leading-none",onClick:u=>C(e).removeOverlay(c.id)}," × ",8,jT),_("img",{src:c.src,alt:c.alt||"Hint",class:"w-full h-auto max-h-[70vh] object-contain rounded-lg shadow-2xl border-2 sm:border-4 border-amber-400"},null,8,UT)])):se("",!0)]))),128)),_("img",{src:t.imageSrc,alt:"Scenario",class:"max-h-[80vh] w-auto object-contain"},null,8,BT),La(a.$slots,"clickable-areas"),La(a.$slots,"default")]))}},VT={key:0,class:"fixed inset-0 bg-black/70 z-[9999] flex items-center justify-center"},WT={class:"bg-[#1b1b1b] text-white rounded-lg p-4 w-[90vw] sm:w-[70vw] lg:w-[50vw] max-h-[90vh] overflow-y-auto relative z-[10000]"},GT={class:"text-lg font-bold mb-4 text-amber-400"},YT=["src"],KT={class:"mb-2"},QT=["onUpdate:modelValue","placeholder"],JT={__name:"RiddleModalComponent",props:{visible:Boolean,title:String,question:String,placeholder:String,placeholder2:{type:Array,default:()=>[]},image:String,correctAnswers:{type:[Array,String],default:()=>[]},successMessage:String,failureMessage:String},emits:["close"],setup(t,{emit:e}){const{t:n}=_e(),s=t,r=e,i=Me(),o=oe([]),a=oe([]),l=oe(""),c=oe(""),u=lt(),d=K(()=>Array.isArray(s.correctAnswers)?s.correctAnswers.map(y=>y.toLowerCase()):typeof s.correctAnswers=="string"?s.correctAnswers.split(",").map(y=>y.trim().toLowerCase()):[]);function h(y){const m=`riddle1.placeholder2_${y+1}`,g=n(m);return g&&g!==m?`${s.placeholder} ${g}`:`${s.placeholder} ${y+1}`}on(d,()=>{a.value=d.value.map(()=>""),o.value=d.value.map(()=>"")},{immediate:!0}),on(a,()=>{o.value=o.value.map(()=>"")},{deep:!0});function f(){const y=a.value.map(g=>g.trim().toLowerCase());y.forEach((g,p)=>{o.value[p]=g===d.value[p]?"success":"error"});const m=d.value.every((g,p)=>y[p]===g);c.value=m?"success":"error",l.value=m?s.successMessage:s.failureMessage,m&&setTimeout(()=>{Ie(_t),l.value="",c.value="",o.value=o.value.map(()=>""),i.markRiddleAsSolved(),u.addEntry("step1","step1_1"),u.addEntry("step1","step1_1_B"),u.addEntry("step1","step1_1_C"),u.addEntry("step1","step1_1_E"),u.addEntry("step1","step1_1_F"),u.addEntry("step1","step1_1_G"),i.markMessageAsRead(),r("close")},2e3)}return(y,m)=>t.visible?(O(),U("div",VT,[_("div",WT,[_("button",{onClick:m[0]||(m[0]=g=>y.$emit("close")),class:"absolute top-2 right-2 text-white hover:text-red-400 z-[10001]"},"×"),_("h2",GT,j(t.title),1),t.image?(O(),U("img",{key:0,src:t.image,alt:"Riddle",class:"mb-4 rounded border border-amber-400 max-w-[600px] max-h-[400px] object-contain mx-auto"},null,8,YT)):se("",!0),_("p",KT,j(t.question),1),(O(!0),U(be,null,zt(a.value,(g,p)=>(O(),U("div",{key:p,class:"mb-2"},[us(_("input",{"onUpdate:modelValue":E=>a.value[p]=E,type:"text",class:qe(["w-full px-3 py-1.5 bg-gray-800 border rounded text-white",{"border-green-500":o.value[p]==="success","border-red-500":o.value[p]==="error"}]),placeholder:h(p)},null,10,QT),[[Ds,a.value[p]]])]))),128)),_("button",{class:"mt-3 w-full bg-amber-600 hover:bg-amber-700 py-2 rounded text-sm",onClick:f},j(y.$t("riddle.submit")),1),l.value?(O(),U("div",{key:1,class:qe(["mt-4 p-2 rounded",{"bg-green-900":c.value==="success","bg-red-900":c.value==="error"}])},[_("p",{class:qe(c.value==="success"?"text-green-400":"text-red-400")},j(l.value),3)],2)):se("",!0)])])):se("",!0)}},XT={class:"w-full h-full flex items-center justify-center p-8"},ZT={class:"bg-gradient-to-r from-green-600 to-green-700 p-4 text-center"},ek={class:"text-xs text-green-200 mb-1"},tk={class:"flex items-center justify-center gap-2"},nk={class:"text-sm font-medium"},sk={class:"flex items-center gap-4 p-4 bg-gradient-to-b from-gray-800 to-gray-900"},rk={class:"relative flex-shrink-0"},ik=["src","alt"],ok={class:"flex-1"},ak={class:"text-lg font-bold text-white mb-1"},lk={class:"text-sm text-gray-400"},ck={key:0,class:"mt-3 bg-gray-800 p-3 rounded-lg"},uk={class:"text-sm font-semibold"},dk={class:"text-white"},hk={class:"text-blue-400"},fk={class:"text-white"},mk={class:"p-4 bg-black flex-1 flex flex-col min-h-0"},pk={class:"bg-gray-900 rounded-lg p-4 mb-4 flex-1 overflow-y-auto"},gk={class:"text-sm whitespace-pre-line leading-relaxed text-gray-200"},_k={class:"flex-shrink-0"},wi={__name:"PhoneCallComponent",props:{avatar:String,name:String,body:String,titleStart:String,titleMiddle:String,titleEnd:String},emits:["close"],setup(t){const{t:e}=_e();return(n,s)=>(O(),U("div",{class:"w-full z-[10010] flex items-center justify-center",onClick:s[2]||(s[2]=r=>n.$emit("close"))},[_("div",XT,[_("div",{class:"bg-gradient-to-b from-gray-900 to-black text-white rounded-2xl shadow-2xl w-full max-w-3xl h-[70vh] flex flex-col border border-gray-700 overflow-hidden",onClick:s[1]||(s[1]=jr(()=>{},["stop"]))},[_("div",ZT,[_("div",ek,j(C(e)("phone.incomingCall")),1),_("div",tk,[s[3]||(s[3]=_("div",{class:"w-2 h-2 bg-green-300 rounded-full animate-ping"},null,-1)),_("span",nk,j(C(e)("phone.connection")),1)])]),_("div",sk,[_("div",rk,[_("img",{src:t.avatar,class:"w-16 h-16 rounded-full border-2 border-white shadow-lg",alt:t.name},null,8,ik)]),_("div",ok,[_("div",ak,j(t.name),1),_("div",lk,j(C(e)("phone.media")),1),t.titleStart||t.titleMiddle||t.titleEnd?(O(),U("div",ck,[_("h2",uk,[_("span",dk,j(t.titleStart),1),_("span",hk,j(t.titleMiddle),1),_("span",fk,j(t.titleEnd),1)])])):se("",!0)])]),_("div",mk,[_("div",pk,[_("p",gk,j(t.body),1)]),_("div",_k,[_("button",{class:"w-full bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-2 shadow-lg",onClick:s[0]||(s[0]=r=>n.$emit("close"))},j(C(e)("phone.endCall")),1)])])])])]))}},vk={key:0,class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center animate-fadeIn"},yk={class:"bg-gradient-to-br from-[#1b1b1b] via-[#2a2a2a] to-[#1b1b1b] text-white rounded-2xl p-6 w-[95vw] sm:w-[85vw] md:w-[70vw] lg:w-[55vw] xl:w-[45vw] max-h-[95vh] sm:max-h-[85vh] overflow-y-auto relative border border-amber-400/30 shadow-2xl animate-slideUp"},bk={class:"text-center mb-6"},Ck={class:"text-3xl font-bold bg-gradient-to-r from-amber-400 via-yellow-500 to-amber-400 bg-clip-text text-transparent mb-2 animate-pulse"},wk={class:"text-amber-300/80 text-base"},Ek={class:"flex justify-center mb-6"},Sk={class:"relative"},Ik={class:"relative w-24 h-24 bg-gradient-to-br from-yellow-400 via-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl text-4xl font-bold border-4 border-white transform hover:scale-105 transition-transform duration-300"},xk={class:"absolute inset-2 bg-gradient-to-br from-yellow-300 to-amber-400 rounded-full flex items-center justify-center"},Tk={class:"text-white drop-shadow-lg"},kk={class:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 rounded-xl p-4 mb-6 border border-green-500/30"},Ak={class:"flex items-center justify-center mb-2"},Rk={class:"text-xl font-bold text-green-400"},Nk={class:"text-center text-green-200/80 text-sm"},Pk={key:0,class:"bg-gradient-to-r from-blue-900/30 to-cyan-900/30 rounded-xl p-4 mb-6 border border-blue-500/30"},Lk={class:"text-center"},Ok={class:"text-blue-200 text-sm leading-relaxed"},Mk={class:"space-y-4 mb-6"},Dk={class:"flex items-start"},$k={class:"flex-1"},Fk={class:"text-base font-semibold text-amber-300 mb-2 flex items-center"},zk={class:"space-y-1"},Hk={class:"flex items-center justify-center"},qk={__name:"CongratsModalComponent",props:{visible:Boolean,level:Number,steps:Array},emits:["continue"],setup(t){const{t:e}=_e(),n=Me(),s=t,r=K(()=>n.levelCompletionData);function i(l){const c=Math.floor(l/60),u=l%60;return c===0?`${u} second${u!==1?"s":""}`:u===0?`${c} minute${c!==1?"s":""}`:`${c} minute${c!==1?"s":""} and ${u} second${u!==1?"s":""}`}function o(){if(!r.value)return"";const{timeInSeconds:l,avgInSeconds:c,isAboveAverage:u,level:d}=r.value,h=d||s.level,f=i(l);let y=e("congrats.timeMessage",{time:f,level:h});if(c){const m=i(c);y+=e("congrats.averageMessage",{avgTime:m}),u?y+=e("congrats.fastMessage"):y+=e("congrats.thoroughMessage")}else y+=e("congrats.noDataMessage");return y}function a(l){return/^[A-Z]\.\s/.test(l)?"ml-6":"ml-0"}return(l,c)=>t.visible?(O(),U("div",vk,[_("div",yk,[c[6]||(c[6]=_("div",{class:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl"},[_("div",{class:"absolute top-0 left-1/4 w-2 h-2 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.1s"}}),_("div",{class:"absolute top-10 right-1/4 w-1 h-1 bg-amber-300 rounded-full animate-bounce",style:{"animation-delay":"0.3s"}}),_("div",{class:"absolute top-5 left-3/4 w-1.5 h-1.5 bg-yellow-500 rounded-full animate-bounce",style:{"animation-delay":"0.5s"}})],-1)),_("div",bk,[c[1]||(c[1]=_("div",{class:"text-4xl mb-2 animate-bounce"},"🎉",-1)),_("h2",Ck,j(C(e)("congrats.title")),1),_("div",wk,j(C(e)("congrats.subtitle",{level:t.level})),1)]),_("div",Ek,[_("div",Sk,[c[4]||(c[4]=_("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full blur-xl opacity-60 animate-pulse scale-110"},null,-1)),_("div",Ik,[_("div",xk,[_("span",Tk,j(t.level),1)]),c[2]||(c[2]=_("div",{class:"absolute top-3 left-8 w-4 h-4 bg-white/30 rounded-full blur-sm"},null,-1)),c[3]||(c[3]=_("div",{class:"absolute top-6 right-6 w-2 h-2 bg-white/50 rounded-full"},null,-1))])])]),_("div",kk,[_("div",Ak,[_("h3",Rk,j(C(e)("congrats.achievement")),1)]),_("p",Nk,j(C(e)("congrats.message")),1)]),r.value?(O(),U("div",Pk,[_("div",Lk,[_("p",Ok,j(o()),1)])])):se("",!0),_("div",Mk,[(O(!0),U(be,null,zt(t.steps,(u,d)=>(O(),U("div",{key:d,class:"bg-gradient-to-r from-[#2a2a2a] to-[#333333] rounded-xl p-4 border border-gray-600/50 shadow-lg hover:shadow-xl transition-shadow duration-300"},[_("div",Dk,[_("div",$k,[_("h4",Fk,j(u.label),1),_("ul",zk,[(O(!0),U(be,null,zt(u.items,(h,f)=>(O(),U("li",{key:f,class:qe(["text-xs text-gray-300 flex items-start",a(h)])},[c[5]||(c[5]=_("span",{class:"text-green-400 mr-2 mt-0.5 text-xs"},"●",-1)),_("span",null,j(h),1)],2))),128))])])])]))),128))]),_("button",{onClick:c[0]||(c[0]=u=>l.$emit("continue")),class:"w-full py-3 bg-gradient-to-r from-green-600 via-green-500 to-green-600 hover:from-green-500 hover:via-green-400 hover:to-green-500 rounded-xl text-white text-lg font-bold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 border border-green-400/30"},[_("span",Hk,j(C(e)("congrats.continue")),1)])])])):se("",!0)}},Cs=Po(qk,[["__scopeId","data-v-35061b5d"]]),jk="/missionrdm/assets/scenario1-CJYb2Ve0.png",Uk="/missionrdm/assets/scenario1.2-Cu8Gu1Sr.png",Bk="/missionrdm/assets/scenario1-BU0DvMwD.png",Vk="/missionrdm/assets/scenario1.2-Csxl9qxF.png",Wk="/missionrdm/assets/scenario1.3-gCus19GI.png",Gk="/missionrdm/assets/scenario1.3-DI5kMR3V.png",Yk="/missionrdm/assets/scenario1.4-CqWY9wbc.png",Kk="/missionrdm/assets/scenario1.4-DTWQQ_EQ.png",Qk="/missionrdm/assets/scenario1.5-DPRnfneW.png",Jk="/missionrdm/assets/scenario1.5-BIPgV4K5.png",Xk="/missionrdm/assets/riddle1-CiSUX6E-.png",Zk="/missionrdm/assets/riddle1-BBOVhvrm.png",lr={__name:"TutorialButtonComponent",emits:["click"],setup(t){return(e,n)=>(O(),U("button",{onClick:n[0]||(n[0]=s=>e.$emit("click")),class:"bg-amber-600 hover:bg-amber-700 text-white p-3 rounded-lg shadow-lg transition-colors font-mono",title:"Tutorial"},n[1]||(n[1]=[_("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])))}},eA={class:"bg-[#1b1b1b] rounded-lg shadow-[0_0_30px_rgba(255,0,0,0.3)] border-2 border-red-500 max-w-md w-[90vw] mx-4 relative animate-shake"},tA={class:"text-center pt-6 pb-4"},nA={class:"text-xl font-bold text-red-400 mb-2 tracking-wide uppercase"},sA={class:"px-6 pb-6"},rA={class:"bg-[#2a1a1a] border border-red-800 p-4 rounded-lg mb-4"},iA={class:"text-gray-200 text-sm leading-relaxed whitespace-pre-line"},oA={key:0,class:"bg-[#1a1a2a] border border-amber-800 p-3 rounded-lg mb-4"},aA={class:"text-amber-200 text-xs"},lA={__name:"ErrorOverlayComponent",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Erreur"},message:{type:String,required:!0},hint:{type:String,default:""}},emits:["close"],setup(t){return(e,n)=>t.visible?(O(),U("div",{key:0,class:"fixed inset-0 bg-black/70 z-[10010] flex items-center justify-center font-mono",onClick:n[1]||(n[1]=jr(s=>e.$emit("close"),["self"]))},[_("div",eA,[_("button",{onClick:n[0]||(n[0]=s=>e.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-white text-xl font-bold transition-colors"}," × "),_("div",tA,[n[2]||(n[2]=_("div",{class:"mx-auto w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mb-4"},[_("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),_("h3",nA,j(t.title||"Erreur"),1)]),_("div",sA,[_("div",rA,[_("p",iA,j(t.message),1)]),t.hint?(O(),U("div",oA,[n[3]||(n[3]=_("div",{class:"flex items-center mb-2"},[_("svg",{class:"w-4 h-4 text-amber-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),_("span",{class:"text-amber-400 text-xs font-semibold uppercase tracking-wide"},"Indice")],-1)),_("p",aA,j(t.hint),1)])):se("",!0)])])])):se("",!0)}},Lc=Po(lA,[["__scopeId","data-v-0cfa7ebf"]]),cA={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},uA={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},dA={class:"absolute top-4 right-4 z-40"},hA={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},fA={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},mA={class:"w-full"},pA={__name:"Level1",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const n=lt(),{locale:s,messages:r,t:i}=_e(),o=oe(!1),a=K(()=>{var E,x;return((x=(E=r.value[s.value])==null?void 0:E.riddle1)==null?void 0:x.correctAnswers1)||[]}),l=Me(),{restoreSession:c}=Qn();It(async()=>{const E=n.roadmapSteps.some(x=>x.items.length>0);l.level=1,l.initializePlayerName(),await c(),l.startLevelTimer(1),E||n.initializeSteps()});const u=(E,x)=>l.setFeedback(E,x),{continueToLevel2:d}=Bp(u),h=K(()=>s.value==="fr"?Zk:Xk);function f(){l.activeMessage=null,l.riddleSolved||(l.activeRiddle=!0)}function y(){d()}const m=K(()=>[{label:i("roadmap.step1"),items:[i("roadmap.step1_1"),i("roadmap.step1_1_A"),i("roadmap.step1_1_B"),i("roadmap.step1_1_C"),i("roadmap.step1_1_D"),i("roadmap.step1_1_E"),i("roadmap.step1_1_F"),i("roadmap.step1_1_G"),i("roadmap.step1_2"),i("roadmap.step1_3"),i("roadmap.step1_4"),i("roadmap.step1_5")]}]),g={en:{default:jk,updated:Uk,third:Gk,final:Yk,congrats:Qk},fr:{default:Bk,updated:Vk,third:Wk,final:Kk,congrats:Jk}},p=K(()=>{var I;const E=s.value,x=l.currentScenarioImage||"default";return((I=g[E])==null?void 0:I[x])||g[E].default});return(E,x)=>(O(),U("div",cA,[o.value?(O(),U("div",uA,[J(vs,{visible:o.value,onClose:x[0]||(x[0]=I=>o.value=!1)},null,8,["visible"])])):se("",!0),_("div",dA,[J(lr,{onClick:x[1]||(x[1]=I=>o.value=!0)})]),_("div",hA,[J(fi,{name:"fade"},{default:et(()=>[C(l).activeCall?(O(),Re(wi,{key:0,name:C(l).activeCall.name,avatar:C(l).activeCall.avatar,body:C(l).activeCall.body,onClose:x[2]||(x[2]=I=>C(l).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(l).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(l).showCongratsModal,level:1,steps:m.value,onClose:x[3]||(x[3]=I=>C(l).showCongratsModal=!1),onContinue:y},null,8,["visible","steps"])):se("",!0),J(Lc,{visible:C(l).errorOverlayVisible,title:C(l).errorOverlayData.title,message:C(l).errorOverlayData.message,hint:C(l).errorOverlayData.hint,onClose:x[4]||(x[4]=I=>C(l).closeErrorOverlay())},null,8,["visible","title","message","hint"]),_("div",fA,[J(ys,{ref_key:"timerRef",ref:e},null,512),J(ir,null,{default:et(()=>[C(l).activeMessage?(O(),Re(or,{key:0,from:C(l).activeMessage.from,name:C(l).activeMessage.name,avatar:C(l).activeMessage.avatar,body:C(l).activeMessage.body,onClose:f},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),C(l).activeRiddle?(O(),Re(JT,{key:1,visible:!0,title:C(i)("riddle1.title1"),question:C(i)("riddle1.question1"),placeholder:C(i)("riddle1.placeholder1"),image:h.value,correctAnswers:a.value,successMessage:C(i)("riddle1.correct1"),failureMessage:C(i)("riddle1.incorrect1"),onClose:x[5]||(x[5]=I=>C(l).activeRiddle=!1)},null,8,["title","question","placeholder","image","correctAnswers","successMessage","failureMessage"])):se("",!0),_("div",mA,[J(bs,{imageSrc:p.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},gA="/missionrdm/assets/scenario1-BNLX032U.png",_A="/missionrdm/assets/scenario1.2-DcWBiw1F.png",vA="/missionrdm/assets/scenario1-mYS__g9s.png",yA="/missionrdm/assets/scenario1.2-CmSIngiK.png",bA="/missionrdm/assets/scenario1.3-DHXhjQX2.png",CA="/missionrdm/assets/scenario1.3-BVtkopV3.png",wA="/missionrdm/assets/scenario1.4-CAPiMc5H.png",EA="/missionrdm/assets/scenario1.4-B9BVbPY7.png",SA="/missionrdm/assets/scenario1.5-BOwSkkYp.png",IA="/missionrdm/assets/scenario1.5-DAP9HK9n.png",xA="/missionrdm/assets/scenario1.6-Cx4p0XnC.png",TA="/missionrdm/assets/scenario1.6-BmCeFC2Y.png",kA="/missionrdm/assets/scenario1.7-93iwC4Z1.png",AA="/missionrdm/assets/scenario1.7-D9bW8JE7.png",RA={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},NA={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},PA={class:"absolute top-4 right-4 z-40"},LA={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},OA={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},MA={class:"w-full"},DA={__name:"Level2",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=lt(),i=oe(!1),o=Me(),{restoreSession:a}=Qn();It(async()=>{const m=r.roadmapSteps.some(g=>g.items.length>0);o.level=2,o.initializePlayerName(),await a(),o.startLevelTimer(2),m||r.initializeSteps()});const l=(m,g)=>o.setFeedback(m,g),{continueToLevel3:c}=Vp(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step2"),items:[s("roadmap.step2_1"),s("roadmap.step2_2"),s("roadmap.step2_3")]}]),f={en:{default:gA,second:_A,third:CA,fourth:wA,fifth:SA,final:xA,main:kA},fr:{default:vA,second:yA,third:bA,fourth:EA,fifth:IA,final:TA,main:AA}},y=K(()=>{var p;const m=n.value,g=o.currentScenarioImage||"default";return((p=f[m])==null?void 0:p[g])||f[m].default});return(m,g)=>(O(),U("div",RA,[i.value?(O(),U("div",NA,[J(vs,{visible:i.value,onClose:g[0]||(g[0]=p=>i.value=!1)},null,8,["visible"])])):se("",!0),_("div",PA,[J(lr,{onClick:g[1]||(g[1]=p=>i.value=!0)})]),_("div",LA,[J(fi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Re(wi,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:g[2]||(g[2]=p=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(o).showCongratsModal,level:2,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),_("div",OA,[J(ys,{ref_key:"timerRef",ref:e},null,512),J(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Re(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),_("div",MA,[J(bs,{imageSrc:y.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},$A="/missionrdm/assets/scenario1-DHbQztJ-.png",FA="/missionrdm/assets/scenario1.1-Cy3VxNSh.png",zA="/missionrdm/assets/scenario1-CusNeAZW.png",HA="/missionrdm/assets/scenario1.1-BbUnlebg.png",qA="/missionrdm/assets/scenario1.2-B7EcYRTS.png",jA="/missionrdm/assets/scenario1.2-B5ykr2Xd.png",UA="/missionrdm/assets/scenario1.3-CQhW_196.png",BA="/missionrdm/assets/scenario1.3-CoNL3zHT.png",VA="/missionrdm/assets/scenario1.4-DxIBfo5e.png",WA="/missionrdm/assets/scenario1.4-BUKJ3WiR.png",GA="/missionrdm/assets/scenario1.5-CtUS1jFE.png",YA="/missionrdm/assets/scenario1.5-0Q48-dzq.png",KA="/missionrdm/assets/scenario1.6-CRtMif_C.png",QA="/missionrdm/assets/scenario1.6-BNjhVuqX.png",JA={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},XA={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},ZA={class:"absolute top-4 right-4 z-40"},eR={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},tR={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},nR={class:"w-full"},sR={__name:"Level3",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=lt(),i=oe(!1),o=Me(),{restoreSession:a}=Qn();It(async()=>{const m=r.roadmapSteps.some(g=>g.items.length>0);o.level=3,o.initializePlayerName(),await a(),o.startLevelTimer(3),m||r.initializeSteps()});const l=(m,g)=>o.setFeedback(m,g),{continueToLevel4:c}=Wp(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step3"),items:[s("roadmap.step3_1"),s("roadmap.step3_2"),s("roadmap.step3_3")]}]),f={en:{default:$A,second:FA,third:jA,fourth:UA,fifth:VA,sixth:GA,final:KA},fr:{default:zA,second:HA,third:qA,fourth:BA,fifth:WA,sixth:YA,final:QA}},y=K(()=>{var p;const m=n.value,g=o.currentScenarioImage||"default";return((p=f[m])==null?void 0:p[g])||f[m].default});return(m,g)=>(O(),U("div",JA,[i.value?(O(),U("div",XA,[J(vs,{visible:i.value,onClose:g[0]||(g[0]=p=>i.value=!1)},null,8,["visible"])])):se("",!0),_("div",ZA,[J(lr,{onClick:g[1]||(g[1]=p=>i.value=!0)})]),_("div",eR,[J(fi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Re(wi,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:g[2]||(g[2]=p=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(o).showCongratsModal,level:3,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),J(Lc,{visible:C(o).errorOverlayVisible,title:C(o).errorOverlayData.title,message:C(o).errorOverlayData.message,hint:C(o).errorOverlayData.hint,onClose:g[3]||(g[3]=p=>C(o).closeErrorOverlay())},null,8,["visible","title","message","hint"]),_("div",tR,[J(ys,{ref_key:"timerRef",ref:e},null,512),J(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Re(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),_("div",nR,[J(bs,{imageSrc:y.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},rR="/missionrdm/assets/scenario1-CvuORGrs.png",iR="/missionrdm/assets/scenario1-CnSR5UFP.png",oR="/missionrdm/assets/scenario1.2-DWx7Nbp5.png",aR="/missionrdm/assets/scenario1.2-BRYPCZHk.png",lR="/missionrdm/assets/scenario1.3-Cv6-Grzs.png",cR="/missionrdm/assets/scenario1.3-CxMOCIVj.png",uR="/missionrdm/assets/scenario1.4-UrXjIelG.png",dR="/missionrdm/assets/scenario1.4-BsOCREA7.png",hR="/missionrdm/assets/scenario1.5-yx5tEakR.png",fR="/missionrdm/assets/scenario1.5-BD0UfGh0.png",mR="/missionrdm/assets/scenario1.6-DbUAyHND.png",pR="/missionrdm/assets/scenario1.6-DbS3o1rM.png",gR="/missionrdm/assets/scenario1.7-Dd57yRHE.png",_R="/missionrdm/assets/scenario1.7-DIjxBhl1.png",vR="/missionrdm/assets/scenario1.8-D5xApyBC.png",yR="/missionrdm/assets/scenario1.8-VU999j75.png",bR={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},CR={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},wR={class:"absolute top-4 right-4 z-40"},ER={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},SR={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},IR={class:"w-full"},xR={__name:"Level4",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=lt(),i=oe(!1),o=Me(),{restoreSession:a}=Qn();It(async()=>{const m=r.roadmapSteps.some(g=>g.items.length>0);o.level=4,o.initializePlayerName(),await a(),o.startLevelTimer(4),m||r.initializeSteps()});const l=(m,g)=>o.setFeedback(m,g),{continueToLevel5:c}=Gp(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step4"),items:[s("roadmap.step4_1"),s("roadmap.step4_2"),s("roadmap.step4_3"),s("roadmap.step4_4")]}]),f={en:{default:rR,second:oR,third:lR,fourth:uR,fifth:hR,sixth:mR,seventh:gR,eighth:vR},fr:{default:iR,second:aR,third:cR,fourth:dR,fifth:fR,sixth:pR,seventh:_R,eighth:yR}},y=K(()=>{var p;const m=n.value,g=o.currentScenarioImage||"default";return((p=f[m])==null?void 0:p[g])||f[m].default});return(m,g)=>(O(),U("div",bR,[i.value?(O(),U("div",CR,[J(vs,{visible:i.value,onClose:g[0]||(g[0]=p=>i.value=!1)},null,8,["visible"])])):se("",!0),_("div",wR,[J(lr,{onClick:g[1]||(g[1]=p=>i.value=!0)})]),_("div",ER,[J(fi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Re(wi,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,"title-middle":C(o).activeCall.titleMiddle,onClose:g[2]||(g[2]=p=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body","title-middle"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(o).showCongratsModal,level:4,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),_("div",SR,[J(ys,{ref_key:"timerRef",ref:e},null,512),J(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Re(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),_("div",IR,[J(bs,{imageSrc:y.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},TR="/missionrdm/assets/scenario1-i3NYOZYI.png",kR="/missionrdm/assets/scenario1-3qtrZLOe.png",AR="/missionrdm/assets/scenario1.1-DlLbBlj6.png",RR="/missionrdm/assets/scenario1.1-BFfeudfE.png",NR="/missionrdm/assets/scenario1.2-BlDic7WX.png",PR="/missionrdm/assets/scenario1.2-C21kcrvb.png",LR="/missionrdm/assets/scenario1.3--hLbovAr.png",OR="/missionrdm/assets/scenario1.3-DnUn7HKU.png",MR="/missionrdm/assets/scenario1.4-qJ0rZyqm.png",DR="/missionrdm/assets/scenario1.4-CqwPTSnP.png",$R="/missionrdm/assets/scenario1.5-B1c6f9MK.png",FR="/missionrdm/assets/scenario1.5-DegQ60Kh.png",zR="/missionrdm/assets/scenario1.6-D03ygBVC.png",HR="/missionrdm/assets/scenario1.6-4l4lJUFy.png",qR="/missionrdm/assets/scenario1.7-DArcgz_R.png",jR="/missionrdm/assets/scenario1.7-DhG7J634.png",UR="/missionrdm/assets/scenario1.8-P8lJsNQ1.png",BR="/missionrdm/assets/scenario1.8-BvGLyCYQ.png",VR={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},WR={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},GR={class:"absolute top-4 right-4 z-40"},YR={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},KR={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},QR={class:"w-full"},JR={__name:"Level5",setup(t){const e=oe(null);Wt("timer",K(()=>e.value));const{locale:n,t:s}=_e(),r=lt(),i=oe(!1),o=Me(),{restoreSession:a}=Qn();It(async()=>{const m=r.roadmapSteps.some(g=>g.items.length>0);o.level=5,o.initializePlayerName(),await a(),o.startLevelTimer(5),m||r.initializeSteps()});const l=(m,g)=>o.setFeedback(m,g),{continueToLevel6:c}=Yp(l);function u(){o.activeMessage=null,o.riddleSolved||(o.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:s("roadmap.step5"),items:[s("roadmap.step5_1"),s("roadmap.step5_2"),s("roadmap.step5_3"),s("roadmap.step5_4")]}]),f={en:{default:TR,second:AR,third:NR,fourth:LR,fifth:MR,sixth:$R,seventh:zR,eighth:qR,ninth:UR},fr:{default:kR,second:RR,third:PR,fourth:OR,fifth:DR,sixth:FR,seventh:HR,eighth:jR,ninth:BR}},y=K(()=>{var p;const m=n.value,g=o.currentScenarioImage||"default";return((p=f[m])==null?void 0:p[g])||f[m].default});return(m,g)=>(O(),U("div",VR,[i.value?(O(),U("div",WR,[J(vs,{visible:i.value,onClose:g[0]||(g[0]=p=>i.value=!1)},null,8,["visible"])])):se("",!0),_("div",GR,[J(lr,{onClick:g[1]||(g[1]=p=>i.value=!0)})]),_("div",YR,[J(fi,{name:"fade"},{default:et(()=>[C(o).activeCall?(O(),Re(wi,{key:0,name:C(o).activeCall.name,avatar:C(o).activeCall.avatar,body:C(o).activeCall.body,onClose:g[2]||(g[2]=p=>C(o).endCall()),class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},null,8,["name","avatar","body"])):se("",!0)]),_:1}),C(o).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(o).showCongratsModal,level:5,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),J(Lc,{visible:C(o).errorOverlayVisible,title:C(o).errorOverlayData.title,message:C(o).errorOverlayData.message,hint:C(o).errorOverlayData.hint,onClose:g[3]||(g[3]=p=>C(o).closeErrorOverlay())},null,8,["visible","title","message","hint"]),_("div",KR,[J(ys,{ref_key:"timerRef",ref:e},null,512),J(ir,null,{default:et(()=>[C(o).activeMessage?(O(),Re(or,{key:0,from:C(o).activeMessage.from,name:C(o).activeMessage.name,avatar:C(o).activeMessage.avatar,body:C(o).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),_("div",QR,[J(bs,{imageSrc:y.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},XR="/missionrdm/assets/scenario1-C8296lZp.png",ZR="/missionrdm/assets/scenario1-DjGETrD5.png",eN="/missionrdm/assets/scenario1.1-Hkc4uxBZ.png",tN="/missionrdm/assets/scenario1.1-Ljm-1_ei.png",nN="/missionrdm/assets/scenario1.2-CeqESj8M.png",sN="/missionrdm/assets/scenario1.2-CPfE42O-.png",rN="/missionrdm/assets/scenario1.3-MxHX2jV3.png",iN="/missionrdm/assets/scenario1.3-DZ221xsk.png",oN="/missionrdm/assets/scenario1.4-OJ3QKbYq.png",aN="/missionrdm/assets/scenario1.4-Ccoqvl9j.png",lN={class:"min-h-screen bg-[#1b1b1b] text-white p-4 sm:p-6 flex items-center justify-center"},cN={key:0,class:"fixed inset-0 z-[9999] bg-black bg-opacity-50"},uN={class:"absolute top-4 right-4 z-40"},dN={class:"flex flex-col lg:flex-row gap-6 items-center justify-center w-full max-w-7xl"},hN={class:"flex flex-col gap-4 w-full max-w-sm lg:w-[300px]"},fN={class:"w-full"},mN={__name:"Level6",setup(t){const{locale:e,t:n}=_e(),s=lt(),r=oe(!1),i=Me(),{restoreSession:o}=Qn(),a=oe(null);Wt("timer",K(()=>a.value)),It(async()=>{const m=s.roadmapSteps.some(g=>g.items.length>0);i.level=6,i.initializePlayerName(),await o(),i.startLevelTimer(6),m||s.initializeSteps()});const l=(m,g)=>i.setFeedback(m,g),{continueToEnd:c}=Kp(l);function u(){i.activeMessage=null,i.riddleSolved||(i.activeRiddle=!0)}function d(){c()}const h=K(()=>[{label:n("roadmap.step6"),items:[n("roadmap.step6_1"),n("roadmap.step6_2")]}]),f={en:{default:XR,second:eN,third:nN,fourth:rN,fifth:oN},fr:{default:ZR,second:tN,third:sN,fourth:iN,fifth:aN}},y=K(()=>{var p;const m=e.value,g=i.currentScenarioImage||"default";return((p=f[m])==null?void 0:p[g])||f[m].default});return(m,g)=>(O(),U("div",lN,[r.value?(O(),U("div",cN,[J(vs,{visible:r.value,onClose:g[0]||(g[0]=p=>r.value=!1)},null,8,["visible"])])):se("",!0),_("div",uN,[J(lr,{onClick:g[1]||(g[1]=p=>r.value=!0)})]),_("div",dN,[C(i).showCongratsModal?(O(),Re(Cs,{key:0,visible:C(i).showCongratsModal,level:6,steps:h.value,onContinue:d},null,8,["visible","steps"])):se("",!0),_("div",hN,[J(ys,{ref_key:"timerRef",ref:a},null,512),J(ir,null,{default:et(()=>[C(i).activeMessage?(O(),Re(or,{key:0,from:C(i).activeMessage.from,name:C(i).activeMessage.name,avatar:C(i).activeMessage.avatar,body:C(i).activeMessage.body,onClose:u},null,8,["from","name","avatar","body"])):(O(),Re(ar,{key:1}))]),_:1})]),_("div",fN,[J(bs,{imageSrc:y.value},{"clickable-areas":et(()=>[J(rr)]),_:1},8,["imageSrc"])])])]))}},pN={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},gN={class:"flex items-center mb-6"},_N={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},vN={class:"text-gray-500 text-sm leading-relaxed"},yN={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},bN={__name:"TheoryResourcesComponent",setup(t){const{locale:e}=_e(),n=K(()=>e.value==="fr"?"https://hevs.allinone.io/media/document/22/mission-gdr-2024-guide-complementaire.pdf":"https://hevs.allinone.io/media/document/22/mission-rdm-2024-complementary-guide.pdf"),s=()=>{window.open(n.value,"_blank")},r=()=>{const o=e.value==="fr"?"https://doi.org/10.5281/zenodo.6391188":"https://doi.org/10.5281/zenodo.7985732";window.open(o,"_blank")};return(i,o)=>(O(),U("div",pN,[_("div",gN,[o[0]||(o[0]=_("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[_("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),_("h2",_N,j(i.$t("endScreen.theoryTitle")),1)]),_("p",vN,j(i.$t("endScreen.theoryDescription")),1),o[1]||(o[1]=_("div",{class:"h-4"},null,-1)),_("div",yN,[_("button",{onClick:s,class:"bg-amber-500/80 hover:bg-amber-500 text-white font-medium py-3 px-4 rounded-md uppercase tracking-wide transition-colors"},j(i.$t("endScreen.viewPDF")),1),_("button",{onClick:r,class:"bg-gray-700 hover:bg-gray-600 text-gray-200 font-medium py-3 px-4 rounded-md uppercase tracking-wide transition-colors"},j(i.$t("endScreen.openLink")),1)])]))}},CN={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},wN={class:"flex items-center justify-between"},EN={class:"flex items-center"},SN={class:"flex items-center gap-3 mb-1"},IN={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},xN={class:"bg-gray-800 text-gray-400 text-xs px-2 py-1 rounded uppercase"},TN={class:"text-gray-500 text-sm"},kN={__name:"TestGameComponent",setup(t){const e=ln(),n=()=>{e.push("/level/quiz")};return(s,r)=>(O(),U("div",CN,[_("div",wN,[_("div",EN,[r[0]||(r[0]=_("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[_("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M16 10h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})])],-1)),_("div",null,[_("div",SN,[_("h2",IN,j(s.$t("endScreen.testGameTitle")),1),_("span",xN,j(s.$t("endScreen.optional")),1)]),_("p",TN,j(s.$t("endScreen.testGameDescription")),1)])]),_("button",{onClick:n,class:"bg-amber-500/80 hover:bg-amber-500 text-white font-medium py-2 px-4 rounded-md uppercase tracking-wide transition-colors"}," Start ")])]))}},AN={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},RN={class:"flex items-center mb-6"},NN={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},PN={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},LN=["placeholder"],ON=["placeholder"],MN=["placeholder"],DN=["disabled"],$N={key:0,class:"mt-4 p-3 bg-green-800/30 border border-green-600/50 rounded-md text-green-300 text-center"},FN={__name:"ContactFormComponent",setup(t){const e=oe(!1),n=oe(""),s=oe({name:"",email:"",message:""}),r=async()=>{e.value=!0,n.value="";try{const i=encodeURIComponent("Feedback from Mission RDM Game"),o=encodeURIComponent(`Name: ${s.value.name}
Email: ${s.value.email}

Message:
${s.value.message}`),a=`mailto:openscience.bibliosante@hevs.ch?subject=${i}&body=${o}`;window.open(a),n.value="success",setTimeout(()=>{s.value={name:"",email:"",message:""},n.value=""},3e3)}catch(i){console.error("Error:",i),n.value="error"}finally{e.value=!1}};return(i,o)=>(O(),U("div",AN,[_("div",RN,[o[3]||(o[3]=_("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[_("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),_("h3",NN,j(i.$t("endScreen.contactTitle")),1)]),_("form",{onSubmit:jr(r,["prevent"]),class:"space-y-4"},[_("div",PN,[us(_("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.name=a),type:"text",required:"",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:i.$t("endScreen.namePlaceholder")},null,8,LN),[[Ds,s.value.name]]),us(_("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.email=a),type:"email",required:"",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:i.$t("endScreen.emailPlaceholder")},null,8,ON),[[Ds,s.value.email]])]),us(_("textarea",{"onUpdate:modelValue":o[2]||(o[2]=a=>s.value.message=a),required:"",rows:"3",class:"w-full px-4 py-3 bg-[#111111] border border-gray-800 rounded-md text-white placeholder-gray-500 focus:outline-none focus:border-amber-500/50 transition-colors resize-none",placeholder:i.$t("endScreen.messagePlaceholder")},null,8,MN),[[Ds,s.value.message]]),_("button",{type:"submit",disabled:e.value,class:"w-full bg-amber-500/80 hover:bg-amber-500 disabled:bg-gray-600 text-white font-medium py-3 rounded-md uppercase tracking-wide transition-colors"},j(e.value?i.$t("endScreen.sending"):i.$t("endScreen.sendMessage")),9,DN)],32),n.value==="success"?(O(),U("div",$N,j(i.$t("endScreen.messageSent")),1)):se("",!0)]))}},zN={class:"min-h-screen bg-[#121212] text-gray-200 p-6 font-mono relative overflow-hidden"},HN={class:"max-w-4xl mx-auto relative"},qN={class:"text-center mb-12"},jN={class:"text-3xl font-bold text-amber-400/90 mb-4 uppercase tracking-widest"},UN={class:"text-gray-400 max-w-2xl mx-auto leading-relaxed"},BN={class:"space-y-6"},VN={class:"bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 hover:border-amber-500/20 transition-colors"},WN={class:"flex items-center justify-between"},GN={class:"flex items-center"},YN={class:"text-lg font-semibold text-amber-400/80 uppercase tracking-wide"},KN={class:"text-gray-500 text-sm"},QN={class:"relative"},JN={class:"text-center mt-12 space-y-8"},XN={class:"border-t border-gray-800 py-6 px-4"},ZN={class:"text-gray-500 text-sm leading-relaxed text-center space-y-4"},eP=["innerHTML"],tP={class:"text-gray-500 text-sm"},nP={__name:"LevelEnd",setup(t){const e=ln(),n=lt(),s=oe(!1),{t:r}=_e();It(()=>{n.initializeSteps()});const i=()=>{e.push("/")};return(o,a)=>(O(),U("div",zN,[a[4]||(a[4]=q_('<div class="absolute inset-0 pointer-events-none"><div class="absolute top-20 left-1/4 w-1 h-1 bg-amber-400/30 rounded-full animate-pulse"></div><div class="absolute top-32 right-1/3 w-1.5 h-1.5 bg-amber-300/40 rounded-full animate-pulse" style="animation-delay:1s;"></div><div class="absolute top-16 left-2/3 w-1 h-1 bg-yellow-400/25 rounded-full animate-pulse" style="animation-delay:2s;"></div><div class="absolute top-40 right-1/4 w-0.5 h-0.5 bg-amber-500/20 rounded-full animate-pulse" style="animation-delay:3s;"></div></div>',1)),_("div",HN,[_("div",qN,[a[2]||(a[2]=_("div",{class:"inline-flex items-center justify-center w-12 h-12 bg-amber-500/80 rounded-full mb-6"},[_("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4"})])],-1)),_("h1",jN,j(o.$t("endScreen.congratulations")),1),_("p",UN,j(o.$t("endScreen.congratulationsMessage")),1)]),_("div",BN,[_("div",VN,[_("div",WN,[_("div",GN,[a[3]||(a[3]=_("div",{class:"w-8 h-8 bg-amber-500/15 rounded-md flex items-center justify-center mr-4"},[_("svg",{class:"w-4 h-4 text-amber-400/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"})])],-1)),_("div",null,[_("h2",YN,j(o.$t("endScreen.roadmapTitle")),1),_("p",KN,j(o.$t("endScreen.roadmapDescription")),1)])]),_("div",QN,[J(Qp,{onClick:a[0]||(a[0]=l=>s.value=!0),class:"!static !top-auto !right-auto"})])])]),J(kN),J(bN),J(FN)]),J(Jp,{visible:s.value,steps:C(n).roadmapSteps,onClose:a[1]||(a[1]=l=>s.value=!1)},null,8,["visible","steps"]),_("div",JN,[_("button",{onClick:i,class:"bg-gray-700 hover:bg-gray-600 text-gray-300 font-medium py-3 px-8 rounded-md uppercase tracking-wide transition-colors"},j(o.$t("endScreen.backToMenu")),1),_("footer",XN,[_("div",ZN,[_("p",{class:"text-gray-500 text-sm mt-2 text-center [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(r)("endScreen.EndMsg")},null,8,eP),_("p",tP,j(o.$t("endScreen.EndMsg2")),1)])])])])]))}};function sP(){const t=oe(!0),e=oe(!1);return{showIntroduction:t,gameCompleted:e,returnEndScreen:()=>"returnEndScreen",startChallenge:()=>{t.value=!1},completeGame:()=>{e.value=!0}}}function rP(){const t=oe(0),e=oe(null),n=K(()=>{const i=Math.max(0,900-t.value),o=Math.floor(i/60),a=i%60;return`${o}:${a.toString().padStart(2,"0")}`}),s=()=>{e.value=setInterval(()=>{t.value++},1e3)},r=()=>{e.value&&(clearInterval(e.value),e.value=null)};return ko(()=>{r()}),{timeElapsed:t,formattedTime:n,startTimer:s,stopTimer:r}}function iP(t){const e=oe(null),n=oe(null),s=oe(""),r=oe(new Set),i=c=>{e.value=t[c],n.value=null,s.value=""},o=()=>{e.value=null,n.value=null,s.value=""};return{currentQuiz:e,selectedAnswer:n,quizError:s,completedQuizzes:r,openQuiz:i,closeQuiz:o,submitAnswer:()=>{if(n.value===null)return!1;const c=e.value;return n.value===c.correctAnswer?(r.value.add(c.id),o(),{success:!0,color:c.color}):(s.value="emergencyGame.errors.incorrectAnswer",n.value=null,{success:!1})},reviewToken:(c,u)=>{if(u[c]){const d=u[c],h=Object.keys(t).find(f=>t[f].color===d);h&&i(h)}}}}const hh={computer:{position:{top:"11%",left:"0%",width:"14%",height:"24%"},bgClass:"",hoverClass:"hover:bg-blue-400/10 hover:border-blue-300/20",color:"blue"},books:{position:{top:"2%",right:"7%",width:"13%",height:"7%",transform:"rotate(-4deg)"},bgClass:"",hoverClass:"hover:bg-green-400/10 hover:border-green-300/20",color:"green"},cabinet:{position:{bottom:"20%",left:"2%",width:"17%",height:"8%",transform:"rotate(-8deg)"},bgClass:"",hoverClass:"hover:bg-purple-400/10 hover:border-purple-300/20",color:"purple"},lifecycle:{position:{top:"14.5%",left:"30.3%",width:"32%",height:"41%"},bgClass:"",hoverClass:"hover:bg-yellow-400/10 hover:border-yellow-300/20",color:"yellow"},coffee:{position:{bottom:"24%",left:"61%",width:"5%",height:"13%"},bgClass:"",hoverClass:"hover:bg-red-400/10 hover:border-red-300/20",color:"red"},tablet:{position:{bottom:"18%",right:"10%",width:"18%",height:"29%",transform:"rotate(8deg)"},bgClass:"",hoverClass:"hover:bg-orange-400/10 hover:border-orange-300/20",color:"orange"}},fh={computer:{id:"computer",title:"emergencyGame.quizzes.computer.title",question:"emergencyGame.quizzes.computer.question",options:["emergencyGame.quizzes.computer.options.0","emergencyGame.quizzes.computer.options.1","emergencyGame.quizzes.computer.options.2","emergencyGame.quizzes.computer.options.3"],correctAnswer:1,color:"blue"},books:{id:"books",title:"emergencyGame.quizzes.books.title",question:"emergencyGame.quizzes.books.question",options:["emergencyGame.quizzes.books.options.0","emergencyGame.quizzes.books.options.1","emergencyGame.quizzes.books.options.2"],correctAnswer:1,color:"green"},cabinet:{id:"cabinet",title:"emergencyGame.quizzes.cabinet.title",question:"emergencyGame.quizzes.cabinet.question",options:["emergencyGame.quizzes.cabinet.options.0","emergencyGame.quizzes.cabinet.options.1","emergencyGame.quizzes.cabinet.options.2","emergencyGame.quizzes.cabinet.options.3","emergencyGame.quizzes.cabinet.options.4"],correctAnswer:2,color:"purple"},lifecycle:{id:"lifecycle",title:"emergencyGame.quizzes.mouse.title",question:"emergencyGame.quizzes.mouse.question",options:["emergencyGame.quizzes.mouse.options.0","emergencyGame.quizzes.mouse.options.1","emergencyGame.quizzes.mouse.options.2","emergencyGame.quizzes.mouse.options.3"],correctAnswer:0,color:"yellow"},tablet:{id:"tablet",title:"emergencyGame.quizzes.server.title",question:"emergencyGame.quizzes.server.question",options:["emergencyGame.quizzes.server.options.0","emergencyGame.quizzes.server.options.1","emergencyGame.quizzes.server.options.2","emergencyGame.quizzes.server.options.3","emergencyGame.quizzes.server.options.4","emergencyGame.quizzes.server.options.5"],correctAnswer:5,color:"orange"},coffee:{id:"coffee",title:"emergencyGame.quizzes.phone.title",question:"emergencyGame.quizzes.phone.question",options:["emergencyGame.quizzes.phone.options.0","emergencyGame.quizzes.phone.options.1","emergencyGame.quizzes.phone.options.2","emergencyGame.quizzes.phone.options.3","emergencyGame.quizzes.phone.options.4"],correctAnswer:4,color:"red"}};function oP(){const t=sP(),e=rP(),n=iP(fh),s=()=>{t.startChallenge(),e.startTimer()},r=o=>{(hh[o]&&!n.completedQuizzes.value.has(o)||n.completedQuizzes.value.has(o))&&n.openQuiz(o)},i=()=>n.submitAnswer().success?(n.completedQuizzes.value.size===6&&(t.completeGame(),e.stopTimer()),!0):!1;return{showIntroduction:t.showIntroduction,gameCompleted:t.gameCompleted,timeElapsed:e.timeElapsed,currentQuiz:n.currentQuiz,selectedAnswer:n.selectedAnswer,quizError:n.quizError,completedQuizzes:n.completedQuizzes,gameObjects:hh,quizzes:fh,formattedTime:e.formattedTime,startTimer:e.startTimer,returnEndScreen:t.returnEndScreen,startChallenge:s,openQuiz:n.openQuiz,closeQuiz:n.closeQuiz,submitAnswer:i,handleObjectClick:r}}const aP={key:0,class:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4"},lP={class:"bg-[#1a1a1a] rounded-xl border border-gray-700 max-w-4xl w-full h-[85vh] flex flex-col"},cP={class:"text-center p-6 pb-4 border-b border-gray-700/50"},uP={class:"text-4xl mb-3"},dP={class:"text-xl font-bold text-amber-400 uppercase tracking-wide"},hP={key:0,class:"mt-2 text-green-400 text-base"},fP={class:"flex-1 overflow-y-auto p-6"},mP={class:"mb-6"},pP={class:"text-gray-300 leading-relaxed text-base whitespace-pre-line"},gP={key:0,class:"space-y-3 mb-6"},_P=["onClick"],vP={class:"text-gray-300"},yP={key:1,class:"mb-6 p-4 bg-green-900/30 border border-green-600/50 rounded-lg"},bP={class:"text-green-300 font-semibold text-base"},CP={class:"text-gray-300 mb-3 text-base"},wP={key:0,class:"mt-4 p-3 bg-amber-900/30 border border-amber-600/50 rounded-lg"},EP={class:"text-amber-300 text-sm font-bold mb-2"},SP={class:"text-amber-200 text-sm mb-3"},IP={class:"flex gap-2 text-sm flex-wrap justify-center"},xP={key:2,class:"mb-4 p-3 bg-red-900/50 border border-red-600/50 rounded-lg text-red-300 text-center text-base"},TP={class:"p-6 pt-4 border-t border-gray-700/50"},kP={class:"flex gap-4"},AP=["disabled"],RP={__name:"QuizModalComponent",props:{visible:Boolean,quiz:Object,selectedAnswer:Number,quizError:String,isCompleted:Boolean,emoji:String},emits:["close","submit","update:selectedAnswer"],setup(t,{emit:e}){const n=t,s=e,r=K({get:()=>n.selectedAnswer,set:o=>s("update:selectedAnswer",o)}),i=o=>["bg-green-600/40","bg-blue-600/40","bg-yellow-600/40","bg-purple-600/40","bg-red-600/40","bg-orange-600/40"][o]||"bg-gray-600/40";return(o,a)=>t.visible?(O(),U("div",aP,[_("div",lP,[_("div",cP,[_("div",uP,j(t.emoji),1),_("h3",dP,j(o.$t(t.quiz.title)),1),t.isCompleted?(O(),U("div",hP,j(o.$t("emergencyGame.modal.completed")),1)):se("",!0)]),_("div",fP,[_("div",mP,[_("p",pP,j(o.$t(t.quiz.question)),1)]),t.isCompleted?(O(),U("div",yP,[_("p",bP,j(o.$t("emergencyGame.modal.correctAnswer")),1),_("p",CP,j(o.$t(t.quiz.options[t.quiz.correctAnswer])),1),t.quiz.id==="mouse"?(O(),U("div",wP,[_("p",EP,j(o.$t("emergencyGame.quizzes.mouse.sequenceHint.title")),1),_("p",SP,j(o.$t("emergencyGame.quizzes.mouse.sequenceHint.subtitle")),1),_("div",IP,[(O(!0),U(be,null,zt(o.$t("emergencyGame.quizzes.mouse.sequenceHint.steps"),(l,c)=>(O(),U("span",{key:c,class:qe([i(c),"px-3 py-2 rounded"])},j(l),3))),128))])])):se("",!0)])):(O(),U("div",gP,[(O(!0),U(be,null,zt(t.quiz.options,(l,c)=>(O(),U("button",{key:c,onClick:u=>r.value=c,class:qe(["w-full text-left p-4 rounded-lg border transition-all duration-200 text-base",r.value===c?"border-amber-500 bg-amber-500/20":"border-gray-600 hover:border-gray-500 bg-gray-800/50"])},[_("span",vP,j(o.$t(l)),1)],10,_P))),128))])),t.quizError?(O(),U("div",xP,j(o.$t(t.quizError)),1)):se("",!0)]),_("div",TP,[_("div",kP,[_("button",{onClick:a[0]||(a[0]=l=>o.$emit("close")),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-200 font-medium py-3 px-6 rounded-lg uppercase tracking-wide transition-colors text-base"},j(o.$t("emergencyGame.modal.close")),1),t.isCompleted?se("",!0):(O(),U("button",{key:0,onClick:a[1]||(a[1]=l=>o.$emit("submit")),disabled:r.value===null,class:"flex-1 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg uppercase tracking-wide transition-colors text-base"},j(o.$t("emergencyGame.modal.submit")),9,AP))])])])])):se("",!0)}},NP={key:0,class:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4"},PP={class:"bg-[#1a1a1a] rounded-xl border border-red-600/50 max-w-6xl w-full max-h-[90vh] flex flex-col"},LP={class:"text-center p-8 pb-6 flex-shrink-0"},OP={class:"text-2xl font-bold text-red-400 mb-4 uppercase tracking-wide"},MP={class:"flex-1 overflow-y-auto px-8"},DP={class:"space-y-4 text-gray-300 leading-relaxed mb-8"},$P={class:"bg-gray-900/30 rounded-lg p-6 mb-6"},FP={class:"text-gray-300 font-medium whitespace-pre-line italic"},zP={class:"p-8 pt-6 flex-shrink-0"},HP={class:"flex gap-4"},qP={__name:"QuizIntroComponent",props:{visible:{type:Boolean,required:!0}},emits:["returnEndScreen","startChallenge"],setup(t){const{t:e}=_e();return(n,s)=>t.visible?(O(),U("div",NP,[_("div",PP,[_("div",LP,[s[2]||(s[2]=_("div",{class:"text-4xl mb-4"},"🚨",-1)),_("h1",OP,j(n.$t("emergencyGame.title")),1)]),_("div",MP,[_("div",DP,[_("div",$P,[_("p",FP,j(n.$t("emergencyGame.introduction.message")),1)]),_("p",null,j(n.$t("emergencyGame.introduction.context")),1),_("p",null,j(n.$t("emergencyGame.introduction.urgency")),1),_("p",null,j(n.$t("emergencyGame.introduction.security")),1)])]),_("div",zP,[_("div",HP,[_("button",{onClick:s[0]||(s[0]=r=>n.$emit("returnEndScreen")),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold py-3 px-6 rounded-lg uppercase tracking-wide transition-colors"},j(n.$t("emergencyGame.introduction.return")),1),_("button",{onClick:s[1]||(s[1]=r=>n.$emit("startChallenge")),class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg uppercase tracking-wide transition-colors"},j(n.$t("emergencyGame.introduction.handleMyself")),1)])])])])):se("",!0)}},jP="/missionrdm/assets/mainscenario-CwkREGYz.png",UP={class:"p-6"},BP={class:"text-center mb-8"},VP={class:"text-2xl font-bold text-amber-400 mb-2 uppercase tracking-wide"},WP=["innerHTML"],GP={class:"relative max-w-6xl mx-auto"},YP=["onClick"],KP={key:0,class:"absolute top-2 right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-white shadow-lg"},QP={__name:"QuizGameAreaComponent",props:{gameObjects:{type:Object,required:!0},completedQuizzes:{type:Set,required:!0}},emits:["objectClick"],setup(t){const{t:e}=_e(),n=jP;return(s,r)=>(O(),U("div",UP,[_("div",BP,[_("h2",VP,j(s.$t("emergencyGame.subtitle")),1),_("p",{class:"text-gray-400 [&_a]:text-yellow-400 [&_a:hover]:text-yellow-300",innerHTML:C(e)("emergencyGame.description")},null,8,WP)]),_("div",GP,[J(bs,{imageSrc:C(n),class:"w-full"},{"clickable-areas":et(()=>[(O(!0),U(be,null,zt(t.gameObjects,(i,o)=>(O(),U("div",{key:o,onClick:a=>s.$emit("objectClick",o),class:qe(["absolute cursor-pointer transition-all duration-300 rounded-lg z-40",i.bgClass||"",t.completedQuizzes.has(o)?"border-green-400 bg-green-500/50 shadow-lg shadow-green-500/50":`${i.hoverClass} border-transparent`]),style:Co(i.position)},[t.completedQuizzes.has(o)?(O(),U("div",KP,r[0]||(r[0]=[_("span",{class:"text-sm text-white font-bold"},"✓",-1)]))):se("",!0)],14,YP))),128))]),_:1},8,["imageSrc"])])]))}},JP={class:"min-h-screen bg-[#121212] text-gray-200 font-mono relative overflow-hidden"},XP={class:"absolute top-4 right-4 z-50"},ZP={__name:"LevelQuiz",emits:["complete"],setup(t){const{t:e}=_e(),{showIntroduction:n,gameCompleted:s,timeElapsed:r,currentQuiz:i,selectedAnswer:o,quizError:a,completedQuizzes:l,gameObjects:c,startChallenge:u,closeQuiz:d,submitAnswer:h,handleObjectClick:f}=oP(),y=oe(null),m=K(()=>[{label:e("emergencyGame.success.title"),items:[e("emergencyGame.success.message",{minutes:Math.floor((900-r.value)/60)})]}]),g=()=>{zi.push("/level/end")},p=()=>{zi.push("/level/end")},E=()=>{zi.push("/level/end")};return(x,I)=>{var N;return O(),U("div",JP,[_("div",{class:"absolute top-4 left-4 z-50"},[_("button",{onClick:E,class:"bg-gray-700/80 hover:bg-gray-600 border border-gray-600 text-gray-200 font-medium py-2 px-3 rounded-lg transition-colors flex items-center justify-center"}," ⬅️ ")]),_("div",XP,[J(ys,{ref_key:"timerRef",ref:y,class:"bg-red-900/80 border border-red-600 rounded-lg"},null,512)]),J(qP,{visible:C(n),onReturnEndScreen:g,onStartChallenge:C(u)},null,8,["visible","onStartChallenge"]),!C(n)&&!C(s)?(O(),Re(QP,{key:0,gameObjects:C(c),completedQuizzes:C(l),onObjectClick:C(f)},null,8,["gameObjects","completedQuizzes","onObjectClick"])):se("",!0),J(RP,{visible:!!C(i),quiz:C(i),selectedAnswer:C(o),"onUpdate:selectedAnswer":I[0]||(I[0]=$=>He(o)?o.value=$:null),quizError:C(a),isCompleted:C(i)?C(l).has(C(i).id):!1,emoji:C(i)?(N=C(c)[C(i).id])==null?void 0:N.emoji:"❓",onClose:C(d),onSubmit:C(h)},null,8,["visible","quiz","selectedAnswer","quizError","isCompleted","emoji","onClose","onSubmit"]),J(Cs,{visible:C(s),level:7,steps:m.value,onContinue:p},null,8,["visible","steps"])])}}},eL=[{path:"/",name:"StartScreen",component:HI},{path:"/introduction",name:"Introduction",component:Q0},{path:"/level/1",name:"Level1",component:pA},{path:"/level/2",name:"Level2",component:DA},{path:"/level/3",name:"Level3",component:sR},{path:"/level/4",name:"Level4",component:xR},{path:"/level/5",name:"Level5",component:JR},{path:"/level/6",name:"Level6",component:mN},{path:"/level/end",name:"LevelEnd",component:nP},{path:"/level/quiz",name:"LevelQuiz",component:ZP}],zi=By({history:yy("/missionrdm/"),routes:eL}),tL={title:"WELCOME TO YOUR MISSION RDM",subtitle:"A serious game to learn about RDM (Research Data Management). Good luck!",enterName:"Enter your name:",namePlaceholder:"Your name",startGame:"Start Game",tutorial:"Tutorial",nameError:"Your name can only contain letters and numbers."},nL={text:`You are part of a junior research team in a Swiss tourism institute and are planning a research project about the hotel industry in Switzerland. 

Your experienced colleague and her team have already conducted their own study on the subject. Unlike her, you are not well informed about the requirements for optimal data management, as you were unable to attend your library's research data management training course. 

Your colleague Anne will be leaving for a trip to the Amazon this afternoon. Just before she leaves, she quickly drafts a roadmap with the major steps needed to complete your project and ensure proper management of your research data. As her plane is about to take off, she doesn't have time to finalize it and suggests that you go to her office, where you should find all the information you need to complete the list she has started, provided you go through her things and those of her team. 

Luckily, you can also count on Santiago, the information specialist of the institute's library, Inès, an IT specialist and Jack, the institute's legal expert, who will help you during your mission. 

But beware, there is only an hour left before the building closes for the end-of-year holidays! You will have to get out before then if you don't want to stay locked in...`,continue:"Continue"},sL={title:"Congratulations!",subtitle:"Level {level} Completed!",achievement:"You've unlocked a badge!",message:"You've successfully completed all objectives for this level!",continue:"Continue",timeMessage:"You took {time} for level {level}.",averageMessage:" The average for this level is {avgTime}.",fastMessage:" Excellent! You solved it with great focus!",thoroughMessage:" Well done! Taking your time to solve puzzles thoroughly is great!",noDataMessage:" Fantastic work completing the level!"},rL={penaltyWarning:"Time Penalty Warning",hintPenaltyWarning:"Using a hint will add 30 seconds to your timer. Are you sure you want to continue?",solutionPenaltyWarning:"Viewing the solution will add 60 seconds to your timer. Are you sure you want to continue?",acceptPenalty:"Accept Penalty",cancel:"Cancel"},iL={help:"HELP",close:"Close",solution:"SOLUTION",placeholder:"Code",delete:"⌫",enter:"Enter",callUnavailable:"I can't talk right now. Try calling me later.",call1:`Hey {playerName}! You need some help with the naming conventions? Here are some naming conventions that might help you:

→ Choose a short and meaningful file name: max 32 characters, start with the most important element and use pre-defined acronyms to limit the number of characters.

→ The file name must contain the subject, date, and version. Avoid special characters, punctuation, and accents.

→ Avoid spaces between words; use underscores and capital letters. Use standard date formats like YYYYMMDD or YYYY-MM-DD.

→ Include a pre-defined version control indicator like V05 or _final for the final version. 

Good luck and call me again if you need help!`,call2:`Hey {playerName}! Let me walk you through this over the phone. To clean data you should eliminate unnecessary fields and facilitate data analysis by ensuring standardization.

For this several software can be used. It depends on the type of data, the quantity, the resources available and the team's experience. Some example for some free tools are: OpenRefine or R

How to clean up data?

→ Identify essential data (e.g., delete unnecessary fields that were automatically added by the data collection software)
→ Identify and eliminate duplicated data
→ Resolve empty values
→ Ensure data uniformity (data of the same type should have the same form)

Important: always keep a raw version of your file, and keep track of all cleaning steps to ensure transparency and reproducibility! 

Add the correct file to the analysis software. 

Good luck and call me back if you need help!`,call3:`Hi {playerName}! I can help you with some information about format types. An open format is a file that can be read by multiple software. Using open formats serves two main objectives: 

→ Ensuring access to your documents regardless of the software used by other people 
→ Ensuring the longevity of your documents so that they remain accessible even if the software used to create them is not available or no longer exists

I will send you an email with additional information about different format types and file formats extensions. This will help you. See you!`,call4:`Hello {playerName},

During a research project, a great quantity of data is created, and it is not possible to archive/preserve all of it for several reasons: 

→ Cost related to archiving 
→ The greater the volume of archived data, the more complicated it is to discover 
→ Cost of creating and maintaining metadata 

Therefore, there is a need to 4.2 Identify data value and determine data preservation 

You may be wondering how to evaluate and select which data should be archived? It depends on many criteria. I will send you the file explaining all details. 

Good luck and call me back if you need help!`,call5:`Hey {playerName}, 

I am calling to give you some more information. 

It is essential to 4.3 add appropriate metadata to the stored data to ensure its findability. Metadata is usually described as "data about data". 

There are several types of metadata: 
→ Descriptive metadata: title, subject, data creators... 
→ Administrative metadata: file formats, versions, re-use options... 
→ Structural metadata: relationships with other entities, list of variables...

I will send you an example which is the metadata of your colleagues' project in XML format. Call me back as soon as you got it`,call6:`Thanks for calling back {playerName}, 

Unlike data documentation - which is intended to be interpretable by humans only - metadata must be machine-readable to make it discoverable online. Metadata is therefore often converted in XML. 

There are tools that can help teams to write their metadata in XML, such as the Datacite Metadata Generator. 

Metadata is standardized information. There are many patterns, both disciplinary and generic. 

Alright, hope that cleared things up! I’ve gotta dash, christmas shopping won’t do itself. 

Oh, and before I forget, add up all the numbers ONLY of the years indication to continue, catch you later!`,call7:`Hello {playerName}, 

Yeah, I remember they indeed hesitated about several repositories…

Let me think…

… I remember, in the end, the research team chose a repository that is free and whose servers are all located in Switzerland. Open the comparison of the three repositories to find the correct answer. 

Add 70 to the number (#) of the chosen repository. 

Good luck!`,call8:`Jack speaking. 

Ah, yes {playerName}, the Creative Commons and copyright discussion. I remember…

So first, let me help with some words. Creative Commons licenses are distribution licenses that allow certain rights of use to be granted in advance on published materials. They are complementary to the author's copyright. 

I’ll send over a little overview with the licensing options. It’s got icons, legal phrasing, and all that good stuff. 

You’ll know which one fits when you see it.

Good luck!`,call9:`Hey {playerName}, I heard you need some help with identifiers, right? Let me help you

There are two main types of identifiers: 
→ Object identifiers for publications and data
→ Contributor identifiers for authors and organizations 

Here are some examples of identifiers:
 → Handle 20.1000/100
 → DOI doi:10.1000/182
 → ORCID 0000-0002-1825-0097
 → ArXiv author ID arXiv:0706.0001

For example, Handle and DOI are digital objects identifiers, while ORCID and ArXiv author ID are contributor identifiers.

Good luck!`,hoverCall:"Call",codeAlreadyFound:"Already found!",codeFound:"Correct code!",invalidCode:"Wrong code!",messageBodylvl1:`Hello {playerName}, 

The DMP or Data Management Plan is a document drafted in the preliminary phase of a research project and completed as the project progresses. 

It helps organize and anticipate all the stages of the data lifecycle. It explains how the project's data is managed, from creation to sharing and archiving. 

The different steps you will discover in the course of your investigations will help you understand how to properly complete each section of the DMP. 

Good luck!`,messageBodylvl2:`Hey {playerName}, 

One of our colleagues recorded several versions of the data collected through the questionnaire during the cleaning process. I will send them to you right now. Can you please analyze them? Out of the three, which one is the cleanest ? Which option are we able to add to the analysis software? 

Wait let me call you it will be easier to explain.`,messageBodylvl3:`Hello {playerName}, 

In short, when research teams get ready to archive their data, they should make sure to choose formats that are: 

→ open 
→ non-encrypted 
→ uncompressed 
→ used and recognized in their field 
→ interoperable 

I hope this helped you! See you soon!`,messageBodylvl4:`Hi {playerName}, 

I just boarded my plane! Can't wait to get there *.* But I forgot to warn you: for information on data sharing, check Rachel's computer, it should be in her office (number 47). Have a great holiday! P.S: Don't forget to go home before the building closes ;)`,incomingCall:"Incoming Call",outgoingCallRequired:"Call Required",answerCall:"Tap to answer the call",makeCall:"Tap to make the call",placeholderIncoming:"Answer call",placeholderOutgoing:"Make call",answerFirst:"Answer Call First",callFirst:"Make Call First",mustCallFirst:"You must handle the pending call first!",endCall:"End Call",media:"Mobile",connection:"Connected"},oL={title:"Roadmap",entries:"No entries yet...",complete:"Completed",step1:"Step 1: Project design and planning",step1_1:"1.1 Writing the DMP",step1_1_A:"A. Administrative information",step1_1_B:"B. Data collection",step1_1_C:"C. Documentation and metadata",step1_1_D:"D. Ethics and legal compliance",step1_1_E:"E. Storage and backup strategies",step1_1_F:"F. Selection and conservation",step1_1_G:"G. Data sharing",step1_1_H:"H. Responsibilities and resources",step1_2:"1.2 File structure and naming conventions",step1_3:"1.3 Reflect on the data produced or reused ",step1_4:"1.4 Consider legal and ethical aspects",step1_5:"1.5 Analyze sotrage cost",step2:"Step 2: Data collection/creation",step2_1:"2.1 Backup and storage strategies",step2_2:"2.2 Collect/obtain data",step2_3:"2.3 Document your project",step3:"Step 3: Data processing and analysis",step3_1:"3.1 Data Cleaning",step3_2:"3.2 Data analysis",step3_3:"3.3 Data visualization",step4:"Step 4: Data preservation and archiving",step4_1:"4.1 Use an open file format",step4_2:"4.2 Identify data value and determine data preservation",step4_3:"4.3 add appropriate metadata",step4_4:"4.4 Anonymize data (if necessary)",step5:"Step 5: Data sharing",step5_1:"5.1 select a data repository",step5_2:"5.2 Determine access conditions",step5_3:"5.3 Choose a persistent identifier",step5_4:"5.4 Assign a copyright reuse license",step6:"Step 6: Data reuse",step6_1:"6.1 Evaluate data access and reuse",step6_2:"6.2 Prepare dataset citation"},aL={title:"Tutorial",subtitle:"In this game, you will discover the basics of research data management (RDM) through a series of challenges. Your mission: complete your roadmap to obtain a simple step-by-step guide on research data management.",instructions:"Carefully observe your environment, spot the numbers, clickable elements and clues that will allow you to progress in the game in order to identify the data management tasks that will complete your roadmap.",step1:"Your phone will allow you to enter the numbers found and ask for help.",step2:"A team of three specialists will accompany you on your quest: Santiago, the institute's library information specialist, Inès, an IT specialist, and Jack, the institute's legal expert.",step3:"By clicking on the roadmap, you will see the data lifecycle steps already completed.",step4:"You are now ready to take on the challenge of Mission RDM! Let's play!",backToStart:"Back"},lL={submit:"Submit"},cL={title1:"1.1 Writing the DMP",question1:`Try solving this riddle to find the first steps of the roadmap. Use what you see here to find the answer. 

Enter in each input field one of the steps of the DMP that you can see in the image. You do not need to use 1.1., B., C., E., F. and G. in your answers.

Good luck!`,placeholder1:"Enter your answer ",placeholder2_1:"1.1.",placeholder2_2:"B.",placeholder2_3:"C.",placeholder2_4:"E.",placeholder2_5:"F.",placeholder2_6:"G.",correctAnswers1:["Writing the DMP","Data collection","Documentation and metadata","Storage and backup strategies","Selection and conservation","Data sharing"],correct1:"Correct, well done!",incorrect1:"Incorrect, try again! You do not need to use 1.1., B., C., E., F. and G. in your answers."},uL={title:"Error",incorrect77:"Incorrect, this file does not use the best naming practices. It is not recommanded to use punctuation in file names. Try again!",incorrect82:"Incorrect, this file does not use the best naming practices. There is a better way to indicate the versions of a file. Try again!",incorrect25:"Incorrect, this file does not use the best naming practices. You should avoid using special characters and spaces between words. Try again!"},dL={title:"Error",incorrect76:"Incorrect, this file does not correspond to the best version of cleaned data. The data is completely mixed up, some cells are empty without explanation and there are some duplicated data.",incorrect78:"Incorrect, this file does not correspond to the best version of cleaned data. The data is not standardized, some cells are empty without explanation and there are some duplicated data."},hL={title:"Error",incorrect:"Wrong answer, try again!"},fL={title:"Error",incorrect93:"Wrong answer! In this case, the scientific article and the data itself must both be accessible. The research team wished to follow the good practices of Open Access. Try again!",incorrect94:"Wrong answer! In this case, the research team did not make the data available only on request because it does not follow the good practices of Open Access. Try again!",incorrect95:"Wrong answer! In this case, the data is not protected by an embargo. Embargoes are typically used when a publication comes out before the underlying data is shared. This can be the case when the data is linked to commercial uses, such as a patent for example. Try again!"},mL={title:"Error",incorrect:"Wrong answer, try again!"},pL={checkRoadmap:"Check your roadmap"},gL={hints:{first:"Need a little break? A coffee could help.",second:"Count the post-it notes on the desk.",third:"Take a look at the date the DMP is due.",fourth:"It's a coded message! The hint is written directly where you enter the solution. Use the title as decoding key. Enter again the code 29 and try to decipher it.",fifth:"Have you checked the file explorer? maybe try to open it.",sixth:"One of the folder seems particularly interesting.",seventh:"Which file best respects the naming rules? Call Santiago to get some help.",eigth:"You’ve organized your project structure... now just make sure the right access is granted to continue."},solutions:{first:"Enter number 8 (in the coffee cup).",second:"There are 4 large post-it notes on the desk -> Enter number 4.",third:"Enter number 29 (in notebook).",fourth:`Enter number 29 again and solve it with this solution:
Writing the DMP 
data collection
documentation and metadata
storage and backup strategies
selection and conservation 
data sharing`,fifth:"Click on the file explorer icon on the screen to open it.",sixth:'Click on the folder "Folder_Click_Old-Versions" to open it.',seventh:"OFS_Continental_20200628_V01.png -> Enter number 28.",eigth:'Click on the folder "Access_Granted" to get to the next level.'}},_L={hints:{first:"Keys can help you open doors.",second:"A little bit of math will certainly be necessary.",third:"Take a look at the names of the sheets, what could this file contain... ... + this one?",fourth:"Sometimes examples are the best way to understand.",fifth:"The reception desk is a good place to start.",sixth:"A little bit of math will certainly be necessary.",seventh:"Isn't there something behind the plant?",eighth:"You'll have to walk a bit."},solutions:{first:"Enter number 9 (in the key box).",second:"Enter number 15 (Backup number: 7.5 x 2).",third:"Enter number 31 (Addition both sheet names -> 15 + 16).",fourth:"Enter number 1 (examp1e.odt).",fifth:"Enter number 36 (R36CEPTION on the reception desk).",sixth:"Enter number 7 (3 + 2 + 1 + 1 + 0 = 7).",seventh:"Click on the post-it note behind the plant to read it.",eighth:"Enter number 11 (11th floor)."}},vL={hints:{first:"You may find the books interesting.",second:"The chapter from the book looks interesting.",third:"Have you anything planned for the month?",fourth:"Sometimes we have to be a little patient with the technology.",fifth:"Have you opened all the files that Inès sent you?",sixth:"It looks like you have to + a file to start the analysis",seventh:"Which brand of computer do you prefer?",eighth:"The infographic shows the number of hotels listed.",ninth:"Did you notice the corkboard behind your colleague's desk?",tenth:"Get in touch with the IT department."},solutions:{first:"Enter number 17 (the title of the book im roman numbers).",second:"Enter number 33 (the chapter number in the book).",third:"Click on the 19th of the month in the calendar to continue.",fourth:"Be patient, sometimes technology takes a little longer to load. It will automatically load in a few seconds.",fifth:"Enter numbers 57, 58 and 59 (the three files Inès sent you).",sixth:"Enter number 77 (the correct file (58) + the number of the pc (19)).",seventh:'Enter number 22 ("brand of computer" on the desk).',eighth:"Enter number 64 (the number is written in bold on the infographic).",ninth:"Click on the post-it note on the corkboard to read it.",tenth:"Enter number 99 (the phone number of the IT department on the post-it)."}},yL={hints:{first:"The screens might be useful.",second:"Call Inès to get some help.",third:"Inès sent you some files, have you checked them?",fourth:"Inès sent you some files, have you checked them?",fifth:'Find all the numbers in the "acceptable formats" column and add them up.',sixth:"A logo can sometimes contain useful information.",seventh:"Call Santiago to get some help.",eighth:"Santiago sent you an email, have you checked it?",ninth:"Some letters are highlighted, what could they mean?",tenth:"Santiago sent you an email, have you checked it?",eleventh:"Call back Santiago to get some information.",twelfth:"Santiago gave you a hint during the call, have you checked it? (hint: 2020 = 2 + 0 + 2 + 0 = 4)",thirteenth:"Anne sent you in the message the number of the office where you can find Rachel's computer. To read the message again, enter the number 99."},solutions:{first:"Click on the folder explorer icon on the screen to open it.",second:"Click on the icon to call Inès and get some help.",third:"Enter number 4 (FORM4T).",fourth:"Enter number 51 (EXTEN51ONS).",fifth:"Enter number 23 (5 + 4 + 2 + 3 + 3 + 3 + 3 = 23).",sixth:"Enter number 81 (side of the desk).",seventh:"Click on the icon to call Santiago and get some help.",eighth:"Enter number 1 (ONE NEW MESSAGE).",ninth:"Enter number 61 (read the highlighted letters to find the number sixty-one).",tenth:"Click on the message icon to read the email from Santiago.",eleventh:"Click on the icon to call Santiago and get some information.",twelfth:"Enter number 17 (added all numbers of the years).",thirteenth:"Enter number 47 (the office number where you can find Rachel's computer)."}},bL={hints:{first:"Not all numbers hide in files some live in names.",second:"History is engraved on the screen.",third:"Call Santiago to get some help.",fourth:"Santiago said how the research team chose the repository, have you checked it?",fifth:"Jack sent you an email, have you checked it?",sixth:"Jack said how the research team chose the access conditions, have you checked it?",seventh:"Call Jack to get some help.",eighth:"Jack sent you an email, have you read the attached pdf file?",ninth:"Which of the copyright reuse licenses is the best fit for the needs of the research team?",tenth:"Call Inès to get some help.",eleventh:"Which identifier matches that of a dataset? Inès explained it to you during the call. Call her back if you need more information.",twelfth:"Is it Rachel that wrote on the tablet? It looks interesting..."},solutions:{first:"Enter number 3 (re3data.org on the screen).",second:"Enter number 19 (CHICAGO COVID-19 RESPONSE on the screen).",third:"Call Santiago to get some help.",fourth:"Enter number 71 (only repository with servers in Switzerland and free of charge).",fifth:"Click on Jack's message to read the email.",sixth:"Enter number 96 (data is freely available and can be accessed by anyone).",seventh:"Call Jack to get some help.",eighth:"Enter number 8 (CopyEIGHT.pdf instead of copyright).",ninth:"Enter number 6 (this one makes data reuse possible on the condition that they get credited for their work).",tenth:"Call Inès to get some help.",eleventh:"Enter number 84 (DOI is correct).",twelfth:"Click on the tablet to continue to the next level."}},CL={hints:{first:"To memorize things, sometimes it is useful to write them down.",second:"Sometimes you have to read between the lines.",third:"I have a feeling there's additional information hiding somewhere...",fourth:"Add the views and downloads for all versions"},solutions:{first:"Enter number 2 (2 pens in total on the table).",second:"Enter number 1 (First, bold letters of: O-nly N-erds E-xamine = ONE).",third:'Click on the screen on "See more details" to see the additional information.',fourth:"Enter number 1323 (1169 + 154 = 1323)."}},wL={one:"Click to open the folder explorer",two:"Click to open the folder",three:"Looks like you’ve got the right access...",four:"Is this a post-it note?",five:"Click to zoom and view the post-it note",six:"This could be an interesting date",seven:"Click to open the message",eight:"Click to zoom and view the note",nine:"Click to open"},EL={congratulations:"Congratulations!!",congratulationsMessage:"Congratulations! You have successfully completed your mission and your roadmap. It will be your guide throughout your own project. You've done a great job, and you can finally get into vacation mode yourself! You will be back in shape in January, ready to tackle your research project and ensure good management of your data.",roadmapTitle:"Your Research Roadmap",roadmapDescription:"This roadmap will guide you through your upcoming research project:",contactTitle:"Contact & Feedback",nameLabel:"Your Name",namePlaceholder:"Enter your full name",emailLabel:"Email Address",emailPlaceholder:"Enter your email address",messageLabel:"Message",messagePlaceholder:"Share your feedback, questions, or suggestions...",sendMessage:"Send Message",sending:"Sending...",messageSent:"Message is processed...",messageError:"Sorry, there was an error sending your message. Please try again.",theoryTitle:"Supplementary theoretical guide",theoryDescription:"Download our complementary guide, which covers all the theory presented in this game, or access the sources and documents for the original version.",viewPDF:"See the complementary guide",openLink:"See the original game",optional:"RECOMMENDED",testGameTitle:"Knowledge Challenge",testGameDescription:"Test your understanding with 6 questions about what you've learned.",challenge:"Challenge",quickTest:"15 min",startTest:"Start Challenge",testGameNote:"This is completely optional but highly recommended to reinforce your learning!",backToMenu:"Back to Main Menu",EndMsg:"This game is based on<a href='https://doi.org/10.5281/zenodo.7985732' target='_blank' rel='noopener'> the eponymous educational escape game</a> created by <a href='https://orcid.org/0000-0001-8197-4613' target='_blank' rel='noopener'>Myriam Jouhar</a>, <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a> and <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a> as part of a research project for the Master's in Information Sciences at the Geneva School of Business Administration in 2021. This digital version was created by Johanna Summermatter as part of a Bachelor's thesis in Business Information Technology in 2025 at HES-SO Valais-Wallis on behalf of the game's creators.",EndMsg2:"Thank you for playing!"},SL={title:"URGENT: EMAIL dated 23.12 at 17:45 from the Swiss National Science Foundation",subtitle:"RDM SKILLS TEST",description:"Click on the objects to test your skills. If you need help, use the <a href='https://hevs.allinone.io/media/document/22/mission-rdm-2024-complementary-guide.pdf' target='_blank' rel='noopener'>complementary guide</a>.",introduction:{message:`Reminder: Don't forget to send in your preliminary project submission before January 1st.

To obtain a deadline extension, please send us proof of your research data management skills.`,context:"You hear the security guard's keys jingling down the hallway. The building locks at 18:00 sharp. You really need to leave before then, and with all the holiday meals planned for next week, it won't be possible to submit your preliminary project on time.",urgency:"Fortunately, you have now completed your checklist and received guidance from Santiago, Inès, and Jack.",security:"Take the test to demonstrate your new data management skills and obtain the extension.",return:"Do not perform the test now (return to end page)",handleMyself:"Perform the test"},timer:{timeRemaining:"Time Remaining"},quizzes:{computer:{title:"Data Backup Crisis",question:`You worked on your data analysis last week on the train. Your file is stored in your personal laptop. To be safe, you also made a backup on your USB stick. 

Sadly, when you left the train, you forgot your backpack (with your laptop and USB stick) on the train. After a week, it still hasn't been found and this means that you will have to start the data collection phase of your project again. 

According to the 3 2 1 1 0 rule, what should you have done to minimize the risk of losing your data?`,options:["Always at least two different USB sticks","Save a copy of the data on your institutional network server which is backed up daily","Always at least 2 online copies","Save a copy of the data on Dropbox"]},books:{title:"Data Cleaning Versions",question:`Data cleaning completed which version to use? 

VERSION A: hotel_cleaned_quick.csv
- 347 empty cells filled with "0" 
- 89 duplicates deleted 
- Original file overwritten (save storage space)
- Ready for analysis

VERSION B: hotel_cleaned_documented.csv
- 347 empty cells marked as "NA"
- 89 duplicates removed
- Raw data saved separately as "hotel_raw_backup.csv"
- All steps documented in "cleaning_protocol.txt"
- Ready for analysis

VERSION C: hotel_cleaned_fast.csv
- All rows with empty cells completely deleted (521 hotels gone!)
- Very clean data
- Fast processing possible
- Original deleted`,options:["Version A: hotel_cleaned_quick.csv","Version B: hotel_cleaned_documented.csv","Version C: hotel_cleaned_fast.csv"]},cabinet:{title:"File Naming Chaos",question:`Help! 

The project folder contains these files mixed up:

- hotel data 2024-03-15 v1.csv
- HOTEL-ANALYSIS_FINAL!!!.xlsx
- hotel_survey_20240315_AG_v01.csv
- Final Results (copy).pdf
- hotel_data_FINAL_FINAL.xlsx

The team is completely confused:
- Nobody knows which file is current
- Spaces and special characters everywhere
- No consistent versioning
- Date sometimes there, sometimes not

Which file most closely complies with recommended naming conventions?`,options:["hotel data 2024-03-15 v1.csv","HOTEL-ANALYSIS_FINAL!!!.xlsx","hotel_survey_20240315_AG_v01.csv","Final Results (copy).pdf","hotel_data_FINAL_FINAL.xlsx"]},mouse:{title:"RDM Lifecycle Order",question:`Chaos! The RDM roadmap is all mixed up!

Your colleague left 6 Post-its, but the wind blew them off the monitor:

🟡(1) "Data processing and analysis"
🟢(2) "Project design and planning"
🔵(3) "Data collection/creation"
🟠(4) "Data reuse"
🟣(5) "Data preservation and archiving"
🔴(6) "Data sharing"

According to the RDM lifecycle: In which order should these 6 phases be executed?`,options:["🟢 - 🔵 - 🟡 - 🟣 - 🔴 - 🟠","🟡 - 🟢 - 🔵 - 🟣 - 🔴 - 🟠","🟢 - 🔵 - 🟡 - 🔴 - 🟣 - 🟠","🔵 - 🟢 - 🟡 - 🟣 - 🔴 - 🟠"],sequenceHint:{title:"🔐 UNLOCK SEQUENCE REVEALED:",subtitle:"The Post-it colors show the final unlock order:",steps:["1st: 🟢 Planning","2nd: 🔵 Collection","3rd: 🟡 Analysis","4th: 🟣 Archive","5th: 🔴 Sharing","6th: 🟠 Reuse"]}},server:{title:"Repository Selection",question:"You are looking for a repository to share your data. Among the criteria below, which one will you NOT use to guide your choice?",options:["The ability to choose access conditions for the data","Assignment of a unique identifier (DOI)","The ability to choose a reuse license","The ability to use multiple open file formats","A clear long-term preservation policy","The beauty of the interface"]},phone:{title:"Data Documentation",question:"Several files can be used to document your research project. Among the following options, which one is NOT directly related to data documentation?",options:["README file","Data Management Plan (DMP)","Codebook","Research protocol","Slides presented at a conference"]}},modal:{completed:"✓ COMPLETED - Review Mode",correctAnswer:"Correct Answer:",close:"Close",submit:"Submit"},success:{title:"Deadline Extension Granted!",message:"Congratulations! You've successfully demonstrated your data management skills and saved your holiday. You can submit your project on 30 January.",continue:"Return to End Screen"},errors:{incorrectAnswer:"Incorrect answer. Please try again."}},IL={startScreen:tL,intro:nL,congrats:sL,timer:rL,phone:iL,roadmap:oL,tutorial:aL,riddle:lL,riddle1:cL,riddle2:uL,riddle3:dL,riddle4:hL,riddle5:fL,riddle6:mL,hints:pL,level1:gL,level2:_L,level3:vL,level4:yL,level5:bL,level6:CL,click:wL,endScreen:EL,emergencyGame:SL},xL={title:"BIENVENUE DANS VOTRE MISSION GDR",subtitle:"Un jeu sérieux pour apprendre la GDR (Gestion des Données de Recherche). Bonne chance !",enterName:"Entrez votre nom :",namePlaceholder:"Votre nom",startGame:"Démarrer le jeu",tutorial:"Tutoriel",nameError:"Votre nom ne peut que contenir des lettres et des chiffres"},TL={text:`Vous faites partie d’une jeune équipe de recherche d'un institut en tourisme en Suisse et prévoyez de vous lancer dans un projet de recherche sur l’hôtellerie en Suisse.

Votre collègue, Anne, avec son équipe, a déjà mené une étude sur le sujet. Contrairement à elle, vous n’êtes pas au clair sur les besoins liés à la gestion de vos données, car vous n'avez pu participer à la formation de la Bibliothèque sur la thématique de la gestion des données de la recherche.

Votre collègue part en vacances en Amazonie cet après-midi. Juste avant son départ, elle rédige rapidement l’ébauche d’une feuille de route avec les grandes étapes pour mener à bien votre projet et assurer une gestion adéquate de vos données.

Comme son avion va bientôt décoller, elle n’a pas le temps de terminer et vous propose de vous installer à son bureau où vous trouverez toutes les informations pour compléter la liste qu’elle a commencée, à condition de fouiller un peu dans ses affaires et celles de son équipe...

Heureusement, vous pouvez aussi compter sur Santiago, le spécialiste en information documentaire qui travaille dans la bibliothèque de votre institution, Inès, l’informaticienne, ainsi que Jack le juriste, qui vous aideront pendant votre quête.

Mais attention, il ne reste qu’une heure avant la fermeture de l’institut pour les vacances de Noël, il vous faut donc sortir avant cela si vous ne voulez pas y rester coincés !`,continue:"Continuer"},kL={title:"Félicitations !",subtitle:"Niveau {level} Terminé !",achievement:"Vous avez débloqué un badge !",message:"Vous avez terminé avec succès tous les objectifs de ce niveau !",continue:"Continuer",timeMessage:"Vous avez pris {time} pour le niveau {level}.",averageMessage:" La moyenne pour ce niveau est de {avgTime}.",fastMessage:" Excellent ! Vous l'avez résolu avec une grande concentration !",thoroughMessage:" Bien joué ! Prendre son temps pour résoudre les énigmes en profondeur, c'est formidable !",noDataMessage:" Fantastique travail pour terminer le niveau !"},AL={title:"Tutoriel",subtitle:"Dans ce jeu, vous découvrirez les bases de la gestion des données de recherche (GDR) à travers une série de défis. Votre mission: compléter votre feuille de route afin d'obtenir un guide simple en étapes sur la gestion des données de la recherche.",instructions:"Observez minutieusement votre environnement, repérez les chiffres, les éléments cliquables et les indices qui vous permettront de progresser dans le jeu afin d'identifier les tâches de gestion des données qui compléterons votre feuille de route.",step1:"Votre téléphone vous permettra d'entrer les chiffrés trouvés et demander de l'aide.",step2:"Une équipe de trois spécialistes vous accompagnera dans votre quête: Santiago, le spécialiste en information documentaire, Inès, l'informaticienne et Jack, le juriste.",step3:"En cliquant sur la feuille de route, vous verrez les étapes du cycle de vie des données déjà complétées.",step4:"Vous êtes désormais prêt-e-s à relever le défi de Mission GDR ! A vous de jouer !",backToStart:"Retour"},RL={penaltyWarning:"Avertissement de Pénalité de Temps",hintPenaltyWarning:"Utiliser un indice ajoutera 30 secondes à votre chronomètre. Êtes-vous sûr de vouloir continuer ?",solutionPenaltyWarning:"Consulter la solution ajoutera 60 secondes à votre chronomètre. Êtes-vous sûr de vouloir continuer ?",acceptPenalty:"Accepter la Pénalité",cancel:"Annuler"},NL={help:"AIDE",close:"Fermer",solution:"SOLUTION",placeholder:"Code",delete:"⌫",enter:"Valider",callUnavailable:"Je ne peux pas parler pour le moment. Essayez de m'appeler plus tard.",call1:`Hello {playerName} ! Vous avez besoin d'aide en ce qui concerne les conventions de nommage ? Voici quelques conventions de nommage qui pourraient vous aider :

→ Choisir un nom de fichier court et significatif : max 32 caractères, commencer par l'élément le plus important et utiliser des abréviations prédéfinies pour réduire le nombre de caractères.

→ Le nom du fichier doit contenir le sujet, la date et la version. Éviter les caractères spéciaux, la ponctuation et les caractères accentués.

→ Éviter les espaces entre les mots; utiliser le tiret souligné (underscore) "_" et des majuscules. Indiquer les dates dans le bon format comme AAAAMMJJ ou AAAA-MM-JJ.

→ Indiquer les versions comme V05 ou VF pour version finale. 

Bonne chance et n'hésitez pas à me rappeler si vous avez besoin d'aide !`,call2:`Hello {playerName} ! Je vais vous expliquer cela par téléphone. Afin de nettoyer les données, il faut éliminer les champs superflus et faciliter leur analyse en assurant leur standardisation. 

Pour cela, plusieurs logiciels peuvent être utilisés. Cela dépend du type de données, de leur quantité, des ressources à disposition, des connaissances de l’équipe. Voici quelques exemples d'outils gratuits: OpenRefine ou R. 

Comment nettoyer les données ?

→ Identifier les données essentielles (p. ex. supprimer certains champs ajoutés automatiquement par le système de gestion utilisé pour la collecte)
→ Identifier et éliminer les doublons
→ Résoudre les valeurs vides
→ Assurer la cohérence des données (toutes les données de même type doivent avoir la même forme)

Attention : gardez toujours une version brute de votre fichier, et notez toutes les étapes de nettoyage pour assurer la transparence et la reproductibilité de votre démarche !  

Ajoutez le fichier correct au logiciel d'analyse. 

Bonne chance et n'hésitez pas à m'appeler si vous avez besoin d'aide !`,call3:`Hello {playerName} ! Je vous donne quelques informations sur les formats de fichiers ouverts. 

Un format ouvert est un format de fichier pouvant être lu par plusieurs logiciels. L’utilisation de formats ouverts a deux objectifs principaux :

→ Assurer un accès à vos documents sans vous soucier du logiciel utilisé par les personnes qui les consulteront dans le futur.
→ Assurer la pérennité de vos documents, afin de pouvoir les ouvrir même si le logiciel utilisé pour les créer n’est pas disponible ou n’existe plus.

Je vous enverrai un e-mail contenant des informations supplémentaires sur les différents types de formats et les extensions de formats de fichiers. Cela vous aidera. A bientôt !`,call4:`Bonjour {playerName}, 

Pendant un projet de recherche, de nombreuses données sont créées et il n’est pas possible de toutes les archiver/conserver, pour plusieurs raisons : 

→ Coûts liés à l’archivage 
→ Plus le volume de données archivées est élevé, plus leur découverte est compliquée 
→ Coûts liés au maintien et à la création de métadonnées 

 Il est donc nécessaire de 4.2 identifier la valeur des données et les données à conserver 

Vous vous demandez peut-être comment évaluer les données et sélectionner lesquelles doivent être archivées ?  Cela dépend de nombreux critères. Je vous envoie le fichier qui explique tous les détails. 

À bientôt !`,call5:`Bonjour {playerName}, 

Je vous appelle pour vous donner plus d'informations. 

Il est nécessaire de 4.3 ajouter des métadonnées adéquates aux données stockées, afin de permettre leur recherche et leur découverte. Les métadonnées sont généralement présentées comme des «données à propos des données».

Il existe plusieurs types de métadonnées :

→ Métadonnées descriptives : titre, sujet, créateurs des données… 
→ Métadonnées administratives : formats de fichiers, versions, droits de réutilisation… 
→ Métadonnées structurelles : relations avec d’autres entités, liste de variables…

Je vous envoie un exemple de métadonnées du projet de vos collègues au format XML. Rappelez-moi dès que vous avez reçu l'exemple.`,call6:`Merci d'avoir rappelé {playerName} ! 

A l’inverse de la documentation des données qui a pour objectif d’être interprétable par des humains uniquement, les métadonnées doivent pouvoir être lues par des machines afin de permettre leur découverte sur le web, c’est pourquoi elles sont souvent décrites en XML. 

Des outils peuvent aider les équipes à rédiger leurs métadonnées au format XML, par exemple le Datacite Metadata Generator. 

Ce sont des renseignements standardisés. Il en existe de nombreux schémas, disciplinaires ou généralistes. 

Bon, j'espère que ça a éclairci les choses ! Il faut que j'y aille, les courses de Noël ne se font pas toutes seules. Oh, et avant que j'oublie, additionnez tous les chiffres SEULEMENT des indications d'années pour continuer, à plus tard !`,call7:`Hello {playerName}, 

Oui, je me souviens qu'ils ont en effet hésité...

 Laissez-moi réfléchir...

… Je me souviens, finalement, l’équipe a choisi un dépôt gratuit et ayant ses serveurs en Suisse.

Ajoutez 70 au numéro du dépôt choisi. 

 Bonne chance pour la suite !`,call8:`Bonjour, Jack à l'appareil. 

Ah, oui {playerName}, la discussion sur les creative commons et le droit d'auteur. Je me souviens…

 Permettez-moi tout d'abord de vous aider avec quelques mots. Les licences creative commons sont des licences de diffusion qui permettent d'accorder à l'avance certains droits d'utilisation sur les œuvres diffusées mais elles restent complémentaires au droit d'auteur. 

 Je vous enverrai un petit aperçu des options de licence. Il y a des icônes, des formulations juridiques et toutes ces bonnes choses.`,call9:`Hello {playerName}, 

j’ai entendu dire que tu avais besoin d’un coup de main avec les identifiants, c’est bien ça ? Laisse-moi t’aider.

Il existe deux types d’identifiants : 
→ identifiants objet pour les publications et les données
→ identifiants contributeur pour les auteur-e-s et les institutions

Voici des exemples d’identifiants
 → Handle 20.1000/100
 → DOI doi:10.1000/182
 → ORCID 0000-0002-1825-0097
 → ArXiv author ID arXiv:0706.0001

Par exemple, Handle et DOI sont des identifiants d’objets numériques. Alors que ORCID et ArXiv author ID sont des identifiants de contributeurs. 

 Bonne chance !`,hoverCall:"Appeler",codeAlreadyFound:"Déjà trouvé",codeFound:"Code correct",invalidCode:"Code incorrect",messageBodylvl1:`Bonjour {playerName}, 

Le DMP ou Plan de gestion de données est un document qui est rédigé dans la phase préliminaire d’un projet puis complété au fur et à mesure de l’avancée de la recherche. Il aide à organiser et anticiper toutes les étapes du cycle de vie de la donnée. Il explique comment les données du projet sont gérées, de la création jusqu’au partage et à l’archivage.

Les étapes que vous allez découvrir dans la suite de vos investigations vont vous permettre de comprendre comment bien remplir chaque partie du DMP.

Bonne chance !`,messageBodylvl2:`Bonjour {playerName}, 

Un de nos collègues a enregistré plusieurs versions des données recueillies via le questionnaire pendant le processus de nettoyage. Je vous les envoie tout de suite. Pourriez-vous, s’il vous plaît, les analyser ? Parmi les trois, quelle version est la plus propre ? Quelle option pourrions-nous ajouter au logiciel d’analyse ? C'est plus simple si je vous explique par téléphone. Je vous appelle tout de suite.`,messageBodylvl3:`Bonjour {playerName}, 

En résumé, lorsque les équipes de recherche se préparent à archiver leurs données, elles doivent s’assurer de choisir des formats qui sont : 

→ ouverts 
→ non chiffrés 
→ non compressés 
→ utilisés et reconnus dans leur domaine 
→ interopérables 

J'espère que cela vous a aidé ! À bientôt !`,messageBodylvl4:`Salut {playerName}, 

Je viens d’embarquer! J’ai  trop hâte *.* J’ai oublié de te prévenir : pour les infos sur le partage des données, consulte l’ordinateur de Rachel, il doit être dans son bureau (le numéro 47). Bonnes vacances! P.S: N’oublie pas de rentrer chez toi avant la fermeture ;)`,incomingCall:"Appel entrant",outgoingCallRequired:"Appel requis",answerCall:"Appuyez pour répondre",makeCall:"Appuyez pour passer l'appel",placeholderIncoming:"Répondez d'abord...",placeholderOutgoing:"Appelez d'abord...",answerFirst:"Répondre d'abord",callFirst:"Appeler d'abord",mustCallFirst:"Vous devez d'abord gérer l'appel en attente !",endCall:"Terminer l'appel",media:"Téléphone portable",connection:"Connecté"},PL={title:"Roadmap",entries:"Aucune entrée pour l'instant...",complete:"Terminé",step1:"Étape 1. Elaboration et planification du projet",step1_1:"1.1 Rédiger le DMP",step1_1_A:"A. Informations administratives",step1_1_B:"B. Collecte des données",step1_1_C:"C. Documentation et métadonnées",step1_1_D:"D. Éthique et conformité légale",step1_1_E:"E. Stockage et sauvegarde",step1_1_F:"F. Sélection et conservation",step1_1_G:"G. Partage des données",step1_1_H:"H. Responsabilités et ressources",step1_2:"1.2 Règles de nommage et d’organisation des fichiers",step1_3:"1.3 Réfléchir aux données produites ou réutilisées",step1_4:"1.4 Réfléchir aux aspects juridiques et éthiques",step1_5:"1.5 Analyser les coûts liés au stockage",step2:"Étape 2. Collecte/création des données",step2_1:"2.1 Stratégies de sauvegarde et de stockage",step2_2:"2.2 Collecter/acquérir des données",step2_3:"2.3 Documenter son projet",step3:"Étape 3. Traitement et analyse des données",step3_1:"3.1 Nettoyer les données",step3_2:"3.2 Analyse des données",step3_3:"3.3 Visualisation des données ",step4:"Etape 4. Préservation et archivage des données",step4_1:"4.1 Utiliser des formats de fichiers ouverts",step4_2:"4.2 Identifier la valeur des données et les données à conserver",step4_3:"4.3 Ajouter des métadonnées ",step4_4:"4.4 Anonymiser les données (si nécessaire)",step5:"Etape 5. Partage des données",step5_1:"5.1 Choisir un dépôt de données",step5_2:"5.2 Déterminer les conditions d’accès",step5_3:"5.3 Choix d’un identifiant pérenne",step5_4:"5.4 Attribuer une licence de réutilisation",step6:"Etape 6. Réutilisation des données",step6_1:"6.1 Évaluer la consultation et la réutilisation ",step6_2:"6.2 Préparer la citation du dataset"},LL={submit:"Soumettre"},OL={title1:"1.1 Rédiger le DMP",question1:`Essayez de résoudre cette énigme pour trouver les premières étapes de la feuille de route. Utilisez ce que vous voyez ici pour trouver la réponse.

Entrez dans chaque champ de saisie une des étapes. Vous n'avez pas besoin d'utiliser 1.1., B., C., E., F. et G. dans vos réponses.

Bonne chance !`,placeholder1:"Entrez votre réponse ",placeholder2_1:"1.1.",placeholder2_2:"B.",placeholder2_3:"C.",placeholder2_4:"E.",placeholder2_5:"F.",placeholder2_6:"G.",correctAnswers1:["Rédiger le DMP","Collecte des données","Documentation et métadonnées","Stockage et sauvegarde","Sélection et conservation","Partage de données"],correct1:"Correct, bien joué !",incorrect1:"Incorrect, essayez à nouveau ! Vous n'avez pas besoin d'utiliser 1.1., B., C., E., F. et G. dans vos réponses."},ML={title:"Erreur",incorrect77:"Incorrect, essayez à nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Il n'est pas recommandé d'utiliser de la ponctuation dans les noms de fichiers.",incorrect82:"Incorrect, essayez à nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Il existe une meilleure façon d'indiquer les versions d'un fichier.",incorrect25:"Incorrect, essayez à nouveau ! Ce fichier n'utilise pas les meilleures pratiques de nommage. Vous devriez éviter d'utiliser des caractères spéciaux et des espaces entre les mots."},DL={title:"Erreur",incorrect76:"Incorrect, ce fichier ne correspond pas à la meilleure version des données nettoyées. Les données sont complètement mélangées, certaines cellules sont vides sans explication et il y a des données dupliquées.",incorrect78:"Incorrect, ce fichier ne correspond pas à la meilleure version des données nettoyées. Les données ne sont pas normalisées, certaines cellules sont vides sans explication et il y a des données dupliquées."},$L={title:"Erreur",incorrect:"Mauvaise réponse ! Essayez à nouveau !"},FL={title:"Erreur",incorrect93:"Mauvaise réponse ! Dans notre cas, les données doivent être accessibles, en plus de la publication de l’article scientifique. En effet, l’équipe de recherche a souhaité être conforme aux bonnes pratiques de l’Open Access. Essayez à nouveau !",incorrect94:"Mauvaise réponse ! Dans notre cas, l’équipe de recherche ne peut pas rendre les données accessibles uniquement sur demande. Cette pratique ne respecte pas les recommandations de l’Open Access. Essayez à nouveau !",incorrect95:"Mauvaise réponse ! Dans notre cas, les données ne sont pas protégées par un embargo. En effet, un embargo est utilisé dans le cas où la publication se fait avant le partage des données. Cela peut être le cas quand les données sont liées à des enjeux commerciaux, comme un brevet par exemple. Essayez à nouveau !"},zL={title:"Erreur",incorrect:"Mauvaise réponse ! Essayez à nouveau !"},HL={checkRoadmap:"Vérifiez votre feuille de route"},qL={hints:{first:"Besoin d’une petite pause ? Un café pourrait vous aider.",second:"Comptez les post-it sur le bureau.",third:"Regardez la date à laquelle vous devez rendre le DMP.",fourth:"C’est un message codé ! L’indice est écrit directement à l’endroit où vous entrez la solution. Utilisez le titre comme clé de déchiffrement. Entrez à nouveau le code 29 et essayez de le déchiffrer.",fifth:"Avez-vous vérifié l'explorateur de fichiers ? Essayez peut-être de l'ouvrir.",sixth:"L’un des dossiers semble particulièrement intéressant.",seventh:"Quel fichier respecte le mieux les règles de nommage présentées par Santiago ?",eigth:"Vous avez organisé la structure de votre projet... assurez-vous maintenant que l'accès est accordé pour continuer."},solutions:{first:"Entrez le chiffre 8 (dans la tasse à café).",second:"Il y a 4 grands post-it sur le bureau -> Entrez le chiffre 4.",third:"Entrez le chiffre 29 (dans le carnet de notes).",fourth:`Entrez le chiffre 29 à nouveau et entrez la solution suivante:
Rédiger le DMP
données collectées
documentation et métadonnées
stockage et sauvegarde
sélection et conservation
partage des données`,fifth:"Cliquez sur l'icône de l'explorateur de fichiers à l'écran pour l'ouvrir.",sixth:`Cliquez sur le dossier "Dossier-Click-Version" pour l'ouvrir.`,seventh:"OFS_Continental_20200628_V01.png -> Entrez le chiffre 28.",eigth:`Cliquez sur le dossier "Acces_Accorde" pour passer a l'étape suivante.`}},jL={hints:{first:"Des clés peuvent aider à ouvrir des portes.",second:"Un petit peu de mathématiques sera certainement nécessaire.",third:"Regardez les noms des feuilles, que pourrait contenir ce fichier... ... + celui-ci ?",fourth:"Parfois, les exemples sont le meilleur moyen de comprendre.",fifth:"Le bureau de réception est un bon point de départ.",sixth:"Un petit peu de mathématiques sera certainement nécessaire.",seventh:"Est-ce qu'il n'y a pas un indice derrière la plante ?",eighth:"Il va falloir marcher un peu."},solutions:{first:"Entrez le chiffre 9 (dans la boîte à clés).",second:"Entrez le chiffre 15 (Numéro de sauvegarde : 7,5 x 2).",third:"Entrez le chiffre 31 (Addition des deux noms de feuilles -> 15 + 16).",fourth:"Entrez le chiffre 1 (examp1e.odt).",fifth:"Entrez le chiffre 36 (R36CEPTION sur le bureau d'accueil).",sixth:"Entrez le chiffre 7 (3 + 2 + 1 + 1 = 7).",seventh:"Cliquez sur le post-it derrière la plante pour le lire.",eighth:"Entrez le chiffre 11 (11ème étage)."}},UL={hints:{first:"Le livre pourrait vous donner un indice.",second:"Le chapitre du livre semble intéressant.",third:"Avez-vous quelque chose de prévu pour ce mois ?",fourth:"Parfois, nous devons être un peu patients avec la technologie.",fifth:"Avez-vous ouvert tous les fichiers qu'Inès vous a envoyés ?",sixth:"Il semble que vous devez + un fichier pour commencer l'analyse",seventh:"Quelle marque d'ordinateur préférez-vous ?",eighth:"L'infographie montre le nombre d’hôtels recensés.",ninth:"Avez-vous remarqué le tableau d'affichage derrière le bureau de votre collègue ?",tenth:"Contactez le service informatique."},solutions:{first:"Entrez le chiffre 17 (le titre du livre en chiffres romains).",second:"Entrez le chiffre 33 (le numéro de chapitre dans le livre).",third:"Cliquez sur le 19 du mois dans le calendrier pour continuer.",fourth:"Soyez patient, parfois la technologie met un peu plus de temps à charger. Cela se chargera automatiquement dans quelques secondes.",fifth:"Entrez les chiffres 57, 58 et 59 (les trois fichiers qu'Inès vous a envoyés).",sixth:"Entrez le chiffre 77 (le fichier correct (58) + le numéro du pc (19)).",seventh:`Entrez le chiffre 22 ("marque d'ordinateur" sur le bureau).`,eighth:"Entrez le chiffre 64 (le numéro est écrit en gras sur l'infographie).",ninth:"Cliquez sur le post-it sur le tableau d'affichage pour le lire.",tenth:"Entrez le chiffre 99 (le numéro de téléphone du service informatique sur le post-it)."}},BL={hints:{first:"Les écrans pourraient être utiles.",second:"Appelez Inès pour obtenir de l'aide.",third:"Inès vous a envoyé des fichiers, les avez-vous vérifiés ?",fourth:"Inès vous a envoyé des fichiers, les avez-vous vérifiés ?",fifth:"Trouvez tous les nombres dans la colonne « formats acceptables » et additionnez-les.",sixth:"Un logo peut parfois contenir des informations utiles.",seventh:"Appelez Santiago pour obtenir de l'aide.",eighth:"Santiago vous a envoyé un e-mail, l'avez-vous vérifié ?",ninth:"Certaines lettres sont mises en évidence, que pourraient-elles signifier ?",tenth:"Santiago vous a envoyé un e-mail, l'avez-vous vérifié ?",eleventh:"Rappelez Santiago pour obtenir des informations.",twelfth:"Santiago vous a donné un indice lors de l'appel, l'avez-vous vérifié ? (indice : 2020 = 2 + 0 + 2 + 0 = 4)",thirteenth:"Anne vous a envoyé dans le message le numéro du bureau où vous pouvez trouver l'ordinateur de Rachel. Pour relire le message, entrez le numéro 99."},solutions:{first:"Cliquez sur l'explorateur de fichiers sur l'écran pour l'ouvrir.",second:"Cliquez sur l'icône pour appeler Inès et obtenir de l'aide.",third:"Entrez le numéro 4 (FORM4T).",fourth:"Entrez le numéro 51 (EXTEN51ONS).",fifth:"Entrez le numéro 23 (5 + 4 + 2 + 3 + 3 + 3 + 3 = 23).",sixth:"Entrez le numéro 81 (côté du bureau).",seventh:"Cliquez sur l'icône pour appeler Santiago et obtenir de l'aide.",eighth:"Entrez le numéro 1 (un nouveau message).",ninth:"Entrez le numéro 61 (lisez les lettres mises en évidence pour trouver le nombre soixante-et-un).",tenth:"Cliquez sur le message de Santiago pour le lire.",eleventh:"Cliquez sur l'icône pour appeler Santiago et obtenir des informations.",twelfth:"Entrez le numéro 32 (additionnez tous les nombres des années).",thirteenth:"Entrez le numéro 47 (le numéro du bureau où vous pouvez trouver l'ordinateur de Rachel)."}},VL={hints:{first:"Tous les chiffres ne se cachent pas dans les fichiers, certains sont dans les noms.",second:"L'histoire est gravée sur l'écran.",third:"Appelez Santiago pour obtenir de l'aide.",fourth:"Santiago a expliqué comment l'équipe de recherche a choisi le dépôt, avez-vous vérifié ?",fifth:"Jack vous a envoyé un e-mail, l'avez-vous vérifié ?",sixth:"Jack a expliqué comment l'équipe de recherche a choisi les conditions d'accès, avez-vous vérifié ?",seventh:"Appelez Jack pour obtenir de l'aide.",eighth:"Jack vous a envoyé un email, avez-vous lu le fichier pdf en pièce jointe ?",ninth:"Laquelle des licences de réutilisation de droits d'auteur convient le mieux aux besoins de l'équipe de recherche ?",tenth:"Appelez Inès pour obtenir de l'aide.",eleventh:"Quel identifiant correspond à celui d'un jeu de données ? Inès vous l'a expliqué pendant l'appel. Rappelez-la si vous avez besoin de plus d'informations.",twelfth:"Est-ce Rachel qui a écrit sur la tablette ? Cela semble intéressant..."},solutions:{first:"Entrez le chiffre 3 (re3data.org sur l'écran)",second:"Entrez le chiffre 19 (CHICAGO COVID-19 RESPONSE sur l'écran).",third:"Appelez Santiago pour obtenir de l'aide.",fourth:"Entrez le chiffre 71 (seul dépôt avec des serveurs en Suisse et gratuit).",fifth:"Cliquez sur l'e-mail de Jack pour le lire.",sixth:"Entrez le chiffre 96 (les données sont librement disponibles et accessibles à tous).",seventh:"Appelez Jack pour obtenir de l'aide.",eighth:"Entrez le chiffre 8 (CopyEIGHT.pdf au lieu de copyright).",ninth:"Entrez le chiffre 6 (celui-ci permet la réutilisation des données à condition qu'ils soient crédités pour le travail).",tenth:"Appelez Inès pour obtenir de l'aide.",eleventh:"Entrez le chiffre 84 (le DOI est correct).",twelfth:"Cliquez sur la tablette pour continuer."}},WL={hints:{first:"Pour mémoriser les choses, il est parfois utile de les écrire.",second:"Parfois, il faut lire entre les lignes.",third:"J'ai l'impression qu'il y a des informations additionnelles cachées quelque part...",fourth:"Ajoutez les vues et les téléchargements pour toutes les versions."},solutions:{first:"Entrez le chiffre 2 (2 stylos au total sur la table).",second:"Entrez le chiffre 1 (Premières lettres en gras de : O-bservation N-écessaire E-videmment = ONE).",third:`Cliquez sur l'écran sur "See more details" pour voir les informations additionnelles.`,fourth:"Entrez le chiffre 1323 (1169 + 154 = 1323)."}},GL={one:"Cliquez pour ouvrir l'explorateur de fichiers",two:"Cliquez pour ouvrir le dossier",three:"On dirait que vous avez le bon accès...",four:"Est-ce que vous avez trouvé un poste-it ?",five:"Cliquez pour voir le post-it de plus près",six:"Cela pourrait être une date intéressante",seven:"Cliquez pour ouvrir le message",eight:"Cliquez pour voir la note de plus près",nine:"Cliquez ici pour ouvrir"},YL={congratulations:"Félicitations !!",congratulationsMessage:"Félicitations !! Vous avez relevé avec succès votre mission et complété votre feuille de route. Elle sera votre guide tout au long de votre propre projet. Vous avez fait du bon travail et vous pouvez enfin vous mettre en mode vacances ! Vous serez en forme en janvier, prêt à vous attaquer à votre projet de recherche et à assurer une bonne gestion de vos données.",roadmapTitle:"Votre Feuille de Route de Recherche",roadmapDescription:"Cette feuille de route sera votre guide tout au long de votre propre projet.",contactTitle:"Contact et Commentaires",nameLabel:"Votre Nom",namePlaceholder:"Entrez votre nom complet",emailLabel:"Adresse Email",emailPlaceholder:"Entrez votre adresse email",messageLabel:"Message",messagePlaceholder:"Partagez vos commentaires, questions ou suggestions...",sendMessage:"Envoyer le Message",sending:"Envoi en cours...",messageSent:"Message est en cours de traitement...",messageError:"Désolé, une erreur s'est produite lors de l'envoi. Veuillez réessayer.",theoryTitle:"Guide théorique complémentaire",theoryDescription:"Téléchargez notre guide complémentaire qui reprend toute la théorie présentée dans ce jeu ou accédez aux sources et documents de la version originale.",viewPDF:"Voir le guide complémentaire",openLink:"Voir le jeu original",optional:"RECOMMANDÉ",testGameTitle:"Défi de Connaissances",testGameDescription:"Testez votre compréhension avec 6 questions sur ce que vous avez appris.",challenge:"Défi",quickTest:"15 min",startTest:"Commencer le Défi",testGameNote:"C'est complètement optionnel mais fortement recommandé pour renforcer votre apprentissage !",backToMenu:"Retour au Menu Principal",EndMsg:"Ce jeu est basé sur<a href='https://doi.org/10.5281/zenodo.6391188' target='_blank' rel='noopener'> le jeu d'évasion pédagogique éponyme</a> créé par <a href='https://orcid.org/0000-0001-8197-4613' target='_blank' rel='noopener'>Myriam Jouhar</a>, <a href='https://orcid.org/0000-0002-4833-5219' target='_blank' rel='noopener'>Alexia Cavin-Trombert</a> et <a href='https://orcid.org/0000-0003-2250-9070' target='_blank' rel='noopener'>Pauline Melly</a> dans le cadre d'un projet de recherche du Master en Sciences de l'information à la Haute école de gestion de Genève en 2021. Cette version numérique a été créée par Johanna Summermatter dans le cadre d'un mémoire de Bachelor en informatique de gestion en 2025 à la HES-SO Valais-Wallis sur mandat des créatrices du jeu.",EndMsg2:"Merci d'avoir joué !"},KL={title:"URGENT : EMAIL du 23.12 à 17:45 DU FONDS NATIONAL SUISSE",subtitle:"TEST DES COMPETENCES GDR",description:"Cliquez sur les objets pour tester vos compétences. Si besoin, aidez-vous du <a href='https://hevs.allinone.io/media/document/22/mission-gdr-2024-guide-complementaire.pdf' target='_blank' rel='noopener'>guide complémentaire.</a>",introduction:{message:`Rappel : N'oubliez pas d'envoyer votre dépôt de projet préliminaire avant le 1e janvier.

Pour obtenir un délai supplémentaire, merci de nous transmettre une preuve de vos compétences en gestion des données de recherche.`,context:"Vous entendez les clés du garde de sécurité tinter dans le couloir. Le bâtiment ferme à 18h00 précises. Vous devez vraiment partir avant cette heure-là et avec tous les repas de fêtes prévus la semaine prochaine il ne vous sera pas possible de déposer votre projet préliminaire dans ce délai.",urgency:"Heureusement, vous avez maintenant complété votre checklist et reçu les conseils de Santiago, Inès et Jack.",security:"Faites le test pour démontrer vos nouvelles compétences en gestion des données et obtenir le délai supplémentaire.",return:"Ne pas faire le test maintenant (retour page de fin)",handleMyself:"Réaliser le test"},timer:{timeRemaining:"Temps Restant"},quizzes:{computer:{title:"Crise de sauvegarde des données",question:`Vous avez travaillé sur votre analyse de données la semaine dernière dans le train. Votre fichier est stocké sur votre ordinateur portable personnel. Par sécurité, vous avez également fait une sauvegarde sur votre clé USB. 

Malheureusement, en quittant le train, vous avez oublié votre sac à dos (avec votre ordinateur portable et votre clé USB) dans le train. Après une semaine, il n'a toujours pas été retrouvé, ce qui signifie que vous devrez recommencer la phase de collecte de données de votre projet. 

Selon la règle 3-2-1-1-0, qu'auriez-vous dû faire pour minimiser le risque de perte de vos données ?`,options:["Toujours avoir au moins deux clés USB différentes","Sauvegarder une copie des données sur le serveur réseau de votre institution qui est sauvegardé quotidiennement","Toujours avoir au moins 2 copies en ligne","Sauvegarder une copie des données sur Dropbox"]},books:{title:"Versions de nettoyage des données",question:`Nettoyage des données terminé, quelle version utiliser ? 

VERSION A : hotel_cleaned_quick.csv
- 347 cellules vides remplies avec "0" 
- 89 doublons supprimés 
- Fichier original écrasé (économiser l'espace de stockage)
- Prêt pour l'analyse

VERSION B : hotel_cleaned_documented.csv
- 347 cellules vides marquées comme "NA"
- 89 doublons supprimés
- Données brutes sauvegardées séparément comme "hotel_raw_backup.csv"
- Toutes les étapes documentées dans "cleaning_protocol.txt"
- Prêt pour l'analyse

VERSION C : hotel_cleaned_fast.csv
- Toutes les lignes avec cellules vides complètement supprimées (521 hôtels perdus !)
- Données très propres
- Traitement rapide possible
- Original supprimé`,options:["Version A : hotel_cleaned_quick.csv","Version B : hotel_cleaned_documented.csv","Version C : hotel_cleaned_fast.csv"]},cabinet:{title:"Chaos de nommage des fichiers",question:`Au secours ! 

Le dossier de projet contient ces fichiers mélangés :

- hotel data 2024-03-15 v1.csv
- HOTEL-ANALYSIS_FINAL!!!.xlsx
- hotel_survey_20240315_AG_v01.csv
- Final Results (copy).pdf
- hotel_data_FINAL_FINAL.xlsx

L'équipe est complètement perdue :
- Personne ne sait quel fichier est actuel
- Des espaces et caractères spéciaux partout
- Aucun versionnage cohérent
- Date parfois présente, parfois absente

Quel fichier respecte le mieux les conventions de nommage recommandées ?`,options:["hotel data 2024-03-15 v1.csv","HOTEL-ANALYSIS_FINAL!!!.xlsx","hotel_survey_20240315_AG_v01.csv","Final Results (copy).pdf","hotel_data_FINAL_FINAL.xlsx"]},mouse:{title:"Ordre du cycle de vie RDM",question:`Chaos ! La feuille de route RDM est complètement mélangée !

Votre collègue a laissé 6 Post-its, mais le vent les a fait s'envoler de l'écran :

🟡(1) "Traitement et analyse des données"
🟢(2) "Conception et planification du projet"
🔵(3) "Collecte/création des données"
🟠(4) "Réutilisation des données"
🟣(5) "Préservation et archivage des données"
🔴(6) "Partage des données"

Selon le cycle de vie RDM : Dans quel ordre ces 6 phases doivent-elles être exécutées ?`,options:["🟢 - 🔵 - 🟡 - 🟣 - 🔴 - 🟠","🟡 - 🟢 - 🔵 - 🟣 - 🔴 - 🟠","🟢 - 🔵 - 🟡 - 🔴 - 🟣 - 🟠","🔵 - 🟢 - 🟡 - 🟣 - 🔴 - 🟠"],sequenceHint:{title:"🔐 SÉQUENCE DE DÉVERROUILLAGE RÉVÉLÉE :",subtitle:"Les couleurs des Post-its montrent l'ordre final de déverrouillage :",steps:["1er : 🟢 Planification","2e : 🔵 Collecte","3e : 🟡 Analyse","4e : 🟣 Archivage","5e : 🔴 Partage","6e : 🟠 Réutilisation"]}},server:{title:"Sélection d'entrepôt",question:"Vous cherchez un entrepôt pour partager vos données. Parmi les critères ci-dessous, lequel n'utiliserez-vous PAS pour guider votre choix ?",options:["La possibilité de choisir les conditions d'accès aux données","L'attribution d'un identifiant unique (DOI)","La possibilité de choisir une licence de réutilisation","La possibilité d'utiliser plusieurs formats de fichiers ouverts","Une politique claire de préservation à long terme","La beauté de l'interface"]},phone:{title:"Documentation des données",question:"Plusieurs fichiers peuvent être utilisés pour documenter votre projet de recherche. Parmi les options suivantes, laquelle n'est PAS directement liée à la documentation des données ?",options:["Fichier README","Plan de gestion des données (PGD)","Livre de codes","Protocole de recherche","Diapositives présentées lors d'un colloque"]}},modal:{completed:"✓ TERMINÉ - Mode Révision",correctAnswer:"Réponse Correcte :",close:"Fermer",submit:"Soumettre"},success:{title:"Délai supplémentaire accordé !",message:"Félicitations ! Vous avez démontré avec succès vos compétences en gestion des données et sauvé vos vacances. Vous pourrez déposer votre projet le 30 janvier.",continue:"Retour à la page de fin"},errors:{incorrectAnswer:"Réponse incorrecte. Veuillez réessayer."}},QL={startScreen:xL,intro:TL,congrats:kL,tutorial:AL,timer:RL,phone:NL,roadmap:PL,riddle:LL,riddle1:OL,riddle2:ML,riddle3:DL,riddle4:$L,riddle5:FL,riddle6:zL,hints:HL,level1:qL,level2:jL,level3:UL,level4:BL,level5:VL,level6:WL,click:GL,endScreen:YL,emergencyGame:KL},JL=O0({locale:localStorage.getItem("lang")||"en",fallbackLocale:"en",messages:{en:IL,fr:QL}}),Jo=Av(Ov);Jo.use(Mv());Jo.use(zi);Jo.use(JL);Jo.mount("#app");
